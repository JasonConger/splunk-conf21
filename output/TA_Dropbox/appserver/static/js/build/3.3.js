webpackJsonp([3,6],{"views/shared/map/Master":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/jquery"),r=i("stubs/i18n"),s=i("require/underscore"),a=i("shim/splunk.util"),l=a.sprintf,h=i("contrib/jg_lib/graphics/Color"),u=i("contrib/jg_lib/utils/FunctionUtil"),c=i("models/Base"),p=i("splunk/charting/ExternalLegend"),d=i("splunk/mapping/Map"),m=i("splunk/mapping/layers/ChoroplethLayer"),f=i("splunk/mapping/layers/PieMarkerLayer"),g=i("splunk/mapping/parsers/LatLonBoundsParser"),_=i("splunk/mapping/parsers/LatLonParser"),v=i("splunk/palettes/ColorCodes"),y=i("splunk/palettes/FieldColorPalette"),b=i("splunk/palettes/ListColorPalette"),w=i("splunk/parsers/ArrayParser"),x=i("splunk/parsers/BooleanParser"),P=i("splunk/parsers/ColorParser"),L=i("splunk/parsers/NumberParser"),C=i("splunk/parsers/ObjectParser"),M=i("splunk/parsers/StringParser"),T=(i("splunk/mapping/utils/GeoJsonUtils"),i("views/shared/viz/Base")),k=i("util/console"),A=i("splunk/mapping/controls/ResetZoomControl"),E=i("splunk/mapping/axis/NumericAxis"),N=i("splunk/mapping/controls/NumericalLegend"),S=i("util/general_utils"),D=i("splunk/mapping/controls/CategoricalVisualLegend"),B=(i("views/shared/map/Master.pcss"),{output_mode:"json_cols",show_metadata:!0,show_empty_fields:"True",offset:0}),I={fieldColors:"",seriesColors:"["+v.toPrefixed(v.CATEGORICAL,"0x").join(",")+"]","data.maxClusters":"100",showTiles:"1","tileLayer.tileOpacity":"1","tileLayer.url":"/splunkd/__raw/services/mbtiles/splunk-tiles/{z}/{x}/{y}","tileLayer.subdomains":"[a,b,c]","tileLayer.minZoom":"0","tileLayer.maxZoom":"7","tileLayer.invertY":"false","tileLayer.attribution":"","map.scrollZoom":0,"map.panning":!0,"markerLayer.markerOpacity":"1","markerLayer.markerMinSize":"10","markerLayer.markerMaxSize":"50",drilldown:"all","choroplethLayer.colorMode":"auto","choroplethLayer.maximumColor":"0xDB5800","choroplethLayer.minimumColor":"0x2F25BA","choroplethLayer.neutralPoint":"0","choroplethLayer.shapeOpacity":"0.75","choroplethLayer.colorBins":"5","choroplethLayer.showBorder":"1",layerType:"marker"},O=/^display\.visualizations\.mapping\./;return T.extend({moduleId:n.id,_map:null,_markerLayer:null,_choroplethLayer:null,_externalLegend:null,_fieldColorPalette:null,_seriesColorPalette:null,_choroplethColorPalette:null,_choroplethColorMode:null,_choroplethAutoDetectedColorMode:"sequential",_choroplethMinimumColor:h.fromNumber(0),_choroplethNeutralColor:h.fromNumber(16777215),_choroplethMaximumColor:h.fromNumber(0),_choroplethNullColor:h.fromNumber(13750737),_numericLegend:null,_numericAxis:null,_propertyValues:null,_booleanParser:null,_numberParser:null,_stringParser:null,_colorParser:null,_numberArrayParser:null,_stringArrayParser:null,_colorArrayParser:null,_numberObjectParser:null,_colorObjectParser:null,_latLonParser:null,_latLonBoundsParser:null,_maxClusters:100,_isPrinting:!1,_prePrintCenter:null,_prePrintZoom:0,_drilldown:"all",_layerType:null,initialize:function(t){this.model.config||(this.model.config=new c),T.prototype.initialize.apply(this,arguments),this.options=t||{},this.$el.width(this.options.width||"100%"),this.$el.height(this.options.height||"100%"),this._map_boundsChanged=u.bind(this._map_boundsChanged,this),this._map_mapClicked=u.bind(this._map_mapClicked,this),this._propertyValues={},this._booleanParser=x.getInstance(),this._numberParser=L.getInstance(),this._stringParser=M.getInstance(),this._colorParser=P.getInstance(),this._numberArrayParser=w.getInstance(this._numberParser),this._stringArrayParser=w.getInstance(this._stringParser),this._colorArrayParser=w.getInstance(this._colorParser),this._numberObjectParser=C.getInstance(this._numberParser),this._colorObjectParser=C.getInstance(this._colorParser),this._latLonParser=_.getInstance(),this._latLonBoundsParser=g.getInstance(),this._seriesColorPalette=new b,this._fieldColorPalette=new y(null,this._seriesColorPalette),this._externalLegend=new p,this._categoricalVisualLegend=new D,this._externalLegend.connect(),this._markerLayer=new f,this._markerLayer.set("legend",this._externalLegend),this._markerLayer.set("markerColorPalette",this._fieldColorPalette),this._numericAxis=new E,this._numericLegend=new N,this._choroplethColorPalette=new b(null,!0),this._updateChoroplethColorPalette(),this._choroplethLayer=new m,this._choroplethLayer.set("colorPalette",this._choroplethColorPalette),this._numericLegend.set("axis",this._numericAxis),this._categoricalVisualLegend.set("colorPalette",this._fieldColorPalette),this._categoricalVisualLegend.set("legend",this._externalLegend),this._choroplethLayer.set("legend",this._externalLegend),this._numericLegend.set("colorPalette",this._choroplethColorPalette),this._map=new d,this._updateDataBounds(),this._map.formatNumber=this._formatNumber,this._map.formatDegrees=this._formatDegrees;var e=this.model.config.get("display.visualizations.mapping.map.zoom"),i=this.model.config.get("display.visualizations.mapping.map.center");this._map.on("boundsChanged",this._map_boundsChanged.bind(this)),this._map.on("mapClicked",this._map_mapClicked),this._map.appendTo(this.$el),this._map.fitWorld(!0),this._reset_zoom=new A({originalZoom:e,originalCenter:i}),this._map.addControl(this._reset_zoom),this.$el.find(".leaflet-top").css("z-index","50"),this.$el.on("mouseenter",".legend-elem",function(t){var e=o(t.currentTarget).data().fieldName;this._choroplethLayer.set("selectedField",""+e),this._numericLegend.set("selectedField",""+e),this._categoricalVisualLegend.set("selectedField",""+e)}.bind(this)),this.$el.on("mouseleave",".legend-elem",function(t){this._choroplethLayer.set("selectedField",null),this._numericLegend.set("selectedField",null),this._categoricalVisualLegend.set("selectedField",null)}.bind(this))},getCenter:function(){return this._map.get("center").normalize()},getZoom:function(){return this._map.get("zoom")},getLatLonBounds:function(){return this._map.getLatLonBounds().normalize()},getScrollWheelZoom:function(){return this._map.leafletMap.scrollWheelZoom._enabled},getPostProcessSearch:function(){var t=this._map.getLatLonBounds().normalize();return"marker"===this._layerType?"geofilter south="+t.s+" west="+t.w+" north="+t.n+" east="+t.e+" maxclusters="+this._maxClusters:"geomfilter min_y="+t.s+" min_x="+t.w+" max_y="+t.n+" max_x="+t.e},getMaxClusters:function(){return"marker"===this._layerType?this._maxClusters:2e3},formatData:function(){var t=null;t=this.model.searchData.has("rows")?this._extractRowData(this.model.searchData):this._extractColumnData(this.model.searchData),k.debug("Updating map data to",t);var e=[];if(this._layerType=this.model.config.get("display.visualizations.mapping.type"),"marker"===this._layerType&&this._markerLayer)this._markerLayer.set("data",t?t.data:null),this._markerLayer.set("fields",t?this._filterFields(t.fields):null);else if("choropleth"===this._layerType&&this._choroplethLayer){if(!s(t.fields).contains("geom"))return this._choroplethLayer.set("featureIdFieldName",null),this._choroplethLayer.set("data",null),void this._choroplethLayer.set("fields",null);var i,n=t.data[0]._featureIdField;if(n&&(i=s.union([n],this._filterFields(t.fields))),i&&i.length>1){for(var o=i[1],r=0;r<t.data.length;r++)e.push(t.data[r][o]);e.length>0&&(this._choroplethAutoDetectedColorMode=S.valuesAreNumeric(e)?"sequential":"categorical"),this.model.config.set({autoDetectedColorMode:this._choroplethAutoDetectedColorMode},{transient:!0}),"auto"===this._choroplethColorMode&&this._updateChoroplethToMatchColorMode()}this._choroplethLayer.set("featureIdFieldName",i?i[0]:null),this._choroplethLayer.set("data",t?t.data:null),this._choroplethLayer.set("fields",t?i:null)}else k.log("cannot update layer data because of incorrect layerType, OR the _layerType hasn't been initialized!")},updateView:function(t,e,i){var n,o=(i(),this._propertyValues),r={};for(n in o)o.hasOwnProperty(n)&&(r[n]=null);var s=I;for(n in s)s.hasOwnProperty(n)&&(r[n]=s[n]);var a,l=this.model.config?this.model.config.toJSON():{};for(n in l)l.hasOwnProperty(n)&&O.test(n)&&(a=l[n],null!=a&&""!==a&&(r[n.replace(O,"")]=a));r.hasOwnProperty("map.zoom")&&(this._setMapProperty("map.zoom",r["map.zoom"]),this._reset_zoom.setOriginalZoom(r["map.zoom"])),r.hasOwnProperty("map.center")&&(this._setMapProperty("map.center",r["map.center"]),this._reset_zoom.setOriginalCenter(r["map.center"])),r.hasOwnProperty("map.fitBounds")&&this._setMapProperty("map.fitBounds",r["map.fitBounds"]);var h=r["choroplethLayer.colorMode"];"auto"===h||"sequential"===h||"divergent"===h||"categorical"===h?this._choroplethColorMode=h:delete r["choroplethLayer.colorMode"],"divergent"!==this._getComputedColorMode()&&(r["choroplethLayer.minimumColor"]=null,r["choroplethLayer.neutralPoint"]=null);for(n in r)r.hasOwnProperty(n)&&this._setMapProperty(n,r[n])},onAddedToDocument:function(){this._map.updateSize()},remove:function(){return this._map.off("boundsChanged",this._map_boundsChanged),this._map.off("mapClicked",this._map_mapClicked),this._map.dispose(),this._markerLayer.off("rendered",this._onDataLayerRendered,this),this._choroplethLayer.off("rendered",this._onDataLayerRendered,this),this._externalLegend.close(),T.prototype.remove.apply(this,arguments)},onShow:function(){this._map.updateSize(),this._map.validate(),T.prototype.onShow.call(this)},_updateDataBounds:function(){var t=this.model.config;if(t){var e=this._map.getLatLonBounds().normalize();t.set({"display.visualizations.mapping.data.bounds":this._latLonBoundsParser.valueToString(e)})}},_needsPropertyUpdate:function(t){if(!t)return!1;for(var e in t)if(t.hasOwnProperty(e)&&"display.visualizations.mapping.data.bounds"!==e)return!0;return!1},_extractRowData:function(t){var e={},i=this._getNormalizedFieldNames(t),n=t.get("rows");if(i&&n){var o,r,s,a,l,h=i.length,u=n.length;for(e.fields=i.concat(),e.data=[],a=0;a<u;a++){for(r=n[a],o=Math.min(r.length,h),s={},l=0;l<o;l++)s[i[l]]=r[l];e.data.push(s)}}return e},_extractColumnData:function(t){var e={},i=this._getNormalizedFieldNames(t),n=t.get("columns");if(i&&n){var o,r,s,a=Math.min(i.length,n.length),l=a>0?n[0].length:0;for(r=1;r<a;r++)l=Math.min(l,n[r].length);for(e.fields=i.slice(0,a),e.data=[],r=0;r<l;r++){for(o={},s=0;s<a;s++)o[i[s]]=n[s][r];e.data.push(o)}}return e},_getNormalizedFieldNames:function(t){return s(t.get("fields")).map(function(t){return s.isString(t)?t:t.name})},_filterFields:function(t){if(!t)return null;for(var e,i=[],n=0,o=t.length;n<o;n++)e=t[n],e&&"_"!==e.charAt(0)&&i.push(e);return i},_setMapProperty:function(t,e){if(e=null!=e?String(e):null,this._propertyValues[t]!=e)switch(null!=e?this._propertyValues[t]=e:delete this._propertyValues[t],t){case"fieldColors":var i=s.extend({NULL:this._choroplethNullColor},this._colorObjectParser.stringToValue(e));this._fieldColorPalette.set("fieldColors",i);break;case"seriesColors":this._seriesColorPalette.set("colors",this._colorArrayParser.stringToValue(e));break;case"data.maxClusters":var n=this._numberParser.stringToValue(e);this._maxClusters=n<1/0?Math.max(Math.floor(n),64):100,this._updateDataParams();break;case"map.center":var o=this._latLonParser.stringToValue(e);o&&this._map.set("center",o);break;case"map.zoom":var r=this._numberParser.stringToValue(e);isNaN(r)||this._map.set("zoom",r);break;case"map.fitBounds":var a=this._latLonBoundsParser.stringToValue(e);a&&this._map.fitBounds(a);break;case"map.scrollZoom":var l=this._booleanParser.stringToValue(e);l?this._map.leafletMap.scrollWheelZoom.enable():this._map.leafletMap.scrollWheelZoom.disable();break;case"map.panning":var h=this._booleanParser.stringToValue(e);h?this._map.leafletMap.dragging.enable():this._map.leafletMap.dragging.disable();break;case"drilldown":this._drilldown=this._stringParser.stringToValue(e);break;case"showTiles":this._map.set("showTiles",this._booleanParser.stringToValue(e));break;case"tileLayer.tileOpacity":this._map.set("tileOpacity",this._numberParser.stringToValue(e));break;case"tileLayer.url":this._map.set("tileURL",this._resolveURL(e));break;case"tileLayer.subdomains":this._map.set("tileSubdomains",this._stringArrayParser.stringToValue(e));break;case"tileLayer.minZoom":this._map.set("tileMinZoom",this._numberParser.stringToValue(e));break;case"tileLayer.maxZoom":this._map.set("tileMaxZoom",this._numberParser.stringToValue(e));break;case"tileLayer.invertY":this._map.set("tileInvertY",this._booleanParser.stringToValue(e));break;case"tileLayer.attribution":this._map.set("tileAttribution",this._stringParser.stringToValue(e));break;case"markerLayer.markerOpacity":this._markerLayer.set("markerOpacity",this._numberParser.stringToValue(e));break;case"markerLayer.markerMinSize":this._markerLayer.set("markerMinSize",this._numberParser.stringToValue(e));break;case"markerLayer.markerMaxSize":this._markerLayer.set("markerMaxSize",this._numberParser.stringToValue(e));break;case"choroplethLayer.colorMode":var u=this._getComputedColorMode();"sequential"!==u&&"divergent"!==u||this._updateChoroplethColorPalette(),this._updateChoroplethToMatchColorMode();break;case"choroplethLayer.maximumColor":this._choroplethMaximumColor=this._colorParser.stringToValue(e),this._updateChoroplethColorPalette();break;case"choroplethLayer.minimumColor":this._choroplethMinimumColor=this._colorParser.stringToValue(e),this._updateChoroplethColorPalette();break;case"choroplethLayer.colorBins":var c=this._numberParser.stringToValue(e);this._choroplethLayer.set("bins",c),this._numericLegend.set("bins",c);break;case"choroplethLayer.neutralPoint":var p=null!=e?this._numberParser.stringToValue(e):NaN;this._choroplethLayer.set("neutralPoint",p),this._numericLegend.set("neutralPoint",p);break;case"choroplethLayer.shapeOpacity":this._choroplethLayer.set("shapeOpacity",this._numberParser.stringToValue(e));break;case"choroplethLayer.showBorder":var d=this._booleanParser.stringToValue(e);this._choroplethLayer.set("borderWidth",d?1:0);break;case"legend.placement":var m="none"!==e;this._numericLegend.set("isVisible",m),this._categoricalVisualLegend.set("isVisible",m);break;case"type":"marker"===e?(this._map.removeLayer(this._choroplethLayer),this._choroplethLayer.off("rendered",this._onDataLayerRendered,this),this._map.addLayer(this._markerLayer),this._markerLayer.on("rendered",this._onDataLayerRendered,this),this._map.removeControl(this._numericLegend),this._map.removeControl(this._categoricalVisualLegend),this._updateDataParams()):"choropleth"===e?(this._map.removeLayer(this._markerLayer),this._markerLayer.off("rendered",this._onDataLayerRendered,this),this._map.addLayer(this._choroplethLayer),this._choroplethLayer.on("rendered",this._onDataLayerRendered,this),this._updateChoroplethToMatchColorMode(),this._updateDataParams()):k.log("cannot initialize customize layer because of incorrect _layerType!")}},_updateChoroplethColorPalette:function(){"divergent"===this._getComputedColorMode()?this._choroplethColorPalette.set("colors",[this._choroplethMinimumColor,this._choroplethNeutralColor,this._choroplethMaximumColor]):this._choroplethColorPalette.set("colors",[this._choroplethNeutralColor,this._choroplethMaximumColor])},_updateChoroplethToMatchColorMode:function(){var t=this._getComputedColorMode();"categorical"===t?(this._map.isCategorical=!0,this._choroplethLayer.set("axis",null),this._choroplethLayer.set("legend",this._externalLegend),this._choroplethLayer.set("colorPalette",this._fieldColorPalette),this._map.removeControl(this._numericLegend),this._map.addControl(this._categoricalVisualLegend)):(this._map.isCategorical=!1,this._choroplethLayer.set("legend",null),this._choroplethLayer.set("axis",this._numericAxis),this._choroplethLayer.set("colorPalette",this._choroplethColorPalette),this._map.removeControl(this._categoricalVisualLegend),this._map.addControl(this._numericLegend))},_getComputedColorMode:function(){return"auto"===this._choroplethColorMode?this._choroplethAutoDetectedColorMode:this._choroplethColorMode},_resolveURL:function(t){var e=t?a.trim(t):t;if(e&&"/"===e.charAt(0)){var i="/"===e.charAt(e.length-1);e=a.make_url(e);var n="/"===e.charAt(e.length-1);n!=i&&(e=i?e+"/":e.substring(0,e.length-1)),t=e}return t},_formatNumber:function(t){var e=Math.abs(t);return e>0&&(e<.001||e>=1e9)?r.format_scientific(t,"##0E0"):r.format_decimal(t)},_formatDegrees:function(t,e){var i=Math.abs(t),n=Math.floor(i),o=""+n,r=60*(i-n),a=Math.floor(r),h=a<10?"0"+a:""+a,u=60*(r-a),c=Math.floor(u),p=c<10?"0"+c:""+c,d="";return t>0?d="ns"===e?s("N").t():s("E").t():t<0&&(d="ns"===e?s("S").t():s("W").t()),c>0?l("%(degrees)s°%(minutes)s'%(seconds)s\"%(direction)s",{degrees:o,minutes:h,seconds:p,direction:d}):a>0?l("%(degrees)s°%(minutes)s'%(direction)s",{degrees:o,minutes:h,direction:d}):l("%(degrees)s°%(direction)s",{degrees:o,direction:d})},onConfigChange:function(t){var e=s(t).chain().keys().any(function(t){return 0===t.indexOf("display.visualizations.mapping.")}).value();e&&(t.hasOwnProperty("display.visualizations.mapping.type")&&this.invalidate("formatDataPass"),this.invalidate("updateViewPass"))},_shouldUpdateViewOnDataChange:function(){return!1},_map_boundsChanged:function(t){this._isPrinting||(this._updateDataBounds(),this._updateDataParams(),this.model.config.set({currentMapZoom:this.getZoom(),currentMapCenter:this.getCenter().clone()},{transient:!0}),this.trigger("boundsChanged",{}))},_map_mapClicked:function(t){this._isPrinting||"none"===this._drilldown||this.trigger("drilldown",{data:t.data,fields:t.fields,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,type:"geoviz"})},onPrintStart:function(t){this._isPrinting||(this._isPrinting=!0,this._prePrintCenter=this._map.get("center"),this._prePrintZoom=this._map.get("zoom"),this._map.updateSize(),this._map.validate())},onPrintEnd:function(t){this._isPrinting&&(this._map.set("center",this._prePrintCenter),this._map.set("zoom",this._prePrintZoom),this._prePrintCenter=null,this._prePrintZoom=0,this._isPrinting=!1)},_onDataLayerRendered:function(){this._map.off("tilesLoaded.change",this._handleTileLoadOnce,this),this._map.get("tilesLoaded")?this._onViewUpdated():this._map.on("tilesLoaded.change",this._handleTileLoadOnce,this)},_handleTileLoadOnce:function(){this._onViewUpdated(),this._map.off("tilesLoaded.change",this._handleTileLoadOnce,this)},_updateDataParams:function(){this._layerType=this.model.config.get("display.visualizations.mapping.type"),this._layerType&&this.model.searchDataParams.set(s.extend({},B,{search:this.getPostProcessSearch(),count:this.getMaxClusters()}))}},{DEFAULT_PROPERTY_VALUES:I})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/utils/FunctionUtil":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class");return o(n.id,function(t){var e=Array.prototype.slice;t.bind=function(t,i){if(arguments.length<3)return function(){return t.apply(i,arguments)};var n=e.call(arguments,2);return function(){return t.apply(i,n.concat(e.call(arguments)))}}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"splunk/charting/ExternalLegend":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/splunk.legend"),r=i("contrib/jg_lib/Class"),s=i("contrib/jg_lib/utils/FunctionUtil"),a=i("splunk/charting/Legend");return r(n.id,a,function(t,e){var i=0;this._id=null,this._isConnected=!1,this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,this.constructor=function(){e.constructor.call(this),this._external_setLabels=s.bind(this._external_setLabels,this),this._external_labelIndexMapChanged=s.bind(this._external_labelIndexMapChanged,this),this._id="splunk-charting-ExternalLegend-"+ ++i},this.connect=function(){this.close(),o.register(this._id),o.addEventListener("setLabels",this._external_setLabels),o.addEventListener("labelIndexMapChanged",this._external_labelIndexMapChanged),this._isConnected=!0},this.close=function(){this._isConnected&&(this._isConnected=!1,o.removeEventListener("labelIndexMapChanged",this._external_labelIndexMapChanged),o.removeEventListener("setLabels",this._external_setLabels),o.unregister(this._id))},this.isConnected=function(){return this._isConnected},this.getNumLabelsOverride=function(){if(this._isConnected){var t=this._cachedExternalNumLabels;return t<0&&(t=this._cachedExternalNumLabels=o.numLabels()),t}return-1},this.getLabelIndexOverride=function(t){if(this._isConnected){var e=this._cachedExternalLabelMap;e||(e=this._cachedExternalLabelMap={});var i=e[t];return null==i&&(i=e[t]=o.getLabelIndex(t)),i}return-1},this.updateLabelsOverride=function(t){return!!this._isConnected&&(this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,o.setLabels(this._id,t),!0)},this._external_setLabels=function(){this.notifySettingLabels()},this._external_labelIndexMapChanged=function(){this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,this.notifyLabelIndexMapChanged()}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/charting/Legend":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/events/ChainedEvent"),s=i("contrib/jg_lib/events/Event"),a=i("contrib/jg_lib/events/EventData"),l=i("contrib/jg_lib/events/MEventTarget"),h=i("contrib/jg_lib/events/MListenerTarget"),u=i("contrib/jg_lib/events/MObservableTarget"),c=i("contrib/jg_lib/properties/MPropertyTarget"),p=i("contrib/jg_lib/properties/ObservableProperty"),d=i("contrib/jg_lib/utils/ArrayUtil"),m=i("contrib/jg_lib/utils/Map");return o(n.id,Object,function(t,e){o.mixin(this,l,h,u,c),this.settingLabels=new s("settingLabels",a),this.labelIndexMapChanged=new r("labelIndexMapChanged",this.change),this.labels=new p("labels",Array,[]).readFilter(function(t){return t.concat()}).writeFilter(function(t){return t?t.concat():[]}).onChange(function(t){this._updateLabelMap()}),this.actualLabels=new p("actualLabels",Array,[]).readOnly(!0).readFilter(function(t){return t.concat()}),this._targetMap=null,this._targetList=null,this._labelMap=null,this._labelList=null,this._isSettingLabels=!1,this.constructor=function(){e.constructor.call(this),this._targetMap=new m,this._targetList=[],this._labelMap={},this._labelList=[]},this.register=function(t){if(null==t)throw new Error("Parameter target must be non-null.");var e=this._targetMap.get(t);e||(e={labels:null},this._targetMap.set(t,e),this._targetList.push(e))},this.unregister=function(t){if(null==t)throw new Error("Parameter target must be non-null.");var e=this._targetMap.get(t);if(e){var i=d.indexOf(this._targetList,e);i>=0&&this._targetList.splice(i,1),this._targetMap.del(t),this._updateLabelMap()}},this.setLabels=function(t,e){if(null==t)throw new Error("Parameter target must be non-null.");if(null!=e&&!o.isArray(e))throw new Error("Parameter labels must be of type Array.");var i=this._targetMap.get(t);i&&(i.labels=e?e.concat():null,this.notifySettingLabels())},this.getLabelIndex=function(t){if(null==t)throw new Error("Parameter label must be non-null.");if(!o.isString(t))throw new Error("Parameter label must be of type String.");var e=this.getLabelIndexOverride(t);if(e<0){var i=this._labelMap[t];e=null!=i?i:-1}return e},this.getNumLabels=function(){var t=this.getNumLabelsOverride();return t<0&&(t=this._labelList.length),t},this.notifySettingLabels=function(){if(!this._isSettingLabels)try{this._isSettingLabels=!0,this.fire(this.settingLabels,new a),this._updateLabelMap()}finally{this._isSettingLabels=!1}},this.notifyLabelIndexMapChanged=function(){this.fire(this.labelIndexMapChanged,new a)},this.getNumLabelsOverride=function(){return-1},this.getLabelIndexOverride=function(t){return-1},this.updateLabelsOverride=function(t){return!1},this._updateLabelMap=function(){var t,e,i,n,o,r,s,a=this._labelList,l=!1,h={},u=[],c=this._targetList;for(e=this.getInternal("labels"),n=0,r=e.length;n<r;n++)i=String(e[n]),null==h[i]&&(h[i]=u.length,u.push(i));for(n=0,r=c.length;n<r;n++)if(t=c[n],e=t.labels)for(o=0,s=e.length;o<s;o++)i=String(e[o]),null==h[i]&&(h[i]=u.length,u.push(i));if(u.length!=a.length)l=!0;else for(n=0,r=u.length;n<r;n++)if(u[n]!==a[n]){l=!0;break}l&&(this._labelMap=h,this._labelList=u,this.setInternal("actualLabels",u.concat()),this.updateLabelsOverride(u.concat())||this.notifyLabelIndexMapChanged())}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/events/MListenerTarget":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/events/Event"),r=i("contrib/jg_lib/events/MEventTarget"),s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/TrieMap"),l=i("contrib/jg_lib/utils/WeakMap");return s(n.id,function(t){var e=new l,i=function(t,i){var n=e.get(t);if(!n){if(i===!1)return null;n=new a,e.set(t,n)}return n},n=function(t){e.del(t)};this.isListenerTarget=!0,this.listenOn=function(t,e,n,a,l){if(null==t)throw new Error("Parameter target must be non-null.");if(!t.isEventTarget)throw new Error("Parameter target must have mixin "+s.getName(r)+".");if(e=o.resolve(t,e),null==n)throw new Error("Parameter listener must be non-null.");if(!s.isFunction(n))throw new Error("Parameter listener must be of type Function.");if(null!=l&&!s.isNumber(l))throw new Error("Parameter priority must be of type Number.");null==a&&(a=this);var h=i(this),u=[t,e,n,a];return h.set(u,u),t.on(e,n,a,l),this},this.listenOff=function(t,e,a,l){var h=null;if(null!=l){if(null==t)throw new Error("Parameter target must be non-null.");if(!t.isEventTarget)throw new Error("Parameter target must have mixin "+s.getName(r)+".");if(e=o.resolve(t,e),null==a)throw new Error("Parameter listener must be non-null.");if(!s.isFunction(a))throw new Error("Parameter listener must be of type Function.");h=[t,e,a,l]}else if(null!=a){if(null==t)throw new Error("Parameter target must be non-null.");if(!t.isEventTarget)throw new Error("Parameter target must have mixin "+s.getName(r)+".");if(e=o.resolve(t,e),!s.isFunction(a))throw new Error("Parameter listener must be of type Function.");h=[t,e,a,this]}else if(null!=e){if(null==t)throw new Error("Parameter target must be non-null.");if(!t.isEventTarget)throw new Error("Parameter target must have mixin "+s.getName(r)+".");e=o.resolve(t,e),h=[t,e]}else if(null!=t){if(!t.isEventTarget)throw new Error("Parameter target must have mixin "+s.getName(r)+".");h=[t]}var u=i(this,!1);if(!u)return this;var c=u.values(h);u.clear(h),0===u.size()&&n(this);for(var p=0,d=c.length;p<d;p++)h=c[p],h[0].off(h[1],h[2],h[3]);return this},this.isListening=function(t,e){var n=null;if(null!=e){if(null==t)throw new Error("Parameter target must be non-null.");if(!t.isEventTarget)throw new Error("Parameter target must have mixin "+s.getName(r)+".");e=o.resolve(t,e),n=[t,e]}else if(null!=t){if(!t.isEventTarget)throw new Error("Parameter target must have mixin "+s.getName(r)+".");n=[t]}var a=i(this,!1);return!!a&&a.size(n)>0}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/events/MObservableTarget":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/events/Event"),r=i("contrib/jg_lib/events/EventData"),s=i("contrib/jg_lib/Class");return s(n.id,function(t){this.isObservableTarget=!0,this.change=new o("change",r)})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/properties/MPropertyTarget":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/properties/Property"),r=i("contrib/jg_lib/Class");return r(n.id,function(t){this.isPropertyTarget=!0,this.get=function(t){return t=o.resolve(this,t),t.get(this)},this.set=function(t,e){if(t=o.resolve(this,t),t.readOnly())throw new Error('Property "'+t.name()+'" is read-only.');if(!t.isValidType(e))throw new Error('Value assigned to property "'+t.name()+'" must be of type '+t.getTypeName()+".");return t.set(this,e),this},this.getInternal=function(t){return t=o.resolve(this,t),t.getInternal(this)},this.setInternal=function(t,e){if(t=o.resolve(this,t),!t.isValidType(e))throw new Error('Value assigned to property "'+t.name()+'" must be of type '+t.getTypeName()+".");return t.setInternal(this,e),this}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/properties/Property":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/Map"),s=i("contrib/jg_lib/utils/ObjectUtil"),a=i("contrib/jg_lib/utils/UID"),l=i("contrib/jg_lib/utils/WeakMap");return o(n.id,Object,function(t,e){var i="__DEBUG_PROPERTIES__";t.debug=!1;var n=new l;t.resolve=function(e,i,n){if(null==e)throw new Error("Parameter target must be non-null.");if(null==i)throw new Error("Parameter property must be non-null.");if(i instanceof t)return i;if(!o.isString(i))throw new Error("Parameter property must be of type String or "+o.getName(t)+".");var r=i;if(r.indexOf(".")<0)i=e[r];else{var s=r.split(".");i=e;for(var a=0,l=s.length;a<l&&(i=i[s[a]],null!=i);a++);}if(null!=i&&i instanceof t)return i;if(n!==!1)throw new Error('Unknown property "'+r+'".');return null};var h=function(t){var e=t.target,n=s.get(e,i);n||(n=e[i]={});var o=t.property,r=o.name()+" #"+a.get(o);n[r]=t.value};this._name=null,this._type=null,this._typeChecker=null,this._nullValue=null,this._defaultValue=null,this._readOnly=!1,this._getter=null,this._setter=null,this._readFilter=null,this._writeFilter=null,this._onRead=null,this._onWrite=null,this.constructor=function(t,e,i){if(null==t)throw new Error("Parameter name must be non-null.");if(!o.isString(t))throw new Error("Parameter name must be of type String.");if(null!=e&&!o.isFunction(e))throw new Error("Parameter type must be of type Function.");if(this._name=t,this._type=e||null,this._typeChecker=e?o.getTypeChecker(e):null,e===Number?this._nullValue=NaN:e===Boolean?this._nullValue=!1:this._nullValue=null,null==i&&(i=this._nullValue),!this.isValidType(i))throw new Error("Parameter defaultValue must be of type "+this.getTypeName()+".");this._defaultValue=i},this.name=function(){return this._name},this.type=function(){return this._type},this.defaultValue=function(){return this._defaultValue},this.readOnly=function(t){if(!arguments.length)return this._readOnly;if(null!=t&&!o.isBoolean(t))throw new Error("Parameter readOnly must be of type Boolean.");return this._readOnly=t===!0,this},this.getter=function(t){if(!arguments.length)return this._getter;if(null!=t&&!o.isFunction(t))throw new Error("Parameter getter must be of type Function.");return this._getter=t||null,this},this.setter=function(t){if(!arguments.length)return this._setter;if(null!=t&&!o.isFunction(t))throw new Error("Parameter setter must be of type Function.");return this._setter=t||null,this},this.readFilter=function(t){if(!arguments.length)return this._readFilter;if(null!=t&&!o.isFunction(t))throw new Error("Parameter readFilter must be of type Function.");return this._readFilter=t||null,this},this.writeFilter=function(t){if(!arguments.length)return this._writeFilter;if(null!=t&&!o.isFunction(t))throw new Error("Parameter writeFilter must be of type Function.");return this._writeFilter=t||null,this},this.onRead=function(t){if(!arguments.length)return this._onRead;if(null!=t&&!o.isFunction(t))throw new Error("Parameter onRead must be of type Function.");return this._onRead=t||null,this},this.onWrite=function(t){if(!arguments.length)return this._onWrite;if(null!=t&&!o.isFunction(t))throw new Error("Parameter onWrite must be of type Function.");return this._onWrite=t||null,this},this.get=function(t){this._onRead&&this._onRead.call(t);var e=this.getInternal(t);if(this._readFilter){var i=this._readFilter.call(t,e);if(i!==e){if(!this.isValidType(i))throw new Error('Value returned from readFilter for property "'+this.name()+'" must be of type '+this.getTypeName()+".");e=i}}return null==e&&(e=this._nullValue),e},this.set=function(t,e){if(null==e&&(e=this._nullValue),this._writeFilter){var i=this._writeFilter.call(t,e);if(i!==e){if(!this.isValidType(i))throw new Error('Value returned from writeFilter for property "'+this.name()+'" must be of type '+this.getTypeName()+".");e=i}}this.setInternal(t,e)&&this._onWrite&&this._onWrite.call(t)},this.getInternal=function(t){if(this._getter){var e=this._getter.call(t);if(!this.isValidType(e))throw new Error('Value returned from getter for property "'+this.name()+'" must be of type '+this.getTypeName()+".");return e}var i=this.getContext(t,!1);return i?this.readValue(i):this._defaultValue},this.setInternal=function(t,e){if(this._getter)return this._setter&&this._setter.call(t,e),!0;var i=this.getContext(t);if(i.isWriting)return!1;try{i.isWriting=!0,this.needsWrite(i,e)&&(this._setter&&this._setter.call(t,e),this.writeValue(i,e))}finally{i.isWriting=!1}return!0},this.getTypeName=function(){return this._type?o.getName(this._type)||this._name+".type":"*"},this.isValidType=function(t){return null==t||!this._typeChecker||this._typeChecker(t)},this.getContext=function(t,e){var i=n.get(t);if(!i){if(e===!1)return null;i=new r,n.set(t,i)}var o=i.get(this);if(!o){if(e===!1)return null;o={target:t,property:this},i.set(this,o),this.setupContext(o)}return o},this.delContext=function(t){var e=n.get(t);if(e){var i=e.get(this);i&&(e.del(this),0===e.size()&&n.del(t),this.teardownContext(i))}},this.setupContext=function(t){t.value=this._defaultValue,t.isWriting=!1},this.teardownContext=function(t){t.value=null},this.readValue=function(t){return t.value},this.writeValue=function(e,i){e.value=i,t.debug&&h(e)},this.needsWrite=function(t,e){return!0}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/properties/ObservableProperty":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/properties/MObservableProperty"),r=i("contrib/jg_lib/properties/Property"),s=i("contrib/jg_lib/Class");return s(n.id,r,function(t,e){s.mixin(this,o),this.constructor=function(t,i,n){e.constructor.call(this,t,i,n),this.initChangeEvent()},this.setupContext=function(t){e.setupContext.call(this,t),this.setupDependencySupport(t)},this.teardownContext=function(t){this.teardownDependencySupport(t),e.teardownContext.call(this,t)},this.writeValue=function(t,i){var n=t.value;this.teardownDependencyChangeHandler(t),e.writeValue.call(this,t,i),null!=i&&i.isEventTarget&&i.isObservableTarget&&i!==this.defaultValue()&&this.setupDependencyChangeHandler(t,[{target:i,event:i.change}]),this.notifyChange(t,n,i)},this.needsWrite=function(t,e){return this.hasChange(t,t.value,e)}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/properties/MObservableProperty":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/properties/PropertyEventData"),r=i("contrib/jg_lib/Class"),s=i("contrib/jg_lib/events/ChainedEvent"),a=i("contrib/jg_lib/events/MObservableTarget"),l=i("contrib/jg_lib/utils/ErrorUtil"),h=i("contrib/jg_lib/utils/FunctionUtil"),u=i("contrib/jg_lib/utils/Set");return r(n.id,function(t){this.change=null,this.isObservableProperty=!0,this._changeComparator=null,this._onChange=null,this.changeComparator=function(t){if(!arguments.length)return this._changeComparator;if(null!=t&&!r.isFunction(t))throw new Error("Parameter changeComparator must be of type Function.");return this._changeComparator=t||null,this},this.onChange=function(t){if(!arguments.length)return this._onChange;if(null!=t&&!r.isFunction(t))throw new Error("Parameter onChange must be of type Function.");return this._onChange=t||null,this},this.initChangeEvent=function(){this.change=new e(this)},this.setupDependencySupport=function(t){t._dependencyList=null,t._dependencyChangingSet=null,t._dependencyChangeHandler=null},this.teardownDependencySupport=function(t){this.teardownDependencyChangeHandler(t),t._dependencyChangingSet=null,t._dependencyChangeHandler=null},this.setupDependencyChangeHandler=function(t,e){if(!t._dependencyList&&0!==e.length){var i=t.target;if(i.isEventTarget&&i.isListenerTarget){e=t._dependencyList=e.concat(),t._dependencyChangingSet||(t._dependencyChangingSet=new u);var n=t._dependencyChangeHandler;n||(n=t._dependencyChangeHandler=h.bind(this.dependencyChangeHandler,this,t));for(var o,r=0,s=e.length;r<s;r++)o=e[r],i.listenOn(o.target,o.event,n,this,-(1/0))}}},this.teardownDependencyChangeHandler=function(t){var e=t._dependencyList;if(e){for(var i,n=t.target,o=t._dependencyChangeHandler,r=e.length-1;r>=0;r--)i=e[r],n.listenOff(i.target,i.event,o,this);t._dependencyList=null}},this.dependencyChangeHandler=function(t,e){if(!t.isWriting&&!e.isPropagationStopped()){var i=t._dependencyChangingSet;if(!i.has(e))try{i.add(e),t.target.fire(this.change,e)}finally{i.del(e)}}},this.notifyChange=function(t,e,i){var n=t.target;n.isEventTarget&&n.fire(this.change,new o(this,e,i))},this.hasChange=function(t,e,i){return this._changeComparator?!!this._changeComparator.call(t.target,e,i):e!==i&&(e===e||i===i)};var e=r(s,function(t,e){this._property=null,this.constructor=function(t){e.constructor.call(this,t.name()+".change",a.change),this._property=t},this.notifyListeners=function(t,i){var n=this._property._onChange;if(n){var o=i.currentEvent,r=i.currentTarget;i.currentEvent=this,i.currentTarget=t;try{n.call(t,i)}catch(t){l.nonBlockingThrow(t)}if(i.currentEvent=o,i.currentTarget=r,i.isImmediatePropagationStopped())return}e.notifyListeners.call(this,t,i)}})})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/properties/PropertyEventData":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/events/EventData");return o(n.id,r,function(t,e){this.property=null,this.oldValue=null,this.newValue=null,this.constructor=function(t,e,i){this.property=t,this.oldValue=e,this.newValue=i}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"splunk/mapping/Map":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/jquery"),r=(i("require/underscore"),i("shim/leaflet")),s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/async/Pass"),l=i("contrib/jg_lib/events/ChainedEvent"),h=i("contrib/jg_lib/events/Event"),u=i("contrib/jg_lib/events/EventData"),c=i("contrib/jg_lib/properties/ObservableArrayProperty"),p=i("contrib/jg_lib/properties/ObservableProperty"),d=i("contrib/jg_lib/properties/Property"),m=i("contrib/jg_lib/utils/ArrayUtil"),f=i("contrib/jg_lib/utils/FunctionUtil"),g=i("contrib/jg_lib/utils/NumberUtil"),_=i("contrib/jg_lib/utils/StringUtil"),v=i("splunk/events/GenericEventData"),y=i("splunk/mapping/LatLon"),b=i("splunk/mapping/LatLonBounds"),w=i("splunk/mapping/controls/ControlBase"),x=i("splunk/mapping/layers/LayerBase"),P=i("splunk/viz/VizBase"),L=i("util/htmlcleaner");return i("shim/jquery.resize"),s(n.id,P,function(t,e){this.updateLeafletMapSizePass=new a("updateLeafletMapSize",.001),this.updateTilesPass=new a("updateTiles",.002),this.boundsChanged=new l("boundsChanged",this.change),this.mapClicked=new h("mapClicked",v),this.center=new d("center",y).getter(function(){return y.fromLeaflet(this.leafletMap.getCenter())}).setter(function(t){t=t&&t.isFinite()?t.clone():new y,this.validate(),this.leafletMap.setView(t.toLeaflet(),this.leafletMap.getZoom(),!0),this._checkBoundsChanged(),clearTimeout(this._setCenterTimeout),this._setCenterTimeout=setTimeout(f.bind(function(){this.leafletMap.setView(t.toLeaflet(),this.leafletMap.getZoom(),!0),this._checkBoundsChanged()},this),500)}),this.zoom=new d("zoom",Number).getter(function(){return this.leafletMap.getZoom()}).setter(function(t){t=t>=0&&t<1/0?t:0,this.validate(),this.leafletMap.setView(this.leafletMap.getCenter(),t,!0),this._checkBoundsChanged()}),this.tileURL=new p("tileURL",String,null).onChange(function(t){this.invalidate("updateTilesPass")}),this.tileSubdomains=new c("tileSubdomains",String,["a","b","c"]).onChange(function(t){this.invalidate("updateTilesPass")}),this.tileMinZoom=new p("tileMinZoom",Number,0).writeFilter(function(t){return t>=0&&t<1/0?Math.floor(t):0}).onChange(function(t){this.invalidate("updateTilesPass")}),this.tileMaxZoom=new p("tileMaxZoom",Number,1/0).writeFilter(function(t){return t>=0&&t<1/0?Math.floor(t):1/0}).onChange(function(t){this.invalidate("updateTilesPass")}),this.tileInvertY=new p("tileInvertY",Boolean,!1).onChange(function(t){this.invalidate("updateTilesPass")}),this.tileOpacity=new p("tileOpacity",Number,1).writeFilter(function(t){return t>0&&t<1/0?Math.min(t,1):0}).onChange(function(t){this.invalidate("updateTilesPass")}),this.tileAttribution=new p("tileAttribution",String,null).onChange(function(t){this.invalidate("updateTilesPass")}),this.showTiles=new p("showTiles",Boolean,!0).onChange(function(t){this.invalidate("updateTilesPass")}),this.tilesLoaded=new p("tilesLoaded",Boolean,!1).readOnly(!0),this.leafletMap=null,this.formatNumber=null,this.formatDegrees=null,this.isCategorical=!1,this._tooltip=null,this._tooltipMetadata=null,this._tileLayer=null,this._layers=null,this._controls=null,this._width=0,this._height=0,this._bounds=null,this._setCenterTimeout=0,this._clicks=0,this._doubleClickTimeout=null,this.constructor=function(){e.constructor.call(this),this.addStyleClass("splunk-mapping-Map"),this.setStyle({position:"relative",width:"100%",height:"100%",overflow:"hidden",background:"none"}),this.updateSize=f.bind(this.updateSize,this),this._leafletMap_moveend=f.bind(this._leafletMap_moveend,this),this._leafletMap_zoomend=f.bind(this._leafletMap_zoomend,this),this._self_mouseOver=f.bind(this._self_mouseOver,this),this._self_mouseOut=f.bind(this._self_mouseOut,this),this._self_mouseMove=f.bind(this._self_mouseMove,this),this._self_click=f.bind(this._self_click,this),this._self_dbl_click=f.bind(this._self_dbl_click,this),this.leafletMap=new r.Map(this.element,{center:new r.LatLng(0,0),zoom:0,trackResize:!1,worldCopyJump:!1}),this.leafletMap.attributionControl.setPrefix(""),this.leafletMap.on("moveend",this._leafletMap_moveend),this.leafletMap.on("zoomend",this._leafletMap_zoomend),this._tooltip=new i,this._layers=[],this._controls=[],this.$element.bind("mouseover",this._self_mouseOver),this.$element.bind("mouseout",this._self_mouseOut),this.$element.bind("mousemove",this._self_mouseMove),this.$element.bind("click",this._self_click),this.$element.bind("dblclick",this._self_dbl_click)},this.updateLeafletMapSize=function(){this.isValid("updateLeafletMapSizePass")||(this.leafletMap.invalidateSize(),clearTimeout(this.leafletMap._sizeTimer),this.leafletMap.fire("moveend"),this.markValid("updateLeafletMapSizePass"))},this.updateTiles=function(){if(!this.isValid("updateTilesPass")){var t=this.leafletMap,e=this._tileLayer;e&&(e.off("load"),e.off("unload"),t.removeLayer(e),this._tileLayer=null);var i={};i.opacity=this.getInternal("tileOpacity"),i.subdomains=this.getInternal("tileSubdomains"),i.minZoom=this.getInternal("tileMinZoom"),i.maxZoom=Math.max(this.getInternal("tileMinZoom"),this.getInternal("tileMaxZoom")),i.tms=this.getInternal("tileInvertY"),i.attribution=this.getInternal("tileAttribution");var n=this.getInternal("showTiles")?this.getInternal("tileURL"):null;n&&(e=this._tileLayer=new r.TileLayer(n,i),e.on("load",function(){this.setInternal("tilesLoaded",!0)},this),e.on("unload",function(){this.setInternal("tilesLoaded",!1)},this),t.addLayer(e,!0)),t.options.minZoom=i.minZoom,t.options.maxZoom=i.maxZoom,t.setZoom(t.getZoom()),this.markValid("updateTilesPass"),this._checkBoundsChanged()}},this.addLayer=function(t){if(null==t)throw new Error("Parameter layer must be non-null.");if(!(t instanceof x))throw new Error("Parameter layer must be of type "+s.getName(x)+".");var e=this._layers;m.indexOf(e,t)>=0||(e.push(t),this.leafletMap.addLayer(t.leafletLayer),t.onAddedToMap(this))},this.removeLayer=function(t){if(null==t)throw new Error("Parameter layer must be non-null.");if(!(t instanceof x))throw new Error("Parameter layer must be of type "+s.getName(x)+".");var e=this._layers,i=m.indexOf(e,t);i<0||(t.onRemovedFromMap(this),this.leafletMap.removeLayer(t.leafletLayer),e.splice(i,1))},this.addControl=function(t){if(null===t)throw new Error("Parameter control must be non-null.");if(!(t instanceof w))throw new Error("Parameter control must be of type "+s.getName(w)+".");var e=this._controls;m.indexOf(e,t)>=0||(e.push(t),this.leafletMap.addControl(t.leafletControl),t.onAddedToMap(this))},this.removeControl=function(t){if(null===t)throw new Error("Parameter control must be non-null.");if(!(t instanceof w))throw new Error("Parameter control must be of type "+s.getName(w)+".");var e=this._controls,i=m.indexOf(e,t);i<0||(t.onRemovedFromMap(this),this.leafletMap.removeControl(t.leafletControl),e.splice(i,1))},this.fitWorld=function(t){if(null!=t&&!s.isBoolean(t))throw new Error("Parameter viewportInside must be of type Boolean.");this.fitBounds(new b(-60,-180,85,180),t)},this.fitBounds=function(t,e){if(null==t)throw new Error("Parameter latLonBounds must be non-null.");if(!(t instanceof b))throw new Error("Parameter latLonBounds must be of type "+s.getName(b)+".");if(null!=e&&!s.isBoolean(e))throw new Error("Parameter viewportInside must be of type Boolean.");t=t.isFinite()?t:new b(-60,-180,85,180),e=e===!0,clearTimeout(this._setCenterTimeout);var i=this.leafletMap.getBoundsZoom(t.toLeaflet(),e);this.leafletMap.setView(this.leafletMap.getCenter(),i,!0);var n=this.leafletMap.latLngToLayerPoint(t.getNW().toLeaflet()),o=this.leafletMap.latLngToLayerPoint(t.getSE().toLeaflet()),a=new r.Point((n.x+o.x)/2,(n.y+o.y)/2),l=this.leafletMap.layerPointToLatLng(a);this.leafletMap.setView(l,i,!0),this._checkBoundsChanged()},this.getLatLonBounds=function(){return b.fromLeaflet(this.leafletMap.getBounds())},this.updateSize=function(){var t=this.$element.width(),e=this.$element.height();t===this._width&&e===this._height||this.$element.is(":visible")&&(this._width=t,this._height=e,this.leafletMap.invalidateSize(),this.invalidate("updateLeafletMapSizePass"),this._checkBoundsChanged())},this.dispose=function(){clearTimeout(this._setCenterTimeout);for(var t=this._layers.concat(),i=t.length-1;i>=0;i--)this.removeLayer(t[i]);for(var n=this._controls.concat(),o=n.length-1;o>=0;o--)this.removeControl(n[o]);this.$element.off("elementResize"),e.dispose.call(this)},this.onAppend=function(){this.updateSize(),this.$element.on("elementResize",this.updateSize)},this._checkBoundsChanged=function(){var t=this._bounds,e=this.getLatLonBounds();t&&t.equals(e)||(this._bounds=e,this.fire("boundsChanged",new u))},this._checkBoundsDefault=function(t){return 0!==t.e&&(0!==t.w&&(0!==t.n&&0!==t.s))},this._updateTooltip=function(t){var e=this._tooltip,i=this._getMetadataFromElement(t);if(i&&i!==this._tooltipMetadata){this._tooltipMetadata=i;var n=i.data,r=i.fields,s=i.sliceList,a=i.tooltipFields,l=i.tooltipLatLng,h=i.tooltipOffsetRadius;if(n&&(r||a)&&l){var u,c,p,d,m="";if(m+='<table style="border: 0 none; border-spacing: 0; border-collapse: collapse;">',s){for(p=0,d=Math.min(r.length,2);p<d;p++)u=r[p],m+="<tr>",m+='<td style="padding: 0; text-align: left; white-space: nowrap; color: #333333;">'+_.escapeHTML(u)+':&nbsp;&nbsp;</td><td style="padding: 0; text-align: right; white-space: nowrap;">'+_.escapeHTML(this._formatDegrees(n[u],0===p?"ns":"ew"))+"</td>",m+="</tr>";for(p=0,d=s.length;p<d;p++)c=s[p],m+="<tr>",m+='<td style="padding: 0; text-align: left; white-space: nowrap; color: #'+(16777216|c.series.color).toString(16).substring(1)+';">'+_.escapeHTML(c.series.name)+':&nbsp;&nbsp;</td><td style="padding: 0; text-align: right; white-space: nowrap;">'+_.escapeHTML(this._formatNumber(c.value))+"</td>",m+="</tr>"}else if(a)for(p=0,d=a.length;p<d;p++){u=a[p];var f=n[u];f=u!==i.valueFieldName||this.isCategorical||isNaN(parseFloat(f))?_.escapeHTML(f):this._formatNumber(f),m+="<tr>",m+='<td style="padding: 0; text-align: left; white-space: nowrap; color: #333333;">'+_.escapeHTML(u)+':&nbsp;&nbsp;</td><td style="padding: 0; text-align: right; white-space: nowrap;">'+f+"</td>",m+="</tr>"}else for(p=0,d=r.length;p<d;p+=2)u=r[p],m+="<tr>",m+='<td style="padding: 0; text-align: left; white-space: nowrap; color: #333333;">'+_.escapeHTML(u)+':&nbsp;&nbsp;</td><td style="padding: 0; text-align: right; white-space: nowrap;">'+_.escapeHTML(n[u])+"</td>",m+="</tr>";m+="</table>",e.setLatLng(l),e.setOffsetRadius(h),e.setContent(m),this.leafletMap.openPopup(e)}else this.leafletMap.closePopup()}else if(!i&&this._tooltipMetadata){var g=o.contains(this._tooltip._container,t);g&&this._tooltip!==t||(this._tooltipMetadata=null,this.leafletMap.closePopup())}},this._getMetadataFromElement=function(t){for(;t;){if(t[x.METADATA_KEY])return t[x.METADATA_KEY];t=t.parentNode}return null},this._formatNumber=function(t){var e=this.formatNumber;return"function"==typeof e?e(Number(t)):String(t)},this._formatDegrees=function(t,e){var i=this.formatDegrees;return"function"==typeof i?i(Number(t),e):String(t)},this._leafletMap_moveend=function(t){this._checkBoundsChanged()},this._leafletMap_zoomend=function(t){this._checkBoundsChanged()},this._self_mouseOver=function(t){this._updateTooltip(t.target)},this._self_mouseOut=function(t){this._updateTooltip(t.relatedTarget)},this._self_mouseMove=function(t){this._updateTooltip(t.target)},this._self_dbl_click=function(t){clearTimeout(this._doubleClickTimeout)},this._self_click=function(t){if(!this.leafletMap.dragging||!this.leafletMap.dragging.moved()){var e=this._getMetadataFromElement(t.target);if(e&&e.data&&e.fields){t.preventDefault();var i={};for(var n in e.data)i[n]=e.data[n];var o=e.fields.concat();clearTimeout(this._doubleClickTimeout),this._doubleClickTimeout=setTimeout(function(){this.fire("mapClicked",new v({data:i,fields:o,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,jQueryEvent:t,originalEvent:t.originalEvent}))}.bind(this),500)}}};var i=r.Popup.extend({options:{paddingX:5,paddingY:5},_offsetRadius:0,initialize:function(t){t=r.Util.extend(t||{},{maxWidth:1/0,maxHeight:1/0,autoPan:!1,closeButton:!1}),r.Popup.prototype.initialize.call(this,t)},setOffsetRadius:function(t){return this._offsetRadius=t,this._update(),this},_initLayout:function(){r.Popup.prototype._initLayout.call(this),this._tipContainer.style.display="none",this._container.style.pointerEvents="none"},_updatePosition:function(){var t=this._map,e=t.containerPointToLayerPoint(new r.Point(0,0)),i=t.containerPointToLayerPoint(t.getSize()),n=e.x,o=e.y,s=i.x,a=i.y,l=this._container,h=l.offsetWidth,u=l.offsetHeight,c=r.Browser.any3d,p=this._offsetRadius,d=this.options.paddingX,m=this.options.paddingY,f=t.latLngToLayerPoint(this._latlng),_=f.x>(n+s)/2?-h-p-d:p+d,v=g.maxMin(f.y-u/2,a-u-m,o+m)-f.y;c&&r.DomUtil.setPosition(l,f);var y=_+(c?0:f.x),b=v+(c?0:f.y);l.style.left=Math.round(y)+"px",l.style.top=Math.round(b)+"px"}});r.Control.Attribution.include({_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions.hasOwnProperty(e)&&this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", "));var n=L.clean(i.join(" &#8212; "));this._container.innerHTML=n,this._container.style.display=n?"":"none"}}})})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"shim/leaflet":function(t,e,i){var n,o;n=[i("contrib/leaflet/leaflet.css"),i(240)],o=function(t,e){return e&&e.Util&&(e.Util.getParamString=function(t,e){var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return(e&&e.indexOf("?")!==-1?"&":"?")+i.join("&")}),e}.apply(e,n),!(void 0!==o&&(t.exports=o))},"contrib/leaflet/leaflet.css":function(t,e,i){var n=i(239);"string"==typeof n&&(n=[[t.id,n,""]]);i(59)(n,{});n.locals&&(t.exports=n.locals)},239:function(t,e,i){e=t.exports=i(58)(),e.push([t.id,".leaflet-image-layer,.leaflet-layer,.leaflet-map-pane,.leaflet-marker-icon,.leaflet-marker-pane,.leaflet-marker-shadow,.leaflet-overlay-pane,.leaflet-overlay-pane svg,.leaflet-popup-pane,.leaflet-shadow-pane,.leaflet-tile,.leaflet-tile-pane,.leaflet-zoom-box{position:absolute}.leaflet-container{overflow:hidden;outline:0}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-moz-user-select:none;-webkit-user-select:none;user-select:none}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-clickable{cursor:pointer}.leaflet-dragging,.leaflet-dragging .leaflet-clickable{cursor:move}.leaflet-container img{max-width:none!important}.leaflet-container img.leaflet-image-layer{max-width:15000px!important}.leaflet-tile-pane{z-index:2}.leaflet-objects-pane{z-index:3}.leaflet-overlay-pane{z-index:4}.leaflet-shadow-pane{z-index:5}.leaflet-marker-pane{z-index:6}.leaflet-popup-pane{z-index:7}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0}.leaflet-control{position:relative;z-index:7;pointer-events:auto}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-control-zoom{border-radius:7px;padding:5px;background:rgba(0,0,0,.25)}.leaflet-control-zoom a{background-color:hsla(0,0%,100%,.75)}.leaflet-control-layers a,.leaflet-control-zoom a{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-control-zoom a{border-radius:4px;width:19px;height:19px}.leaflet-control-zoom a:hover{background-color:#fff}.leaflet-touch .leaflet-control-zoom a{width:27px;height:27px}.leaflet-control-zoom-in{background-image:url("+i("contrib/leaflet/images/zoom-in.png")+");margin-bottom:5px}.leaflet-control-zoom-out{background-image:url("+i("contrib/leaflet/images/zoom-out.png")+")}.leaflet-control-layers{box-shadow:0 1px 7px #999;background:#f8f8f9;border-radius:8px}.leaflet-control-layers a{background-image:url("+i("contrib/leaflet/images/layers.png")+");width:36px;height:36px}.leaflet-touch .leaflet-control-layers a{width:44px;height:44px}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif;color:#333;background:#fff}.leaflet-control-layers input{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-container .leaflet-control-attribution{background-color:hsla(0,0%,100%,.7);box-shadow:0 0 5px #bbb;margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font:11px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;color:#000;line-height:1;font-size:10px;padding-bottom:2px;text-shadow:1px 1px 1px #fff;background-color:hsla(0,0%,100%,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;padding-top:1px;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-control-layers{border:5px solid #bbb}.leaflet-fade-anim .leaflet-popup,.leaflet-fade-anim .leaflet-tile{opacity:0;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup,.leaflet-fade-anim .leaflet-tile-loaded{opacity:1}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(.25,.1,.25,.75);transition:transform .25s cubic-bezier(.25,.1,.25,.75)}.leaflet-pan-anim .leaflet-tile,.leaflet-touching .leaflet-zoom-animated,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-popup{position:absolute;text-align:center}.leaflet-popup-content-wrapper{padding:1px;text-align:left}.leaflet-popup-content{margin:14px 20px}.leaflet-popup-tip-container{margin:0 auto;width:40px;height:20px;position:relative;overflow:hidden}.leaflet-popup-tip{width:15px;height:15px;padding:1px;margin:-8px auto 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 5px 0 0;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-container{background:#ddd}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #05f;background:#fff;opacity:.5}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-editing-icon{border-radius:2px}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;box-shadow:0 3px 10px #888;-moz-box-shadow:0 3px 10px #888;-webkit-box-shadow:0 3px 14px #999}.leaflet-popup-content-wrapper{border-radius:20px}.leaflet-popup-content{font:12px/1.4 Helvetica Neue,Arial,Helvetica,sans-serif}",""])},"contrib/leaflet/images/zoom-in.png":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUwRTZCRkI3NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUwRTZCRkI4NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTBFNkJGQjU2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTBFNkJGQjY2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7cwPMXAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAZSURBVHjaYmBkZGRgYACR2Fj4AV69AAEGAAauACW68QgkAAAAAElFTkSuQmCC"},"contrib/leaflet/images/zoom-out.png":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5MjRDMEQ5NjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5MjRDMERBNjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTkyNEMwRDc2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTkyNEMwRDg2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7uh53jAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAVSURBVHjaYmCEAQZsLPwAr16AAAMACdgAN9MxY1IAAAAASUVORK5CYII="},"contrib/leaflet/images/layers.png":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABJRJREFUeNqklk9IG1kcx78zk8mMhGRiYqKxJsE0CKVsWXtYFoqnHrSHWo899FLoSRYs6KE3ocUiJaFbkP4BqR4UqrCw6UFtaU+lKCsoeLGENJI/mubfmElIM5P5t5c1u7Mpaay/23uPeZ/33nz4vkfouo526vr16+jt7cWNGzdmASASidw7OjpCtVpFO3MQ7YLevn17lWGYVw6HowsAeJ4vSJJ0c3Fx8X2hUEC9Xm8J/C5obW3NQdP0a47jrvh8PlitVgBApVJBMpmEIAgfZVkeff78OV8ul6EoyulBa2trsyzLTnq9XpPT6YTZbDaM1+t1FItFpFIpRRTF8PLy8r1sNouvX7827e6boEgkcpWm6Vdut7vL4/Ggo6MDBEF8czG6rqNWqyGTySCXyxVkWb45Pz//nud5KIrSABpAKysr3Waz+Q+O46709fXBYrHAZDI17QJA0+4URUG1WkU6nYYgCB9VVR2dm5vjq9UqVFX9F7S6uhpiGGbi3LlzJofDAZqmDROpqgpRFEFRVKPNsmyjfVKyLIPneRweHiqSJD1ZWFiYKhaLIF68eDFCUdSSz+dzejwesCxrOCZd1xsKMwxjAEmSBIIgYLFYmr4RRRGZTAbJZLKoquotkyRJdLlcJkVRBAD09PQ0JqvVahBFESzLwmQyQVEUg1UEQUBRFGSzWbAsi46OjsYivnz5gmg0ilKpRNpsNrpxdI8ePfq9VCr9FggEKK/XC5IkQdM0WJYFSZItZdA0DaIoQpZlaJqGVCqFeDyu2u32uYWFhbuyLBtlePny5U+pVGqb53nmwoUL6O/vb6zypDRNAwCQJGnor9VqODg4wP7+PhwOh9Tb2/vzzMzMJ03ToOv6t2Wo1+vY2NiArusIBoPo6uoCSZJQVbUB0DQNFEVB0zQUCgXEYjEQBIGRkRGYzeaGDBMTE1MAWsuws7ODDx8+oLOzE16vF52dnQbQ8fExUqkUjo+PMTQ0hMuXL/+YDIFAAE6nE1tbW9je3obf74fH4wEAZDIZJBIJ+P1+jI2NgeM4SJJ0dhny+TzevHkDQRAAABzHYXh4GC6Xq6UMDx8+vNuUDO3IsLe3BwC4dOnSd2WYnJz81JR135Ph/1H03+hpJcOdO3fal8HlcsHv98NqtTbGdF1HpVJBIpFAPp8/mwwXL15EMBjEu3fvsLm5CZ/PZ5AhmUwiEAjg9u3bYBjm9DKcP38edrvdkAbZbBbr6+solUoAALvdjmvXrqG7u9uQEqVSCZ8/f24tw+PHj7sFQXitquovAwMD8Pv9YFnW8E92d3cBAIODg4Z+URSRSCQQjUZBUdRfHMeNTk9PZ1tefKFQaCSfzy9ZrVbnwMAA3G53SxlyuRyi0SgqlUrR5XLdun///saprvIHDx6EisXihM/nMwUCAdhsNoMM5XIZ8XgcyWRScTqdT549ezb1Q28GAJidne0WBOFPSZJ+DQaD6OvrAwCk02nEYjEwDLPFcdxYOBzOngTumZ5bMzMzI7lcbknTNOc/6V10u923wuHwRivAqUE2mw0URWF8fDwEAE+fPp1SVRXt1t8DAKzuGCketP3pAAAAAElFTkSuQmCC"},240:function(t,e){(function(){!function(t,i){var n,o;typeof e!=i+""?n=e:(o=t.L,n={},n.noConflict=function(){return t.L=o,this},t.L=n),n.version="0.4.5",n.Util={extend:function(t){for(var e,i=Array.prototype.slice.call(arguments,1),n=0,o=i.length;n<o;n++){e=i[n]||{};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),limitExecByInterval:function(t,e,i){var n,o;return function r(){var s=arguments;return n?void(o=!0):(n=!0,setTimeout(function(){n=!1,o&&(r.apply(i,s),o=!1)},e),t.apply(i,s),void 0)}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},splitWords:function(t){return t.replace(/^\s+|\s+$/g,"").split(/\s+/)},setOptions:function(t,e){return t.options=n.Util.extend({},t.options,e),t.options},getParamString:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+"="+t[i]);return"?"+e.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,i){var n=e[i];if(!e.hasOwnProperty(i))throw Error("No value provided for variable "+t);return n})},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var i,n,o=["webkit","moz","o","ms"];for(i=0;i<o.length&&!n;i++)n=t[o[i]+e];return n}function i(e){return t.setTimeout(e,1e3/60)}var o=t.requestAnimationFrame||e("RequestAnimationFrame")||i,r=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};n.Util.requestAnimFrame=function(e,r,s,a){return e=n.Util.bind(e,r),s&&o===i?void e():o.call(t,e,a)},n.Util.cancelAnimFrame=function(e){e&&r.call(t,e)}}(),n.Class=function(){},n.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},i=function(){};i.prototype=this.prototype;var o=new i;o.constructor=e,e.prototype=o;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&(e[r]=this[r]);return t.statics&&(n.Util.extend(e,t.statics),delete t.statics),t.includes&&(n.Util.extend.apply(null,[o].concat(t.includes)),delete t.includes),t.options&&o.options&&(t.options=n.Util.extend({},o.options,t.options)),n.Util.extend(o,t),e},n.Class.include=function(t){n.Util.extend(this.prototype,t)},n.Class.mergeOptions=function(t){n.Util.extend(this.prototype.options,t)};var r="_leaflet_events";n.Mixin={},n.Mixin.Events={addEventListener:function(t,e,i){var o,s,a,l=this[r]=this[r]||{};if("object"==typeof t){for(o in t)t.hasOwnProperty(o)&&this.addEventListener(o,t[o],e);return this}for(t=n.Util.splitWords(t),s=0,a=t.length;s<a;s++)l[t[s]]=l[t[s]]||[],l[t[s]].push({action:e,context:i||this});return this},hasEventListeners:function(t){return r in this&&t in this[r]&&this[r][t].length>0},removeEventListener:function(t,e,i){var o,s,a,l,h,u=this[r];if("object"==typeof t){for(o in t)t.hasOwnProperty(o)&&this.removeEventListener(o,t[o],e);return this}for(t=n.Util.splitWords(t),s=0,a=t.length;s<a;s++)if(this.hasEventListeners(t[s]))for(l=u[t[s]],h=l.length-1;h>=0;h--)(!e||l[h].action===e)&&(!i||l[h].context===i)&&l.splice(h,1);return this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;for(var i=n.Util.extend({type:t,target:this},e),o=this[r][t].slice(),s=0,a=o.length;s<a;s++)o[s].action.call(o[s].context||this,i);return this}},n.Mixin.Events.on=n.Mixin.Events.addEventListener,n.Mixin.Events.off=n.Mixin.Events.removeEventListener,n.Mixin.Events.fire=n.Mixin.Events.fireEvent,function(){var e=navigator.userAgent.toLowerCase(),o=!!t.ActiveXObject,r=o&&!t.XMLHttpRequest,s=e.indexOf("webkit")!==-1,a=e.indexOf("gecko")!==-1,l=e.indexOf("chrome")!==-1,h=t.opera,u=e.indexOf("android")!==-1,c=e.search("android [23]")!==-1,p=typeof orientation!=i+"",d=document.documentElement,m=o&&"transition"in d.style,f=s&&"WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix,g=a&&"MozPerspective"in d.style,_=h&&"OTransition"in d.style,v=!t.L_NO_TOUCH&&function(){
var t="ontouchstart";if(t in d)return!0;var e=document.createElement("div"),i=!1;return!!e.setAttribute&&(e.setAttribute(t,"return;"),"function"==typeof e[t]&&(i=!0),e.removeAttribute(t),e=null,i)}(),y="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)").matches;n.Browser={ua:e,ie:o,ie6:r,webkit:s,gecko:a,opera:h,android:u,android23:c,chrome:l,ie3d:m,webkit3d:f,gecko3d:g,opera3d:_,any3d:!t.L_DISABLE_3D&&(m||f||g||_),mobile:p,mobileWebkit:p&&s,mobileWebkit3d:p&&f,mobileOpera:p&&h,touch:v,retina:y}}(),n.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},n.Point.prototype={add:function(t){return this.clone()._add(n.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(n.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t,e){return new n.Point(this.x/t,this.y/t,e)},multiplyBy:function(t,e){return new n.Point(this.x*t,this.y*t,e)},distanceTo:function(t){t=n.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},clone:function(){return new n.Point(this.x,this.y)},toString:function(){return"Point("+n.Util.formatNum(this.x)+", "+n.Util.formatNum(this.y)+")"}},n.point=function(t,e,i){return t instanceof n.Point?t:t instanceof Array?new n.Point(t[0],t[1]):isNaN(t)?t:new n.Point(t,e,i)},n.Bounds=n.Class.extend({initialize:function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])},extend:function(t){return t=n.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new n.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new n.Point(this.min.x,this.max.y)},getTopRight:function(){return new n.Point(this.max.x,this.min.y)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof n.Point?n.point(t):n.bounds(t),t instanceof n.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=n.bounds(t);var e=this.min,i=this.max,o=t.min,r=t.max,s=r.x>=e.x&&o.x<=i.x,a=r.y>=e.y&&o.y<=i.y;return s&&a}}),n.bounds=function(t,e){return!t||t instanceof n.Bounds?t:new n.Bounds(t,e)},n.Transformation=n.Class.extend({initialize:function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new n.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}}),n.DomUtil={get:function(t){return"string"==typeof t?document.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),!i||"auto"===i){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i},getViewportOffset:function(t){var e=0,i=0,o=t,r=document.body;do{if(e+=o.offsetTop||0,i+=o.offsetLeft||0,o.offsetParent===r&&"absolute"===n.DomUtil.getStyle(o,"position"))break;if("fixed"===n.DomUtil.getStyle(o,"position")){e+=r.scrollTop||0,i+=r.scrollLeft||0;break}o=o.offsetParent}while(o);o=t;do{if(o===r)break;e-=o.scrollTop||0,i-=o.scrollLeft||0,o=o.parentNode}while(o);return new n.Point(i,e)},create:function(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=n.Util.falseFn)},enableTextSelection:function(){document.onselectstart=this._onselectstart,this._onselectstart=null},hasClass:function(t,e){return t.className.length>0&&RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},addClass:function(t,e){n.DomUtil.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},removeClass:function(t,e){function i(t,i){return i===e?"":t}t.className=t.className.replace(/(\S+)\s*/g,i).replace(/(^\s+|\s+$)/,"")},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if(n.Browser.ie){var i=!1,o="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(o)}catch(t){}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}},testProp:function(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){var e=n.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",o=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+o},getScaleString:function(t,e){var i=n.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),o=" scale("+t+") ";return i+o},setPosition:function(t,e,i){t._leaflet_pos=e,!i&&n.Browser.any3d?(t.style[n.DomUtil.TRANSFORM]=n.DomUtil.getTranslateString(e),n.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden")):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},n.Util.extend(n.DomUtil,{TRANSITION:n.DomUtil.testProp(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),TRANSFORM:n.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"])}),n.LatLng=function(t,e,i){var n=parseFloat(t),o=parseFloat(e);if(isNaN(n)||isNaN(o))throw Error("Invalid LatLng object: ("+t+", "+e+")");i!==!0&&(n=Math.max(Math.min(n,90),-90),o=(o+180)%360+(o<-180||180===o?180:-180)),this.lat=n,this.lng=o},n.Util.extend(n.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),n.LatLng.prototype={equals:function(t){if(!t)return!1;t=n.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=n.LatLng.MAX_MARGIN},toString:function(){return"LatLng("+n.Util.formatNum(this.lat)+", "+n.Util.formatNum(this.lng)+")"},distanceTo:function(t){t=n.latLng(t);var e=6378137,i=n.LatLng.DEG_TO_RAD,o=(t.lat-this.lat)*i,r=(t.lng-this.lng)*i,s=this.lat*i,a=t.lat*i,l=Math.sin(o/2),h=Math.sin(r/2),u=l*l+h*h*Math.cos(s)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}},n.latLng=function(t,e,i){return t instanceof n.LatLng?t:t instanceof Array?new n.LatLng(t[0],t[1]):isNaN(t)?t:new n.LatLng(t,e,i)},n.LatLngBounds=n.Class.extend({initialize:function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])},extend:function(t){return t="number"==typeof t[0]||t instanceof n.LatLng?n.latLng(t):n.latLngBounds(t),t instanceof n.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new n.LatLng(t.lat,t.lng,!0),this._northEast=new n.LatLng(t.lat,t.lng,!0)):t instanceof n.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*t,r=Math.abs(e.lng-i.lng)*t;return new n.LatLngBounds(new n.LatLng(e.lat-o,e.lng-r),new n.LatLng(i.lat+o,i.lng+r))},getCenter:function(){return new n.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new n.LatLng(this._northEast.lat,this._southWest.lng,!0)},getSouthEast:function(){return new n.LatLng(this._southWest.lat,this._northEast.lng,!0)},contains:function(t){t="number"==typeof t[0]||t instanceof n.LatLng?n.latLng(t):n.latLngBounds(t);var e,i,o=this._southWest,r=this._northEast;return t instanceof n.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=o.lat&&i.lat<=r.lat&&e.lng>=o.lng&&i.lng<=r.lng},intersects:function(t){t=n.latLngBounds(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>=e.lat&&o.lat<=i.lat,a=r.lng>=e.lng&&o.lng<=i.lng;return s&&a},toBBoxString:function(){var t=this._southWest,e=this._northEast;return[t.lng,t.lat,e.lng,e.lat].join(",")},equals:function(t){return!!t&&(t=n.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))}}),n.latLngBounds=function(t,e){return!t||t instanceof n.LatLngBounds?t:new n.LatLngBounds(t,e)},n.Projection={},n.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=n.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),r=t.lng*e,s=o*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new n.Point(r,s)},unproject:function(t){var e=n.LatLng.RAD_TO_DEG,i=t.x*e,o=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new n.LatLng(o,i,!0)}},n.Projection.LonLat={project:function(t){return new n.Point(t.lng,t.lat)},unproject:function(t){return new n.LatLng(t.y,t.x,!0)}},n.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)}},n.CRS.EPSG3857=n.Util.extend({},n.CRS,{code:"EPSG:3857",projection:n.Projection.SphericalMercator,transformation:new n.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),n.CRS.EPSG900913=n.Util.extend({},n.CRS.EPSG3857,{code:"EPSG:900913"}),n.CRS.EPSG4326=n.Util.extend({},n.CRS,{code:"EPSG:4326",projection:n.Projection.LonLat,transformation:new n.Transformation(1/360,.5,-1/360,.5)}),n.Map=n.Class.extend({includes:n.Mixin.Events,options:{crs:n.CRS.EPSG3857,fadeAnimation:n.DomUtil.TRANSITION&&!n.Browser.android23,trackResize:!0,markerZoomAnimation:n.DomUtil.TRANSITION&&n.Browser.any3d},initialize:function(t,e){e=n.Util.setOptions(this,e),this._initContainer(t),this._initLayout(),this._initHooks(),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(n.latLng(e.center),e.zoom,!0),this._initLayers(e.layers)},setView:function(t,e){return this._resetView(n.latLng(t),this._limitZoom(e)),this},setZoom:function(t){return this.setView(this.getCenter(),t)},zoomIn:function(){return this.setZoom(this._zoom+1)},zoomOut:function(){return this.setZoom(this._zoom-1)},fitBounds:function(t){var e=this.getBoundsZoom(t);return this.setView(n.latLngBounds(t).getCenter(),e)},fitWorld:function(){var t=new n.LatLng(-60,-170),e=new n.LatLng(85,179);return this.fitBounds(new n.LatLngBounds(t,e))},panTo:function(t){return this.setView(t,this._zoom)},panBy:function(t){return this.fire("movestart"),this._rawPanBy(n.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){if(t=n.latLngBounds(t),this.options.maxBounds=t,!t)return this._boundsMinZoom=null,this;var e=this.getBoundsZoom(t,!0);return this._boundsMinZoom=e,this._loaded&&(this._zoom<e?this.setView(t.getCenter(),e):this.panInsideBounds(t)),this},panInsideBounds:function(t){t=n.latLngBounds(t);var e=this.getBounds(),i=this.project(e.getSouthWest()),o=this.project(e.getNorthEast()),r=this.project(t.getSouthWest()),s=this.project(t.getNorthEast()),a=0,l=0;return o.y<s.y&&(l=s.y-o.y),o.x>s.x&&(a=s.x-o.x),i.y>r.y&&(l=r.y-i.y),i.x<r.x&&(a=r.x-i.x),this.panBy(new n.Point(a,l,!0))},addLayer:function(t){var e=n.Util.stamp(t);if(this._layers[e])return this;this._layers[e]=t,t.options&&!isNaN(t.options.maxZoom)&&(this._layersMaxZoom=Math.max(this._layersMaxZoom||0,t.options.maxZoom)),t.options&&!isNaN(t.options.minZoom)&&(this._layersMinZoom=Math.min(this._layersMinZoom||1/0,t.options.minZoom)),this.options.zoomAnimation&&n.TileLayer&&t instanceof n.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this));var i=function(){t.onAdd(this),this.fire("layeradd",{layer:t})};return this._loaded?i.call(this):this.on("load",i,this),this},removeLayer:function(t){var e=n.Util.stamp(t);if(this._layers[e])return t.onRemove(this),delete this._layers[e],this.options.zoomAnimation&&n.TileLayer&&t instanceof n.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this.fire("layerremove",{layer:t})},hasLayer:function(t){var e=n.Util.stamp(t);return this._layers.hasOwnProperty(e)},invalidateSize:function(t){var e=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var i=e.subtract(this.getSize()).divideBy(2,!0);return t===!0?this.panBy(i):(this._rawPanBy(i),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n.Util.bind(this.fire,this,"moveend"),200)),this},addHandler:function(t,e){if(e)return this[t]=new e(this),this.options[t]&&this[t].enable(),this},getCenter:function(){return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new n.LatLngBounds(e,i)},getMinZoom:function(){var t=this.options.minZoom||0,e=this._layersMinZoom||0,i=this._boundsMinZoom||0;return Math.max(t,e,i)},getMaxZoom:function(){var t=this.options.maxZoom===i?1/0:this.options.maxZoom,e=this._layersMaxZoom===i?1/0:this._layersMaxZoom;return Math.min(t,e)},getBoundsZoom:function(t,e){t=n.latLngBounds(t);var i,o,r,s=this.getSize(),a=this.options.minZoom||0,l=this.getMaxZoom(),h=t.getNorthEast(),u=t.getSouthWest(),c=!0;e&&a--;do a++,o=this.project(h,a),r=this.project(u,a),i=new n.Point(Math.abs(o.x-r.x),Math.abs(r.y-o.y)),c=e?i.x<s.x||i.y<s.y:i.x<=s.x&&i.y<=s.y;while(c&&a<=l);return c&&e?null:e?a:a-1},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new n.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size},getPixelBounds:function(){var t=this._getTopLeftPoint();return new n.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(n.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(n.point(t),e)},layerPointToLatLng:function(t){var e=n.point(t).add(this._initialTopLeftPoint);return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(n.latLng(t))._round();return e._subtract(this._initialTopLeftPoint)},containerPointToLayerPoint:function(t){return n.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return n.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(n.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(n.latLng(t)))},mouseEventToContainerPoint:function(t){return n.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=n.DomUtil.get(t);if(e._leaflet)throw Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;t.innerHTML="",n.DomUtil.addClass(t,"leaflet-container"),n.Browser.touch&&n.DomUtil.addClass(t,"leaflet-touch"),this.options.fadeAnimation&&n.DomUtil.addClass(t,"leaflet-fade-anim");var e=n.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),this._objectsPane=t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(n.DomUtil.addClass(t.markerPane,e),n.DomUtil.addClass(t.shadowPane,e),n.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return n.DomUtil.create("div",t,e||this._objectsPane)},_initializers:[],_initHooks:function(){var t,e;for(t=0,e=this._initializers.length;t<e;t++)this._initializers[t].call(this)},_initLayers:function(t){t=t?t instanceof Array?t:[t]:[],this._layers={},this._tileLayersNum=0;var e,i;for(e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_resetView:function(t,e,i,o){var r=this._zoom!==e;o||(this.fire("movestart"),r&&this.fire("zoomstart")),this._zoom=e,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),i?this._initialTopLeftPoint._add(this._getMapPanePos()):n.DomUtil.setPosition(this._mapPane,new n.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum,this.fire("viewreset",{hard:!i}),this.fire("move"),(r||o)&&this.fire("zoomend"),this.fire("moveend",{hard:!i}),this._loaded||(this._loaded=!0,this.fire("load"))},_rawPanBy:function(t){n.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_initEvents:function(){if(n.DomEvent){n.DomEvent.on(this._container,"click",this._onMouseClick,this);var e,i,o=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(e=0,i=o.length;e<i;e++)n.DomEvent.on(this._container,o[e],this._fireMouseEvent,this);this.options.trackResize&&n.DomEvent.on(t,"resize",this._onResize,this)}},_onResize:function(){n.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=n.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(t){!this._loaded||this.dragging&&this.dragging.moved()||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&n.DomEvent.preventDefault(t);var i=this.mouseEventToContainerPoint(t),o=this.containerPointToLayerPoint(i),r=this.layerPointToLatLng(o);this.fire(e,{latlng:r,layerPoint:o,containerPoint:i,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg&&(clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(n.Util.bind(this._clearTileBg,this),500))},_getMapPanePos:function(){return n.DomUtil.getPosition(this._mapPane)},_getTopLeftPoint:function(){if(!this._loaded)throw Error("Set map center and zoom first.");return this._initialTopLeftPoint.subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize().divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize().divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),n.Map.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initializers.push(i)},n.map=function(t,e){return new n.Map(t,e)},n.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(t){var e=n.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),r=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*r,l=o*e,h=s/r,u=Math.sqrt(1-h*h),c=u*Math.sin(l);c=Math.pow((1-c)/(1+c),.5*u);var p=Math.tan(.5*(.5*Math.PI-l))/c;return l=-s*Math.log(p),new n.Point(a,l)},unproject:function(t){for(var e,i=n.LatLng.RAD_TO_DEG,o=this.R_MAJOR,r=this.R_MINOR,s=t.x*i/o,a=r/o,l=Math.sqrt(1-a*a),h=Math.exp(-t.y/r),u=Math.PI/2-2*Math.atan(h),c=15,p=1e-7,d=c,m=.1;Math.abs(m)>p&&--d>0;)e=l*Math.sin(u),m=Math.PI/2-2*Math.atan(h*Math.pow((1-e)/(1+e),.5*l))-u,u+=m;return new n.LatLng(u*i,s,!0)}},n.CRS.EPSG3395=n.Util.extend({},n.CRS,{code:"EPSG:3395",projection:n.Projection.Mercator,transformation:function(){var t=n.Projection.Mercator,e=t.R_MAJOR,i=t.R_MINOR;return new n.Transformation(.5/(Math.PI*e),.5,-.5/(Math.PI*i),.5)}()}),n.TileLayer=n.Class.extend({includes:n.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:n.Browser.mobile,updateWhenIdle:n.Browser.mobile},initialize:function(t,e){e=n.Util.setOptions(this,e),e.detectRetina&&n.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),this._url=t;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(t){this._map=t,this._initContainer(),this._createTileProto(),t.on({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||(this._limitedUpdate=n.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._panes.tilePane.removeChild(this._container),t.off({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._map._panes.tilePane.empty=!1,this._reset(!0),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){for(var i,n=t.getElementsByClassName("leaflet-layer"),o=-e(1/0,-(1/0)),r=0,s=n.length;r<s;r++)n[r]!==this._container&&(i=parseInt(n[r].style.zIndex,10),isNaN(i)||(o=e(o,i)));this._container.style.zIndex=isFinite(o)?o+e(1,-1):""},_updateOpacity:function(){n.DomUtil.setOpacity(this._container,this.options.opacity);var t,e=this._tiles;if(n.Browser.webkit)for(t in e)e.hasOwnProperty(t)&&(e[t].style.webkitTransform+=" translate(0,0)")},_initContainer:function(){var t=this._map._panes.tilePane;this._container&&!t.empty||(this._container=n.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity())},_resetCallback:function(t){this._reset(t.hard)},_reset:function(t){var e,i=this._tiles;for(e in i)i.hasOwnProperty(e)&&this.fire("tileunload",{tile:i[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),t&&this._container&&(this._container.innerHTML=""),this._initContainer()},_update:function(t){if(!this._map._panTransition||!this._map._panTransition._inProgress){var e=this._map.getPixelBounds(),i=this._map.getZoom(),o=this.options.tileSize;if(!(i>this.options.maxZoom||i<this.options.minZoom)){var r=new n.Point(Math.floor(e.min.x/o),Math.floor(e.min.y/o)),s=new n.Point(Math.floor(e.max.x/o),Math.floor(e.max.y/o)),a=new n.Bounds(r,s);this._addTilesFromCenterOut(a),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(a)}}},_addTilesFromCenterOut:function(t){var e,i,o,r=[],s=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(i=t.min.x;i<=t.max.x;i++)o=new n.Point(i,e),this._tileShouldBeLoaded(o)&&r.push(o);var a=r.length;if(0!==a){r.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)});var l=document.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=a,i=0;i<a;i++)this._addTile(r[i],l);this._container.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;if(!this.options.continuousWorld){var e=this._getWrapTileNum();if(this.options.noWrap&&(t.x<0||t.x>=e)||t.y<0||t.y>=e)return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)this._tiles.hasOwnProperty(o)&&(e=o.split(":"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o))},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(n.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._container&&this._container.removeChild(e),n.Browser.android||(e.src=n.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var i=this._getTilePos(t),o=this._getTile();n.DomUtil.setPosition(o,i,n.Browser.chrome||n.Browser.android23),this._tiles[t.x+":"+t.y]=o,this._loadTile(o,t),o.parentNode!==this._container&&e.appendChild(o)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+t.zoomOffset},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this.options.tileSize;return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return this._adjustTilePoint(t),n.Util.template(this._url,n.Util.extend({s:this._getSubdomain(t),z:this._getZoomForUrl(),x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(t){var e=this._getWrapTileNum();!this.options.continuousWorld&&!this.options.noWrap&&(t.x=(t.x%e+e)%e),this.options.tms&&(t.y=e-t.y-1)},_getSubdomain:function(t){var e=(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_createTileProto:function(){var t=this._tileImg=n.DomUtil.create("img","leaflet-tile");t.galleryimg="no";var e=this.options.tileSize;t.style.width=e+"px",t.style.height=e+"px"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(t){},_createTile:function(){var t=this._tileImg.cloneNode(!1);return t.onselectstart=t.onmousemove=n.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,t.src=this.getTileUrl(e)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||this.fire("load")},_tileOnLoad:function(t){var e=this._layer;this.src!==n.Util.emptyImageUrl&&(n.DomUtil.addClass(this,"leaflet-tile-loaded"),e.fire("tileload",{tile:this,url:this.src})),e._tileLoaded()},_tileOnError:function(t){var e=this._layer;e.fire("tileerror",{tile:this,url:this.src});var i=e.options.errorTileUrl;i&&(this.src=i),e._tileLoaded()}}),n.tileLayer=function(t,e){return new n.TileLayer(t,e)},n.TileLayer.WMS=n.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var i=n.Util.extend({},this.defaultWmsParams);e.detectRetina&&n.Browser.retina?i.width=i.height=2*this.options.tileSize:i.width=i.height=this.options.tileSize;for(var o in e)this.options.hasOwnProperty(o)||(i[o]=e[o]);this.wmsParams=i,n.Util.setOptions(this,e)},onAdd:function(t){var e=parseFloat(this.wmsParams.version)>=1.3?"crs":"srs";this.wmsParams[e]=t.options.crs.code,n.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t,e){var i=this._map,o=i.options.crs,r=this.options.tileSize,s=t.multiplyBy(r),a=s.add(new n.Point(r,r)),l=o.project(i.unproject(s,e)),h=o.project(i.unproject(a,e)),u=[l.x,h.y,h.x,l.y].join(","),c=n.Util.template(this._url,{s:this._getSubdomain(t)});return c+n.Util.getParamString(this.wmsParams)+"&bbox="+u},setParams:function(t,e){return n.Util.extend(this.wmsParams,t),e||this.redraw(),this}}),n.tileLayer.wms=function(t,e){return new n.TileLayer.WMS(t,e)},n.TileLayer.Canvas=n.TileLayer.extend({options:{async:!1},initialize:function(t){n.Util.setOptions(this,t)},redraw:function(){var t,e=this._tiles;for(t in e)e.hasOwnProperty(t)&&this._redrawTile(e[t])},_redrawTile:function(t){this.drawTile(t,t._tilePoint,t._zoom)},_createTileProto:function(){var t=this._canvasProto=n.DomUtil.create("canvas","leaflet-tile"),e=this.options.tileSize;t.width=e,t.height=e},_createTile:function(){var t=this._canvasProto.cloneNode(!1);return t.onselectstart=t.onmousemove=n.Util.falseFn,t},_loadTile:function(t,e,i){t._layer=this,t._tilePoint=e,t._zoom=i,this.drawTile(t,e,i),this.options.async||this.tileDrawn(t)},drawTile:function(t,e,i){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),n.tileLayer.canvas=function(t){return new n.TileLayer.Canvas(t)},n.ImageOverlay=n.Class.extend({includes:n.Mixin.Events,options:{opacity:1},initialize:function(t,e,i){this._url=t,this._bounds=n.latLngBounds(e),n.Util.setOptions(this,i)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&n.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},_initImage:function(){this._image=n.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&n.Browser.any3d?n.DomUtil.addClass(this._image,"leaflet-zoom-animated"):n.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),n.Util.extend(this._image,{galleryimg:"no",onselectstart:n.Util.falseFn,onmousemove:n.Util.falseFn,onload:n.Util.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,i=this._image,o=e.getZoomScale(t.zoom),r=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(r,t.zoom,t.center),l=e._latLngToNewLayerPoint(s,t.zoom,t.center).subtract(a),h=e.latLngToLayerPoint(s).subtract(e.latLngToLayerPoint(r)),u=a.add(l.subtract(h).divideBy(2));i.style[n.DomUtil.TRANSFORM]=n.DomUtil.getTranslateString(u)+" scale("+o+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast()).subtract(e);n.DomUtil.setPosition(t,e),t.style.width=i.x+"px",t.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){n.DomUtil.setOpacity(this._image,this.options.opacity)}}),n.imageOverlay=function(t,e,i){return new n.ImageOverlay(t,e,i)},n.Icon=n.Class.extend({options:{className:""},initialize:function(t){
n.Util.setOptions(this,t)},createIcon:function(){return this._createIcon("icon")},createShadow:function(){return this._createIcon("shadow")},_createIcon:function(t){var e=this._getIconUrl(t);if(!e){if("icon"===t)throw Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(e);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var i,o=this.options,r=n.point(o[e+"Size"]);i="shadow"===e?n.point(o.shadowAnchor||o.iconAnchor):n.point(o.iconAnchor),!i&&r&&(i=r.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+o.className,i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t){var e;return n.Browser.ie6?(e=document.createElement("div"),e.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'")'):(e=document.createElement("img"),e.src=t),e},_getIconUrl:function(t){return this.options[t+"Url"]}}),n.icon=function(t){return new n.Icon(t)},n.Icon.Default=n.Icon.extend({options:{iconSize:new n.Point(25,41),iconAnchor:new n.Point(13,41),popupAnchor:new n.Point(1,-34),shadowSize:new n.Point(41,41)},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];var i=n.Icon.Default.imagePath;if(!i)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+".png"}}),n.Icon.Default.imagePath=function(){var t,e,i,n,o=document.getElementsByTagName("script"),r=/\/?leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=o.length;t<e;t++)if(i=o[t].src,n=i.match(r))return i.split(r)[0]+"/images"}(),n.Marker=n.Class.extend({includes:n.Mixin.Events,options:{icon:new n.Icon.Default,title:"",clickable:!0,draggable:!1,zIndexOffset:0,opacity:1},initialize:function(t,e){n.Util.setOptions(this,e),this._latlng=n.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._removeIcon(),this.closePopup&&this.closePopup(),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){this._latlng=n.latLng(t),this.update(),this._popup&&this._popup.setLatLng(t)},setZIndexOffset:function(t){this.options.zIndexOffset=t,this.update()},setIcon:function(t){this._map&&this._removeIcon(),this.options.icon=t,this._map&&(this._initIcon(),this.update())},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}},_initIcon:function(){var t=this.options,e=this._map,i=e.options.zoomAnimation&&e.options.markerZoomAnimation,o=i?"leaflet-zoom-animated":"leaflet-zoom-hide",r=!1;this._icon||(this._icon=t.icon.createIcon(),t.title&&(this._icon.title=t.title),this._initInteraction(),r=this.options.opacity<1,n.DomUtil.addClass(this._icon,o)),this._shadow||(this._shadow=t.icon.createShadow(),this._shadow&&(n.DomUtil.addClass(this._shadow,o),r=this.options.opacity<1)),r&&this._updateOpacity();var s=this._map._panes;s.markerPane.appendChild(this._icon),this._shadow&&s.shadowPane.appendChild(this._shadow)},_removeIcon:function(){var t=this._map._panes;t.markerPane.removeChild(this._icon),this._shadow&&t.shadowPane.removeChild(this._shadow),this._icon=this._shadow=null},_setPos:function(t){n.DomUtil.setPosition(this._icon,t),this._shadow&&n.DomUtil.setPosition(this._shadow,t),this._icon.style.zIndex=t.y+this.options.zIndexOffset},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout"];n.DomUtil.addClass(t,"leaflet-clickable"),n.DomEvent.on(t,"click",this._onMouseClick,this);for(var i=0;i<e.length;i++)n.DomEvent.on(t,e[i],this._fireMouseEvent,this);n.Handler.MarkerDrag&&(this.dragging=new n.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){n.DomEvent.stopPropagation(t),this.dragging&&this.dragging.moved()||this._map.dragging&&this._map.dragging.moved()||this.fire(t.type,{originalEvent:t})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t}),"mousedown"!==t.type&&n.DomEvent.stopPropagation(t)},setOpacity:function(t){this.options.opacity=t,this._map&&this._updateOpacity()},_updateOpacity:function(){n.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&n.DomUtil.setOpacity(this._shadow,this.options.opacity)}}),n.marker=function(t,e){return new n.Marker(t,e)},n.DivIcon=n.Icon.extend({options:{iconSize:new n.Point(12,12),className:"leaflet-div-icon"},createIcon:function(){var t=document.createElement("div"),e=this.options;return e.html&&(t.innerHTML=e.html),e.bgPos&&(t.style.backgroundPosition=-e.bgPos.x+"px "+-e.bgPos.y+"px"),this._setIconStyles(t,"icon"),t},createShadow:function(){return null}}),n.divIcon=function(t){return new n.DivIcon(t)},n.Map.mergeOptions({closePopupOnClick:!0}),n.Popup=n.Class.extend({includes:n.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:new n.Point(0,6),autoPanPadding:new n.Point(5,5),className:""},initialize:function(t,e){n.Util.setOptions(this,t),this._source=e},onAdd:function(t){this._map=t,this._container||this._initLayout(),this._updateContent();var e=t.options.fadeAnimation;e&&n.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on("viewreset",this._updatePosition,this),n.Browser.any3d&&t.on("zoomanim",this._zoomAnimation,this),t.options.closePopupOnClick&&t.on("preclick",this._close,this),this._update(),e&&n.DomUtil.setOpacity(this._container,1)},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),n.Util.falseFn(this._container.offsetWidth),t.off({viewreset:this._updatePosition,preclick:this._close,zoomanim:this._zoomAnimation},this),t.options.fadeAnimation&&n.DomUtil.setOpacity(this._container,0),this._map=null},setLatLng:function(t){return this._latlng=n.latLng(t),this._update(),this},setContent:function(t){return this._content=t,this._update(),this},_close:function(){var t=this._map;t&&(t._popup=null,t.removeLayer(this).fire("popupclose",{popup:this}))},_initLayout:function(){var t,e="leaflet-popup",i=this._container=n.DomUtil.create("div",e+" "+this.options.className+" leaflet-zoom-animated");this.options.closeButton&&(t=this._closeButton=n.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",n.DomEvent.on(t,"click",this._onCloseButtonClick,this));var o=this._wrapper=n.DomUtil.create("div",e+"-content-wrapper",i);n.DomEvent.disableClickPropagation(o),this._contentNode=n.DomUtil.create("div",e+"-content",o),n.DomEvent.on(this._contentNode,"mousewheel",n.DomEvent.stopPropagation),this._tipContainer=n.DomUtil.create("div",e+"-tip-container",i),this._tip=n.DomUtil.create("div",e+"-tip",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,r=this.options.maxHeight,s="leaflet-popup-scrolled";r&&o>r?(e.height=r+"px",n.DomUtil.addClass(t,s)):n.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng),e=n.Browser.any3d,i=this.options.offset;e&&n.DomUtil.setPosition(this._container,t),this._containerBottom=-i.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);n.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,o=new n.Point(this._containerLeft,-e-this._containerBottom);n.Browser.any3d&&o._add(n.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(o),s=this.options.autoPanPadding,a=t.getSize(),l=0,h=0;r.x<0&&(l=r.x-s.x),r.x+i>a.x&&(l=r.x+i-a.x+s.x),r.y<0&&(h=r.y-s.y),r.y+e>a.y&&(h=r.y+e-a.y+s.y),(l||h)&&t.panBy(new n.Point(l,h))}},_onCloseButtonClick:function(t){this._close(),n.DomEvent.stop(t)}}),n.popup=function(t,e){return new n.Popup(t,e)},n.Marker.include({openPopup:function(){return this._popup&&this._map&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},bindPopup:function(t,e){var i=n.point(this.options.icon.options.popupAnchor)||new n.Point(0,0);return i=i.add(n.Popup.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=n.Util.extend({offset:i},e),this._popup||this.on("click",this.openPopup,this),this._popup=new n.Popup(e,this).setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.openPopup)),this}}),n.Map.include({openPopup:function(t){return this.closePopup(),this._popup=t,this.addLayer(t).fire("popupopen",{popup:this._popup})},closePopup:function(){return this._popup&&this._popup._close(),this}}),n.LayerGroup=n.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;e<i;e++)this.addLayer(t[e])},addLayer:function(t){var e=n.Util.stamp(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=n.Util.stamp(t);return delete this._layers[e],this._map&&this._map.removeLayer(t),this},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)this._layers.hasOwnProperty(e)&&(i=this._layers[e],i[t]&&i[t].apply(i,n));return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)this._layers.hasOwnProperty(i)&&t.call(e,this._layers[i])}}),n.layerGroup=function(t){return new n.LayerGroup(t)},n.FeatureGroup=n.LayerGroup.extend({includes:n.Mixin.Events,addLayer:function(t){return this._layers[n.Util.stamp(t)]?this:(t.on("click dblclick mouseover mouseout mousemove contextmenu",this._propagateEvent,this),n.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent),this)},removeLayer:function(t){return t.off("click dblclick mouseover mouseout mousemove contextmenu",this._propagateEvent,this),n.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent?this.invoke("unbindPopup"):this},bindPopup:function(t){return this._popupContent=t,this.invoke("bindPopup",t)},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new n.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof n.Marker?e.getLatLng():e.getBounds())},this),t},_propagateEvent:function(t){t.layer=t.target,t.target=this,this.fire(t.type,t)}}),n.featureGroup=function(t){return new n.FeatureGroup(t)},n.Path=n.Class.extend({includes:[n.Mixin.Events],statics:{CLIP_PADDING:n.Browser.mobile?Math.max(0,Math.min(.5,(1280/Math.max(t.innerWidth,t.innerHeight)-1)/2)):.5},options:{stroke:!0,color:"#0033ff",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){n.Util.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this._map=null,n.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return n.Util.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),n.Map.include({_updatePathViewport:function(){var t=n.Path.CLIP_PADDING,e=this.getSize(),i=n.DomUtil.getPosition(this._mapPane),o=i.multiplyBy(-1)._subtract(e.multiplyBy(t)),r=o.add(e.multiplyBy(1+2*t));this._pathViewport=new n.Bounds(o,r)}}),n.Path.SVG_NS="http://www.w3.org/2000/svg",n.Browser.svg=!!document.createElementNS&&!!document.createElementNS(n.Path.SVG_NS,"svg").createSVGRect,n.Path=n.Path.extend({statics:{SVG:n.Browser.svg},bringToFront:function(){return this._container&&this._map._pathRoot.appendChild(this._container),this},bringToBack:function(){if(this._container){var t=this._map._pathRoot;t.insertBefore(this._container,t.firstChild)}return this},getPathString:function(){},_createElement:function(t){return document.createElementNS(n.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray")):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(n.Browser.svg||!n.Browser.vml)&&this._path.setAttribute("class","leaflet-clickable"),n.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)n.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||(this._fireMouseEvent(t),n.DomEvent.stopPropagation(t))},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){"contextmenu"===t.type&&n.DomEvent.preventDefault(t);var e=this._map,i=e.mouseEventToContainerPoint(t),o=e.containerPointToLayerPoint(i),r=e.layerPointToLatLng(o);this.fire(t.type,{latlng:r,layerPoint:o,containerPoint:i,originalEvent:t})}}}),n.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=n.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&n.Browser.any3d?(this._pathRoot.setAttribute("class"," leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):this._pathRoot.setAttribute("class"," leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),i=this._getCenterOffset(t.center).divideBy(1-1/e),o=this.containerPointToLayerPoint(this.getSize().multiplyBy(-n.Path.CLIP_PADDING)),r=o.add(i).round();this._pathRoot.style[n.DomUtil.TRANSFORM]=n.DomUtil.getTranslateString(r.multiplyBy(-1).add(n.DomUtil.getPosition(this._pathRoot)).multiplyBy(e).add(r))+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max,o=i.x-e.x,r=i.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;n.Browser.mobileWebkit&&a.removeChild(s),n.DomUtil.setPosition(s,e),s.setAttribute("width",o),s.setAttribute("height",r),s.setAttribute("viewBox",[e.x,e.y,o,r].join(" ")),n.Browser.mobileWebkit&&a.appendChild(s)}}}),n.Path.include({bindPopup:function(t,e){return this._popup&&this._popup.options===e||(this._popup=new n.Popup(e,this)),this._popup.setContent(t),this._openPopupAdded||(this.on("click",this._openPopup,this),this._openPopupAdded=!0),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),n.Browser.vml=function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),n.Path=n.Browser.svg||!n.Browser.vml?n.Path:n.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");n.DomUtil.addClass(t,"leaflet-vml-shape"),this.options.clickable&&n.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",n.appendChild(t)),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=i.dashArray.replace(/ *, */g," "):t.dashStyle=""):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement("fill"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),n.Map.include(n.Browser.svg||!n.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=document.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),n.Browser.canvas=function(){return!!document.createElement("canvas").getContext}(),n.Path=n.Path.SVG&&!t.L_PREFER_CANVAS||!n.Browser.canvas?n.Path:n.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return n.Util.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&(n.Util.cancelAnimFrame(this._fireMapMoveEnd),this._updateRequest=n.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,i,o,r,s;for(this._ctx.beginPath(),t=0,i=this._parts.length;t<i;t++){for(e=0,o=this._parts[t].length;e<o;e++)r=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](r.x,r.y);this instanceof n.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(e.fillOpacity<1&&(t.globalAlpha=e.fillOpacity),t.fill()),e.stroke&&(e.opacity<1&&(t.globalAlpha=e.opacity),t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&this._map.on("click",this._onClick,this)},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire("click",t)}}),n.Map.include(n.Path.SVG&&!t.L_PREFER_CANVAS||!n.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=document.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max.subtract(e),o=this._pathRoot;n.DomUtil.setPosition(o,e),o.width=i.x,o.height=i.y,o.getContext("2d").translate(-e.x,-e.y)}}}),n.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,r=new o(n);r[0]=r[n-1]=1,this._simplifyDPStep(t,r,e,0,n-1);var s,a=[];for(s=0;s<n;s++)r[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,i,n,o){var r,s,a,l=0;for(s=n+1;s<=o-1;s++)a=this._sqClosestPointOnSegment(t[s],t[n],t[o],!0),a>l&&(r=s,l=a);l>i&&(e[r]=1,this._simplifyDPStep(t,e,i,n,r),this._simplifyDPStep(t,e,i,r,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,r=t.length;n<r;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return o<r-1&&i.push(t[r-1]),i},clipSegment:function(t,e,i,n){var o=(i.min,i.max,n?this._lastCode:this._getBitCode(t,i)),r=this._getBitCode(e,i);for(this._lastCode=r;;){if(!(o|r))return[t,e];if(o&r)return!1;var s=o||r,a=this._getEdgeIntersection(t,e,s,i),l=this._getBitCode(a,i);s===o?(t=a,o=l):(e=a,r=l)}},_getEdgeIntersection:function(t,e,i,o){var r=e.x-t.x,s=e.y-t.y,a=o.min,l=o.max;return 8&i?new n.Point(t.x+r*(l.y-t.y)/s,l.y):4&i?new n.Point(t.x+r*(a.y-t.y)/s,a.y):2&i?new n.Point(l.x,t.y+s*(l.x-t.x)/r):1&i?new n.Point(a.x,t.y+s*(a.x-t.x)/r):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,o){var r,s=e.x,a=e.y,l=i.x-s,h=i.y-a,u=l*l+h*h;return u>0&&(r=((t.x-s)*l+(t.y-a)*h)/u,r>1?(s=i.x,a=i.y):r>0&&(s+=l*r,a+=h*r)),l=t.x-s,h=t.y-a,o?l*l+h*h:new n.Point(s,a)}},n.Polyline=n.Path.extend({initialize:function(t,e){n.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t),n.Handler.PolyEdit&&(this.editing=new n.Handler.PolyEdit(this),this.options.editable&&this.editing.enable())},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;t<e;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i="";t<e;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(n.latLng(t)),this.redraw()},spliceLatLngs:function(t,e){var i=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs),this.redraw(),i},closestLayerPoint:function(t){for(var e,i,o=1/0,r=this._parts,s=null,a=0,l=r.length;a<l;a++)for(var h=r[a],u=1,c=h.length;u<c;u++){e=h[u-1],i=h[u];var p=n.LineUtil._sqClosestPointOnSegment(t,e,i,!0);p<o&&(o=p,s=n.LineUtil._sqClosestPointOnSegment(t,e,i))}return s&&(s.distance=Math.sqrt(o)),s},getBounds:function(){for(var t=new n.LatLngBounds,e=this.getLatLngs(),i=0,o=e.length;i<o;i++)t.extend(e[i]);return t},onAdd:function(t){n.Path.prototype.onAdd.call(this,t),this.editing&&this.editing.enabled()&&this.editing.addHooks()},onRemove:function(t){this.editing&&this.editing.enabled()&&this.editing.removeHooks(),n.Path.prototype.onRemove.call(this,t)},_convertLatLngs:function(t){var e,i;for(e=0,i=t.length;e<i;e++){if(t[e]instanceof Array&&"number"!=typeof t[e][0])return;t[e]=n.latLng(t[e])}return t},_initEvents:function(){n.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,i=n.Path.VML,o=0,r=t.length,s="";o<r;o++)e=t[o],i&&e._round(),s+=(o?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,i,o=this._originalPoints,r=o.length;if(this.options.noClip)return void(this._parts=[o]);this._parts=[];var s=this._parts,a=this._map._pathViewport,l=n.LineUtil;for(t=0,e=0;t<r-1;t++)i=l.clipSegment(o[t],o[t+1],a,t),i&&(s[e]=s[e]||[],s[e].push(i[0]),i[1]===o[t+1]&&t!==r-2||(s[e].push(i[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=n.LineUtil,i=0,o=t.length;i<o;i++)t[i]=e.simplify(t[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),n.Path.prototype._updatePath.call(this))}}),n.polyline=function(t,e){return new n.Polyline(t,e)},n.PolyUtil={},n.PolyUtil.clipPolygon=function(t,e){var i,o,r,s,a,l,h,u,c,p=(e.min,e.max,[1,4,2,8]),d=n.LineUtil;for(o=0,h=t.length;o<h;o++)t[o]._code=d._getBitCode(t[o],e);for(s=0;s<4;s++){for(u=p[s],i=[],o=0,h=t.length,r=h-1;o<h;r=o++)a=t[o],l=t[r],a._code&u?l._code&u||(c=d._getEdgeIntersection(l,a,u,e),c._code=d._getBitCode(c,e),i.push(c)):(l._code&u&&(c=d._getEdgeIntersection(l,a,u,e),c._code=d._getBitCode(c,e),i.push(c)),i.push(a));t=i}return t},n.Polygon=n.Polyline.extend({options:{fill:!0},initialize:function(t,e){n.Polyline.prototype.initialize.call(this,t,e),t&&t[0]instanceof Array&&"number"!=typeof t[0][0]&&(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1))},projectLatlngs:function(){if(n.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes)for(var t=0,e=this._holes.length;t<e;t++){this._holePoints[t]=[];for(var i=0,o=this._holes[t].length;i<o;i++)this._holePoints[t][i]=this._map.latLngToLayerPoint(this._holes[t][i])}},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var i=0,o=this._parts.length;i<o;i++){var r=n.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);r.length&&e.push(r)}this._parts=e}},_getPathPartStr:function(t){var e=n.Polyline.prototype._getPathPartStr.call(this,t);return e+(n.Browser.svg?"z":"x")}}),n.polygon=function(t,e){return new n.Polygon(t,e)},function(){function t(t){return n.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){i<n?t.setLatLngs(e[i++]):this.removeLayer(t)},this);i<n;)this.addLayer(new t(e[i++],this._options));return this}})}n.MultiPolyline=t(n.Polyline),n.MultiPolygon=t(n.Polygon),n.multiPolyline=function(t,e){return new n.MultiPolyline(t,e)},n.multiPolygon=function(t,e){return new n.MultiPolygon(t,e)}}(),n.Rectangle=n.Polygon.extend({initialize:function(t,e){n.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=n.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),n.rectangle=function(t,e){return new n.Rectangle(t,e)},n.Circle=n.Path.extend({initialize:function(t,e,i){n.Path.prototype.initialize.call(this,i),this._latlng=n.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=n.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=new n.LatLng(this._latlng.lat,this._latlng.lng-t,!0),i=this._map.latLngToLayerPoint(e);this._point=this._map.latLngToLayerPoint(this._latlng),this._radius=Math.max(Math.round(this._point.x-i.x),1)},getBounds:function(){var t=this._map,e=this._radius*Math.cos(Math.PI/4),i=t.project(this._latlng),o=new n.Point(i.x-e,i.y+e),r=new n.Point(i.x+e,i.y-e),s=t.unproject(o),a=t.unproject(r);return new n.LatLngBounds(s,a)},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":n.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLngRadius:function(){var t=40075017,e=t*Math.cos(n.LatLng.DEG_TO_RAD*this._latlng.lat);return this._mRadius/e*360},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),n.circle=function(t,e,i){return new n.Circle(t,e,i)},n.CircleMarker=n.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){n.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(t){return this._radius=t,this.redraw()}}),n.circleMarker=function(t,e){return new n.CircleMarker(t,e)},n.Polyline.include(n.Path.CANVAS?{_containsPoint:function(t,e){var i,o,r,s,a,l,h,u=this.options.weight/2;for(n.Browser.touch&&(u+=10),i=0,s=this._parts.length;i<s;i++)for(h=this._parts[i],o=0,a=h.length,r=a-1;o<a;r=o++)if((e||0!==o)&&(l=n.LineUtil.pointToSegmentDistance(t,h[r],h[o]),l<=u))return!0;return!1}}:{}),n.Polygon.include(n.Path.CANVAS?{_containsPoint:function(t){var e,i,o,r,s,a,l,h,u=!1;if(n.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(r=0,l=this._parts.length;r<l;r++)for(e=this._parts[r],s=0,h=e.length,a=h-1;s<h;a=s++)i=e[s],o=e[a],i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(u=!u);return u}}:{}),n.Circle.include(n.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),n.GeoJSON=n.FeatureGroup.extend({initialize:function(t,e){n.Util.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,o=t instanceof Array?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)this.addData(o[e]);return this}var r=this.options;if(!r.filter||r.filter(t)){var s=n.GeoJSON.geometryToLayer(t,r.pointToLayer);return s.feature=t,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)}},resetStyle:function(t){var e=this.options.style;e&&this._setLayerStyle(t,e)},setStyle:function(t){this.eachLayer(function(e){
this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),n.Util.extend(n.GeoJSON,{geometryToLayer:function(t,e){var i,o,r,s,a,l="Feature"===t.type?t.geometry:t,h=l.coordinates,u=[];switch(l.type){case"Point":return i=this.coordsToLatLng(h),e?e(t,i):new n.Marker(i);case"MultiPoint":for(r=0,s=h.length;r<s;r++)i=this.coordsToLatLng(h[r]),a=e?e(t,i):new n.Marker(i),u.push(a);return new n.FeatureGroup(u);case"LineString":return o=this.coordsToLatLngs(h),new n.Polyline(o);case"Polygon":return o=this.coordsToLatLngs(h,1),new n.Polygon(o);case"MultiLineString":return o=this.coordsToLatLngs(h,1),new n.MultiPolyline(o);case"MultiPolygon":return o=this.coordsToLatLngs(h,2),new n.MultiPolygon(o);case"GeometryCollection":for(r=0,s=l.geometries.length;r<s;r++)a=this.geometryToLayer(l.geometries[r],e),u.push(a);return new n.FeatureGroup(u);default:throw Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t,e){var i=parseFloat(t[e?0:1]),o=parseFloat(t[e?1:0]);return new n.LatLng(i,o,!0)},coordsToLatLngs:function(t,e,i){var n,o,r,s=[];for(o=0,r=t.length;o<r;o++)n=e?this.coordsToLatLngs(t[o],e-1,i):this.coordsToLatLng(t[o],i),s.push(n);return s}}),n.geoJson=function(t,e){return new n.GeoJSON(t,e)},n.DomEvent={addListener:function(t,e,i,o){var r,s,a,l=n.Util.stamp(i),h="_leaflet_"+e+l;return t[h]?this:(r=function(e){return i.call(o||t,e||n.DomEvent._getEvent())},n.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener?this.addDoubleTapListener(t,r,l):("addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener(e,r,!1)):"mouseenter"===e||"mouseleave"===e?(s=r,a="mouseenter"===e?"mouseover":"mouseout",r=function(e){if(n.DomEvent._checkMouse(t,e))return s(e)},t.addEventListener(a,r,!1)):t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[h]=r,this))},removeListener:function(t,e,i){var o=n.Util.stamp(i),r="_leaflet_"+e+o,s=t[r];if(s)return n.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[r]=null,this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},disableClickPropagation:function(t){var e=n.DomEvent.stopPropagation;return n.DomEvent.addListener(t,n.Draggable.START,e).addListener(t,"click",e).addListener(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return n.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){var i=document.body,o=document.documentElement,r=t.pageX?t.pageX:t.clientX+i.scrollLeft+o.scrollLeft,s=t.pageY?t.pageY:t.clientY+i.scrollTop+o.scrollTop,a=new n.Point(r,s);return e?a._subtract(n.DomUtil.getViewportOffset(e)):a},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e}},n.DomEvent.on=n.DomEvent.addListener,n.DomEvent.off=n.DomEvent.removeListener,n.Draggable=n.Class.extend({includes:n.Mixin.Events,statics:{START:n.Browser.touch?"touchstart":"mousedown",END:n.Browser.touch?"touchend":"mouseup",MOVE:n.Browser.touch?"touchmove":"mousemove",TAP_TOLERANCE:15},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){this._enabled||(n.DomEvent.on(this._dragStartTarget,n.Draggable.START,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(n.DomEvent.off(this._dragStartTarget,n.Draggable.START,this._onDown),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!(!n.Browser.touch&&t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)){if(this._simulateClick=!0,t.touches&&t.touches.length>1)return void(this._simulateClick=!1);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=e.target;n.DomEvent.preventDefault(t),n.Browser.touch&&"a"===i.tagName.toLowerCase()&&n.DomUtil.addClass(i,"leaflet-active"),this._moved=!1,this._moving||(this._startPos=this._newPos=n.DomUtil.getPosition(this._element),this._startPoint=new n.Point(e.clientX,e.clientY),n.DomEvent.on(document,n.Draggable.MOVE,this._onMove,this),n.DomEvent.on(document,n.Draggable.END,this._onUp,this))}},_onMove:function(t){if(!(t.touches&&t.touches.length>1)){var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new n.Point(e.clientX,e.clientY),o=i.subtract(this._startPoint);(o.x||o.y)&&(n.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,n.Browser.touch||(n.DomUtil.disableTextSelection(),this._setMovingCursor())),this._newPos=this._startPos.add(o),this._moving=!0,n.Util.cancelAnimFrame(this._animRequest),this._animRequest=n.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire("predrag"),n.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(t){if(this._simulateClick&&t.changedTouches){var e=t.changedTouches[0],i=e.target,o=this._newPos&&this._newPos.distanceTo(this._startPos)||0;"a"===i.tagName.toLowerCase()&&n.DomUtil.removeClass(i,"leaflet-active"),o<n.Draggable.TAP_TOLERANCE&&this._simulateEvent("click",e)}n.Browser.touch||(n.DomUtil.enableTextSelection(),this._restoreCursor()),n.DomEvent.off(document,n.Draggable.MOVE,this._onMove),n.DomEvent.off(document,n.Draggable.END,this._onUp),this._moved&&(n.Util.cancelAnimFrame(this._animRequest),this.fire("dragend")),this._moving=!1},_setMovingCursor:function(){n.DomUtil.addClass(document.body,"leaflet-dragging")},_restoreCursor:function(){n.DomUtil.removeClass(document.body,"leaflet-dragging")},_simulateEvent:function(e,i){var n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n)}}),n.Handler=n.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),n.Map.mergeOptions({dragging:!0,inertia:!n.Browser.android23,inertiaDeceleration:3e3,inertiaMaxSpeed:1500,inertiaThreshold:n.Browser.touch?32:14,worldCopyJump:!0}),n.Map.Drag=n.Handler.extend({addHooks:function(){if(!this._draggable){this._draggable=new n.Draggable(this._map._mapPane,this._map._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);var t=this._map.options;t.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),this._map.on("viewreset",this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t.fire("movestart").fire("dragstart"),t._panTransition&&t._panTransition._onTransitionEnd(!0),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint(new n.LatLng(0,0));this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project(new n.LatLng(0,180)).x},_onPreDrag:function(){var t=(this._map,this._worldWidth),e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,r=(n+e+i)%t-e-i,s=Math.abs(o+i)<Math.abs(r+i)?o:r;this._draggable._newPos.x=s},_onDragEnd:function(){var t=this._map,e=t.options,o=+new Date-this._lastTime,r=!e.inertia||o>e.inertiaThreshold||this._positions[0]===i;if(r)t.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+o-this._times[0])/1e3,l=s.multiplyBy(.58/a),h=l.distanceTo(new n.Point(0,0)),u=Math.min(e.inertiaMaxSpeed,h),c=l.multiplyBy(u/h),p=u/e.inertiaDeceleration,d=c.multiplyBy(-p/2).round(),m={duration:p,easing:"ease-out"};n.Util.requestAnimFrame(n.Util.bind(function(){this._map.panBy(d,m)},this))}t.fire("dragend"),e.maxBounds&&n.Util.requestAnimFrame(this._panInsideMaxBounds,t,!0,t._container)},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)}}),n.Map.addInitHook("addHandler","dragging",n.Map.Drag),n.Map.mergeOptions({doubleClickZoom:!0}),n.Map.DoubleClickZoom=n.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(t){this.setView(t.latlng,this._zoom+1)}}),n.Map.addInitHook("addHandler","doubleClickZoom",n.Map.DoubleClickZoom),n.Map.mergeOptions({scrollWheelZoom:!n.Browser.touch}),n.Map.ScrollWheelZoom=n.Handler.extend({addHooks:function(){n.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){n.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll)},_onWheelScroll:function(t){var e=n.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),clearTimeout(this._timer),this._timer=setTimeout(n.Util.bind(this._performZoom,this),40),n.DomEvent.preventDefault(t)},_performZoom:function(){var t=this._map,e=Math.round(this._delta),i=t.getZoom();if(e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,e){var n=i+e,o=this._getCenterForScrollWheelZoom(this._lastMousePos,n);t.setView(o,n)}},_getCenterForScrollWheelZoom:function(t,e){var i=this._map,n=i.getZoomScale(e),o=i.getSize().divideBy(2),r=t.subtract(o).multiplyBy(1-1/n),s=i._getTopLeftPoint().add(o).add(r);return i.unproject(s)}}),n.Map.addInitHook("addHandler","scrollWheelZoom",n.Map.ScrollWheelZoom),n.Util.extend(n.DomEvent,{addDoubleTapListener:function(t,e,i){function n(t){if(1===t.touches.length){var e=Date.now(),i=e-(r||e);s=t.touches[0],a=i>0&&i<=l,r=e}}function o(t){a&&(s.type="dblclick",e(s),r=null)}var r,s,a=!1,l=250,h="_leaflet_",u="touchstart",c="touchend";return t[h+u+i]=n,t[h+c+i]=o,t.addEventListener(u,n,!1),t.addEventListener(c,o,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_";return t.removeEventListener(t,t[i+"touchstart"+e],!1),t.removeEventListener(t,t[i+"touchend"+e],!1),this}}),n.Map.mergeOptions({touchZoom:n.Browser.touch&&!n.Browser.android23}),n.Map.TouchZoom=n.Handler.extend({addHooks:function(){n.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){n.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),o=e.mouseEventToLayerPoint(t.touches[1]),r=e._getCenterLayerPoint();this._startCenter=i.add(o).divideBy(2,!0),this._startDist=i.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=r.subtract(this._startCenter),n.DomEvent.on(document,"touchmove",this._onTouchMove,this).on(document,"touchend",this._onTouchEnd,this),n.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length){var e=this._map,i=e.mouseEventToLayerPoint(t.touches[0]),o=e.mouseEventToLayerPoint(t.touches[1]);this._scale=i.distanceTo(o)/this._startDist,this._delta=i.add(o).divideBy(2,!0).subtract(this._startCenter),1!==this._scale&&(this._moved||(n.DomUtil.addClass(e._mapPane,"leaflet-zoom-anim leaflet-touching"),e.fire("movestart").fire("zoomstart")._prepareTileBg(),this._moved=!0),n.Util.cancelAnimFrame(this._animRequest),this._animRequest=n.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),n.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),i=t.layerPointToLatLng(e);t.fire("zoomanim",{center:i,zoom:t.getScaleZoom(this._scale)}),t._tileBg.style[n.DomUtil.TRANSFORM]=n.DomUtil.getTranslateString(this._delta)+" "+n.DomUtil.getScaleString(this._scale,this._startCenter)},_onTouchEnd:function(t){if(this._moved&&this._zooming){var e=this._map;this._zooming=!1,n.DomUtil.removeClass(e._mapPane,"leaflet-touching"),n.DomEvent.off(document,"touchmove",this._onTouchMove).off(document,"touchend",this._onTouchEnd);var i=this._getScaleOrigin(),o=e.layerPointToLatLng(i),r=e.getZoom(),s=e.getScaleZoom(this._scale)-r,a=s>0?Math.ceil(s):Math.floor(s),l=e._limitZoom(r+a);e.fire("zoomanim",{center:o,zoom:l}),e._runAnimation(o,l,e.getZoomScale(l)/this._scale,i,!0)}},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),n.Map.addInitHook("addHandler","touchZoom",n.Map.TouchZoom),n.Map.mergeOptions({boxZoom:!0}),n.Map.BoxZoom=n.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){n.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){n.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(n.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),this._box=n.DomUtil.create("div","leaflet-zoom-box",this._pane),n.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",n.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).preventDefault(t),this._map.fire("boxzoomstart"),void 0)},_onMouseMove:function(t){var e=this._startLayerPoint,i=this._box,o=this._map.mouseEventToLayerPoint(t),r=o.subtract(e),s=new n.Point(Math.min(o.x,e.x),Math.min(o.y,e.y));n.DomUtil.setPosition(i,s),i.style.width=Math.abs(r.x)-4+"px",i.style.height=Math.abs(r.y)-4+"px"},_onMouseUp:function(t){this._pane.removeChild(this._box),this._container.style.cursor="",n.DomUtil.enableTextSelection(),n.DomEvent.off(document,"mousemove",this._onMouseMove).off(document,"mouseup",this._onMouseUp);var e=this._map,i=e.mouseEventToLayerPoint(t),o=new n.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(i));e.fitBounds(o),e.fire("boxzoomend",{boxZoomBounds:o})}}),n.Map.addInitHook("addHandler","boxZoom",n.Map.BoxZoom),n.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),n.Map.Keyboard=n.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;t.tabIndex===-1&&(t.tabIndex="0"),n.DomEvent.addListener(t,"focus",this._onFocus,this).addListener(t,"blur",this._onBlur,this).addListener(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;n.DomEvent.removeListener(t,"focus",this._onFocus,this).removeListener(t,"blur",this._onBlur,this).removeListener(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){this._focused||this._map._container.focus()},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){n.DomEvent.addListener(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){n.DomEvent.removeListener(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode;if(this._panKeys.hasOwnProperty(e))this._map.panBy(this._panKeys[e]);else{if(!this._zoomKeys.hasOwnProperty(e))return;this._map.setZoom(this._map.getZoom()+this._zoomKeys[e])}n.DomEvent.stop(t)}}),n.Map.addInitHook("addHandler","keyboard",n.Map.Keyboard),n.Handler.MarkerDrag=n.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new n.Draggable(t,t).on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this)),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(t){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=n.DomUtil.getPosition(this._marker._icon);this._marker._shadow&&n.DomUtil.setPosition(this._marker._shadow,e),this._marker._latlng=this._marker._map.layerPointToLatLng(e),this._marker.fire("move").fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),n.Handler.PolyEdit=n.Handler.extend({options:{icon:new n.DivIcon({iconSize:new n.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"})},initialize:function(t,e){this._poly=t,n.Util.setOptions(this,e)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new n.LayerGroup),this._markers=[];var t,e,i,o,r=this._poly._latlngs;for(t=0,i=r.length;t<i;t++)o=this._createMarker(r[t],t),o.on("click",this._onMarkerClick,this),this._markers.push(o);var s,a;for(t=0,e=i-1;t<i;e=t++)(0!==t||n.Polygon&&this._poly instanceof n.Polygon)&&(s=this._markers[e],a=this._markers[t],this._createMiddleMarker(s,a),this._updatePrevNext(s,a))},_createMarker:function(t,e){var i=new n.Marker(t,{draggable:!0,icon:this.options.icon});return i._origLatLng=t,i._index=e,i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._fireEdit,this),this._markerGroup.addLayer(i),i},_fireEdit:function(){this._poly.fire("edit")},_onMarkerDrag:function(t){var e=t.target;n.Util.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly.redraw()},_onMarkerClick:function(t){if(!(this._poly._latlngs.length<3)){var e=t.target,i=e._index;e._prev&&e._next&&(this._createMiddleMarker(e._prev,e._next),this._updatePrevNext(e._prev,e._next)),this._markerGroup.removeLayer(e),e._middleLeft&&this._markerGroup.removeLayer(e._middleLeft),e._middleRight&&this._markerGroup.removeLayer(e._middleRight),this._markers.splice(i,1),this._poly.spliceLatLngs(i,1),this._updateIndexes(i,-1),this._poly.fire("edit")}},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(i){i._index>t&&(i._index+=e)})},_createMiddleMarker:function(t,e){var i,n,o,r=this._getMiddleLatLng(t,e),s=this._createMarker(r);s.setOpacity(.6),t._middleRight=e._middleLeft=s,n=function(){var n=e._index;s._index=n,s.off("click",i).on("click",this._onMarkerClick,this),r.lat=s.getLatLng().lat,r.lng=s.getLatLng().lng,this._poly.spliceLatLngs(n,0,r),this._markers.splice(n,0,s),s.setOpacity(1),this._updateIndexes(n,1),e._index++,this._updatePrevNext(t,s),this._updatePrevNext(s,e)},o=function(){s.off("dragstart",n,this),s.off("dragend",o,this),this._createMiddleMarker(t,s),this._createMiddleMarker(s,e)},i=function(){n.call(this),o.call(this),this._poly.fire("edit")},s.on("click",i,this).on("dragstart",n,this).on("dragend",o,this),this._markerGroup.addLayer(s)},_updatePrevNext:function(t,e){t._next=e,e._prev=t},_getMiddleLatLng:function(t,e){var i=this._poly._map,n=i.latLngToLayerPoint(t.getLatLng()),o=i.latLngToLayerPoint(e.getLatLng());return i.layerPointToLatLng(n._add(o).divideBy(2))}}),n.Control=n.Class.extend({options:{position:"topright"},initialize:function(t){n.Util.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return n.DomUtil.addClass(e,"leaflet-control"),i.indexOf("bottom")!==-1?o.insertBefore(e,o.firstChild):o.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this}}),n.control=function(t){return new n.Control(t)},n.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,r){var s=i+t+" "+i+r;e[t+r]=n.DomUtil.create("div",s,o)}var e=this._controlCorners={},i="leaflet-",o=this._controlContainer=n.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")}}),n.Control.Zoom=n.Control.extend({options:{position:"topleft"},onAdd:function(t){var e="leaflet-control-zoom",i=n.DomUtil.create("div",e);return this._createButton("Zoom in",e+"-in",i,t.zoomIn,t),this._createButton("Zoom out",e+"-out",i,t.zoomOut,t),i},_createButton:function(t,e,i,o,r){var s=n.DomUtil.create("a",e,i);return s.href="#",s.title=t,n.DomEvent.on(s,"click",n.DomEvent.stopPropagation).on(s,"click",n.DomEvent.preventDefault).on(s,"click",o,r).on(s,"dblclick",n.DomEvent.stopPropagation),s}}),n.Map.mergeOptions({zoomControl:!0}),n.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new n.Control.Zoom,this.addControl(this.zoomControl))}),n.control.zoom=function(t){return new n.Control.Zoom(t)},n.Control.Attribution=n.Control.extend({options:{position:"bottomright",prefix:'Powered by <a href="http://leaflet.cloudmade.com">Leaflet</a>'},initialize:function(t){n.Util.setOptions(this,t),this._attributions={}},onAdd:function(t){return this._container=n.DomUtil.create("div","leaflet-control-attribution"),n.DomEvent.disableClickPropagation(this._container),t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){if(t)return this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this},removeAttribution:function(t){if(t)return this._attributions[t]--,this._update(),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions.hasOwnProperty(e)&&this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" &#8212; ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),n.Map.mergeOptions({attributionControl:!0}),n.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new n.Control.Attribution).addTo(this))}),n.control.attribution=function(t){return new n.Control.Attribution(t)},n.Control.Scale=n.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",i=n.DomUtil.create("div",e),o=this.options;return this._addScales(o,e,i),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),this._update(),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=n.DomUtil.create("div",e+"-line",i)),t.imperial&&(this._iScale=n.DomUtil.create("div",e+"-line",i))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),r=this.options,s=0;o.x>0&&(s=n*(r.maxWidth/o.x)),this._updateScales(r,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=e<1e3?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,i,n,o=3.2808399*t,r=this._iScale;o>5280?(e=o/5280,i=this._getRoundNum(e),r.style.width=this._getScaleWidth(i/e)+"px",r.innerHTML=i+" mi"):(n=this._getRoundNum(o),r.style.width=this._getScaleWidth(n/o)+"px",r.innerHTML=n+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),n.control.scale=function(t){return new n.Control.Scale(t)},n.Control.Layers=n.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,i){n.Util.setOptions(this,i),this._layers={},this._lastZIndex=0;for(var o in t)t.hasOwnProperty(o)&&this._addLayer(t[o],o);for(o in e)e.hasOwnProperty(o)&&this._addLayer(e[o],o,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._container},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=n.Util.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=n.DomUtil.create("div",t);n.Browser.touch?n.DomEvent.on(e,"click",n.DomEvent.stopPropagation):n.DomEvent.disableClickPropagation(e);var i=this._form=n.DomUtil.create("form",t+"-list");if(this.options.collapsed){n.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var o=this._layersLink=n.DomUtil.create("a",t+"-toggle",e);o.href="#",o.title="Layers",n.Browser.touch?n.DomEvent.on(o,"click",n.DomEvent.stopPropagation).on(o,"click",n.DomEvent.preventDefault).on(o,"click",this._expand,this):n.DomEvent.on(o,"focus",this._expand,this),this._map.on("movestart",this._collapse,this)}else this._expand();this._baseLayersList=n.DomUtil.create("div",t+"-base",i),this._separator=n.DomUtil.create("div",t+"-separator",i),this._overlaysList=n.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,i){var o=n.Util.stamp(t);this._layers[o]={layer:t,name:e,overlay:i},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t=!1,e=!1;for(var i in this._layers)if(this._layers.hasOwnProperty(i)){var n=this._layers[i];this._addItem(n),e=e||n.overlay,t=t||!n.overlay}this._separator.style.display=e&&t?"":"none"}},_createRadioElement:function(t,e){var i='<input type="radio" name="'+t+'"';e&&(i+=' checked="checked"'),i+="/>";var n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers",o),e.layerId=n.Util.stamp(t.layer),n.DomEvent.on(e,"click",this._onInputClick,this);var r=document.createTextNode(" "+t.name);i.appendChild(e),i.appendChild(r);var s=t.overlay?this._overlaysList:this._baseLayersList;s.appendChild(i)},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=n.length;for(t=0;t<o;t++)e=n[t],i=this._layers[e.layerId],e.checked?this._map.addLayer(i.layer,!i.overlay):this._map.removeLayer(i.layer)},_expand:function(){n.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),n.control.layers=function(t,e,i){return new n.Control.Layers(t,e,i)},n.Transition=n.Class.extend({includes:n.Mixin.Events,statics:{CUSTOM_PROPS_SETTERS:{position:n.DomUtil.setPosition},implemented:function(){return n.Transition.NATIVE||n.Transition.TIMER}},options:{easing:"ease",duration:.5},_setProperty:function(t,e){var i=n.Transition.CUSTOM_PROPS_SETTERS;t in i?i[t](this._el,e):this._el.style[t]=e}}),n.Transition=n.Transition.extend({statics:function(){var t=n.DomUtil.TRANSITION,e="webkitTransition"===t||"OTransition"===t?t+"End":"transitionend";return{NATIVE:!!t,TRANSITION:t,PROPERTY:t+"Property",DURATION:t+"Duration",EASING:t+"TimingFunction",END:e,CUSTOM_PROPS_PROPERTIES:{position:n.Browser.any3d?n.DomUtil.TRANSFORM:"top, left"}}}(),options:{fakeStepInterval:100},initialize:function(t,e){this._el=t,n.Util.setOptions(this,e),n.DomEvent.on(t,n.Transition.END,this._onTransitionEnd,this),this._onFakeStep=n.Util.bind(this._onFakeStep,this)},run:function(t){var e,i=[],o=n.Transition.CUSTOM_PROPS_PROPERTIES;for(e in t)t.hasOwnProperty(e)&&(e=o[e]?o[e]:e,e=this._dasherize(e),i.push(e));this._el.style[n.Transition.DURATION]=this.options.duration+"s",this._el.style[n.Transition.EASING]=this.options.easing,this._el.style[n.Transition.PROPERTY]="all";for(e in t)t.hasOwnProperty(e)&&this._setProperty(e,t[e]);n.Util.falseFn(this._el.offsetWidth),this._inProgress=!0,n.Browser.mobileWebkit&&(this.backupEventFire=setTimeout(n.Util.bind(this._onBackupFireEnd,this),1.2*this.options.duration*1e3)),n.Transition.NATIVE?(clearInterval(this._timer),this._timer=setInterval(this._onFakeStep,this.options.fakeStepInterval)):this._onTransitionEnd()},_dasherize:function(){function t(t){return"-"+t.toLowerCase()}var e=/([A-Z])/g;return function(i){return i.replace(e,t)}}(),_onFakeStep:function(){this.fire("step")},_onTransitionEnd:function(t){this._inProgress&&(this._inProgress=!1,clearInterval(this._timer),this._el.style[n.Transition.TRANSITION]="",clearTimeout(this.backupEventFire),delete this.backupEventFire,this.fire("step"),t&&t.type&&this.fire("end"))},_onBackupFireEnd:function(){var t=document.createEvent("Event");t.initEvent(n.Transition.END,!0,!1),this._el.dispatchEvent(t)}}),n.Transition=n.Transition.NATIVE?n.Transition:n.Transition.extend({statics:{getTime:Date.now||function(){return+new Date},TIMER:!0,EASINGS:{linear:function(t){return t},"ease-out":function(t){return t*(2-t)}},CUSTOM_PROPS_GETTERS:{position:n.DomUtil.getPosition},UNIT_RE:/^[\d\.]+(\D*)$/},options:{fps:50},initialize:function(t,e){this._el=t,n.Util.extend(this.options,e),this._easing=n.Transition.EASINGS[this.options.easing]||n.Transition.EASINGS["ease-out"],this._step=n.Util.bind(this._step,this),this._interval=Math.round(1e3/this.options.fps)},run:function(t){this._props={};var e=n.Transition.CUSTOM_PROPS_GETTERS,i=n.Transition.UNIT_RE;this.fire("start");for(var o in t)if(t.hasOwnProperty(o)){var r={};if(o in e)r.from=e[o](this._el);else{var s=this._el.style[o].match(i);r.from=parseFloat(s[0]),r.unit=s[1]}r.to=t[o],this._props[o]=r}clearInterval(this._timer),this._timer=setInterval(this._step,this._interval),this._startTime=n.Transition.getTime()},_step:function(){var t=n.Transition.getTime(),e=t-this._startTime,i=1e3*this.options.duration;
e<i?this._runFrame(this._easing(e/i)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e,i,o,r=n.Transition.CUSTOM_PROPS_SETTERS;for(e in this._props)this._props.hasOwnProperty(e)&&(i=this._props[e],e in r?(o=i.to.subtract(i.from).multiplyBy(t).add(i.from),r[e](this._el,o)):this._el.style[e]=(i.to-i.from)*t+i.from+i.unit);this.fire("step")},_complete:function(){clearInterval(this._timer),this.fire("end")}}),n.Map.include(n.Transition&&n.Transition.implemented()?{setView:function(t,e,i){e=this._limitZoom(e);var n=this._zoom!==e;if(this._loaded&&!i&&this._layers){var o=n?this._zoomToIfClose&&this._zoomToIfClose(t,e):this._panByIfClose(t);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){return t=n.point(t),t.x||t.y?(this._panTransition||(this._panTransition=new n.Transition(this._mapPane),this._panTransition.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.Util.setOptions(this._panTransition,n.Util.extend({duration:.25},e)),this.fire("movestart"),n.DomUtil.addClass(this._mapPane,"leaflet-pan-anim"),this._panTransition.run({position:n.DomUtil.getPosition(this._mapPane).subtract(t)}),this):this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){n.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_panByIfClose:function(t){var e=this._getCenterOffset(t)._floor();return!!this._offsetIsWithinView(e)&&(this.panBy(e),!0)},_offsetIsWithinView:function(t,e){var i=e||1,n=this.getSize();return Math.abs(t.x)<=n.x*i&&Math.abs(t.y)<=n.y*i}}:{}),n.Map.mergeOptions({zoomAnimation:n.DomUtil.TRANSITION&&!n.Browser.android23&&!n.Browser.mobileOpera}),n.DomUtil.TRANSITION&&n.Map.addInitHook(function(){n.DomEvent.on(this._mapPane,n.Transition.END,this._catchTransitionEnd,this)}),n.Map.include(n.DomUtil.TRANSITION?{_zoomToIfClose:function(t,e){if(this._animatingZoom)return!0;if(!this.options.zoomAnimation)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t).divideBy(1-1/i);if(!this._offsetIsWithinView(o,1))return!1;n.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this.fire("movestart").fire("zoomstart"),this.fire("zoomanim",{center:t,zoom:e});var r=this._getCenterLayerPoint().add(o);return this._prepareTileBg(),this._runAnimation(t,e,i,r),!0},_catchTransitionEnd:function(t){this._animatingZoom&&this._onZoomTransitionEnd()},_runAnimation:function(t,e,i,o,r){this._animateToCenter=t,this._animateToZoom=e,this._animatingZoom=!0;var s=n.DomUtil.TRANSFORM,a=this._tileBg;clearTimeout(this._clearTileBgTimer),n.Util.falseFn(a.offsetWidth);var l=n.DomUtil.getScaleString(i,o),h=a.style[s];a.style[s]=r?h+" "+l:l+" "+h},_prepareTileBg:function(){var t=this._tilePane,e=this._tileBg;if(e&&this._getLoadedTilesPercentage(e)>.5&&this._getLoadedTilesPercentage(t)<.5)return t.style.visibility="hidden",t.empty=!0,this._stopLoadingImages(t),void 0;e||(e=this._tileBg=this._createPane("leaflet-tile-pane",this._mapPane),e.style.zIndex=1),e.style[n.DomUtil.TRANSFORM]="",e.style.visibility="hidden",e.empty=!0,t.empty=!1,this._tilePane=this._panes.tilePane=e;var i=this._tileBg=t;n.DomUtil.addClass(i,"leaflet-zoom-animated"),this._stopLoadingImages(i)},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName("img"),o=0;for(e=0,i=n.length;e<i;e++)n[e].complete&&o++;return o/i},_stopLoadingImages:function(t){var e,i,o,r=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,i=r.length;e<i;e++)o=r[e],o.complete||(o.onload=n.Util.falseFn,o.onerror=n.Util.falseFn,o.src=n.Util.emptyImageUrl,o.parentNode.removeChild(o))},_onZoomTransitionEnd:function(){this._restoreTileFront(),n.Util.falseFn(this._tileBg.offsetWidth),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),n.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1},_restoreTileFront:function(){this._tilePane.innerHTML="",this._tilePane.style.visibility="",this._tilePane.style.zIndex=2,this._tileBg.style.zIndex=1},_clearTileBg:function(){!this._animatingZoom&&!this.touchZoom._zooming&&(this._tileBg.innerHTML="")}}:{}),n.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locationOptions=n.Util.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=n.Util.bind(this._handleGeolocationResponse,this),i=n.Util.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locationOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=180*t.coords.accuracy/4e7,i=2*e,o=t.coords.latitude,r=t.coords.longitude,s=new n.LatLng(o,r),a=new n.LatLng(o-e,r-i),l=new n.LatLng(o+e,r+i),h=new n.LatLngBounds(a,l),u=this._locationOptions;if(u.setView){var c=Math.min(this.getBoundsZoom(h),u.maxZoom);this.setView(s,c)}this.fire("locationfound",{latlng:s,bounds:h,accuracy:t.coords.accuracy})}})}(this)}).call(window)},"contrib/jg_lib/properties/ObservableArrayProperty":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/properties/ArrayProperty"),r=i("contrib/jg_lib/properties/MObservableProperty"),s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/Set");return s(n.id,o,function(t,e){s.mixin(this,r),this._defaultValueSet=null,this._itemChangeComparator=null,this.constructor=function(t,i,n){e.constructor.call(this,t,i,n);var o=this._defaultValueSet=new a;if(n)for(var r=0,s=n.length;r<s;r++)o.add(n[r]);this.initChangeEvent()},this.itemChangeComparator=function(t){if(!arguments.length)return this._itemChangeComparator;if(null!=t&&!s.isFunction(t))throw new Error("Parameter itemChangeComparator must be of type Function.");return this._itemChangeComparator=t||null,this},this.setupContext=function(t){e.setupContext.call(this,t),this.setupDependencySupport(t)},this.teardownContext=function(t){this.teardownDependencySupport(t),e.teardownContext.call(this,t)},this.writeValue=function(t,i){var n=t.value;if(this.teardownDependencyChangeHandler(t),e.writeValue.call(this,t,i),null!=i&&i.length>0){for(var o,r=[],s=this._defaultValueSet,a=0,l=i.length;a<l;a++)o=i[a],null!=o&&o.isEventTarget&&o.isObservableTarget&&!s.has(o)&&r.push({target:o,event:o.change});r.length>0&&this.setupDependencyChangeHandler(t,r)}this.notifyChange(t,n,i)},this.needsWrite=function(t,e){return this.hasChange(t,t.value,e)},this.hasChange=function(t,e,i){var n=this.changeComparator();if(n)return!!n.call(t.target,e,i);if(e===i)return!1;if(null==e||null==i)return!0;var o=e.length;if(o!==i.length)return!0;for(var r=0;r<o;r++)if(this.hasItemChange(t,e[r],i[r]))return!0;return!1},this.hasItemChange=function(t,e,i){return this._itemChangeComparator?!!this._itemChangeComparator.call(t.target,e,i):e!==i&&(e===e||i===i)}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/properties/ArrayProperty":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/properties/Property"),r=i("contrib/jg_lib/Class");return r(n.id,o,function(t,e){this._itemType=null,this._itemTypeChecker=null,this._itemNullValue=null,this._allowNull=!1,this._itemReadFilter=null,this._itemWriteFilter=null,this.constructor=function(t,i,n){if(null!=i&&!r.isFunction(i))throw new Error("Parameter itemType must be of type Function.");this._itemType=i||null,this._itemTypeChecker=i?r.getTypeChecker(i):null,i===Number?this._itemNullValue=NaN:i===Boolean?this._itemNullValue=!1:this._itemNullValue=null,null==n&&(n=[]),e.constructor.call(this,t,Array,n)},this.itemType=function(){return this._itemType},this.allowNull=function(t){if(!arguments.length)return this._allowNull;if(null!=t&&!r.isBoolean(t))throw new Error("Parameter allowNull must be of type Boolean.");return this._allowNull=t===!0,this},this.itemReadFilter=function(t){if(!arguments.length)return this._itemReadFilter;if(null!=t&&!r.isFunction(t))throw new Error("Parameter itemReadFilter must be of type Function.");return this._itemReadFilter=t||null,this},this.itemWriteFilter=function(t){if(!arguments.length)return this._itemWriteFilter;if(null!=t&&!r.isFunction(t))throw new Error("Parameter itemWriteFilter must be of type Function.");return this._itemWriteFilter=t||null,this},this.get=function(t){for(var i,n,o=e.get.call(this,t),r=o?o.length:0,s=this._itemNullValue,a=this._itemReadFilter,l=[],h=0;h<r;h++){if(i=o[h],a&&(n=a.call(t,i),n!==i)){if(!this.isValidItemType(n))throw new Error('Value returned from itemReadFilter for property "'+this.name()+'" must be of type '+this.getItemTypeName()+".");i=n}null==i&&(i=s),l.push(i)}return l},this.set=function(t,i){for(var n,o,r=i?i.length:0,s=this._allowNull,a=this._itemNullValue,l=this._itemWriteFilter,h=[],u=0;u<r;u++){if(n=i[u],null==n){if(!s)continue;n=a}if(l&&(o=l.call(t,n),o!==n)){if(!this.isValidItemType(o))throw new Error('Value returned from itemWriteFilter for property "'+this.name()+'" must be of type '+this.getItemTypeName()+".");n=o}h.push(n)}e.set.call(this,t,h)},this.getTypeName=function(){return"Array<"+this.getItemTypeName()+">"},this.getItemTypeName=function(){return this._itemType?r.getName(this._itemType)||this.name()+".itemType":"*"},this.isValidType=function(t){if(null==t)return!0;if(!r.isArray(t))return!1;for(var e=0,i=t.length;e<i;e++)if(!this.isValidItemType(t[e]))return!1;return!0},this.isValidItemType=function(t){return null==t||!this._itemTypeChecker||this._itemTypeChecker(t)}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/utils/StringUtil":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class");return o(n.id,function(t){var e=/^[\s\xA0\u2028\u2029\uFEFF]+|[\s\xA0\u2028\u2029\uFEFF]+$/g,i=/&(?:(#x[a-fA-F0-9]+)|(#[0-9]+)|([a-z]+));/g,n=/\\(?:(u[a-fA-F0-9]{4})|(x[a-fA-F0-9]{2})|([1-7][0-7]{0,2}|[0-7]{2,3})|([\w\W]))/g,o=/&/g,r=/</g,s=/>/g,a=/"/g,l=/'/g,h=/\\/g,u=/[\n]/g,c=/[\r]/g,p=/[\t]/g,d=/[\v]/g,m=/[\f]/g,f=/[\b]/g,g=/[\u2028]/g,_=/[\u2029]/g,v={amp:"&",lt:"<",gt:">",quot:'"',apos:"'",nbsp:" ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏"},y={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",0:"\0"};t.trim=function(t){return null==t?t:(""+t).replace(e,"")},t.escapeHTML=function(t){return null==t?t:(""+t).replace(o,"&amp;").replace(r,"&lt;").replace(s,"&gt;").replace(a,"&quot;").replace(l,"&#39;")},t.unescapeHTML=function(e){return null==e?e:(""+e).replace(i,function(e){var i=arguments[3];return i?v.hasOwnProperty(i)?v[i]:e:(i=arguments[2])?t.fromCodePoint(parseInt(i.substring(1),10)):(i=arguments[1],i?t.fromCodePoint(parseInt(i.substring(2),16)):e)})},t.escapeJS=function(t){return null==t?t:(""+t).replace(h,"\\\\").replace(a,'\\"').replace(l,"\\'").replace(u,"\\n").replace(c,"\\r").replace(p,"\\t").replace(d,"\\v").replace(m,"\\f").replace(f,"\\b").replace(g,"\\u2028").replace(_,"\\u2029")},t.unescapeJS=function(e){return null==e?e:(""+e).replace(n,function(e){var i=arguments[4];return i?y.hasOwnProperty(i)?y[i]:i:(i=arguments[3])?t.fromCodePoint(parseInt(i,8)):(i=arguments[2]||arguments[1],i?t.fromCodePoint(parseInt(i.substring(1),16)):e)})},t.fromCodePoint=function(t){for(var e="",i=0,n=arguments.length;i<n;i++)t=+arguments[i],t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t);return e}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"splunk/events/GenericEventData":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/events/EventData"),s=i("contrib/jg_lib/utils/ObjectUtil");return o(n.id,r,function(t,e){this.constructor=function(t){if(null!=t)for(var e in t)!s.has(t,e)||e in this||(this[e]=t[e])}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/LatLon":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/leaflet"),r=i("contrib/jg_lib/Class");return r(n.id,Object,function(t,e){t.fromLeaflet=function(e){return new t(e.lat,e.lng)},this.lat=0,this.lon=0,this.constructor=function(t,e){this.lat=null!=t?+t:0,this.lon=null!=e?+e:0},this.normalize=function(e){var i=+this.lat;i<-90?i=-90:i>90&&(i=90);var n=e?e.lon:0,o=(this.lon-n)%360;return o<-180?o+=360:o>180&&(o-=360),o+=n,new t(i,o)},this.isFinite=function(){return this.lat-this.lat===0&&this.lon-this.lon===0},this.equals=function(t){return this.lat==t.lat&&this.lon==t.lon},this.clone=function(){return new t(this.lat,this.lon)},this.toString=function(){return"("+ +this.lat+","+ +this.lon+")"},this.toLeaflet=function(){var t=new o.LatLng(0,0);return t.lat=+this.lat,t.lng=+this.lon,t}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/LatLonBounds":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/leaflet"),r=i("contrib/jg_lib/Class"),s=i("splunk/mapping/LatLon");return r(n.id,Object,function(t,e){t.fromLeaflet=function(e){var i=e.getSouthWest(),n=e.getNorthEast();return new t(i.lat,i.lng,n.lat,n.lng)},this.s=0,this.w=0,this.n=0,this.e=0,this.constructor=function(t,e,i,n){this.s=null!=t?+t:0,this.w=null!=e?+e:0,this.n=null!=i?+i:0,this.e=null!=n?+n:0},this.getSW=function(){return new s(this.s,this.w)},this.getSE=function(){return new s(this.s,this.e)},this.getNW=function(){return new s(this.n,this.w)},this.getNE=function(){return new s(this.n,this.e)},this.getCenter=function(){return new s((+this.s+ +this.n)/2,(+this.w+ +this.e)/2)},this.expand=function(t){var e=+t.lat,i=+t.lon,n=+this.s,o=+this.w,r=+this.n,s=+this.e;e<n&&(this.s=e),e>r&&(this.n=e),i<o&&(this.w=i),i>s&&(this.e=i)},this.contains=function(t){var e=+t.lat,i=+t.lon,n=+this.s,o=+this.w,r=+this.n,s=+this.e;return e>=n&&e<=r&&i>=o&&i<=s},this.normalize=function(e){var i=+this.s;i<-90?i=-90:i>90&&(i=90);var n=+this.n;n<i?n=i:n>90&&(n=90);var o=e?e.lon:0,r=this.w-o,s=this.e-o;return s-r>=360?(r=-180,s=180):(r%=360,r<-180?r+=360:r>180&&(r-=360),s%=360,s<-180?s+=360:s>180&&(s-=360),s<r&&(s>-r?r-=360:s+=360)),r+=o,s+=o,new t(i,r,n,s)},this.isFinite=function(){return this.s-this.s===0&&this.w-this.w===0&&this.n-this.n===0&&this.e-this.e===0},this.equals=function(t){return this.s==t.s&&this.w==t.w&&this.n==t.n&&this.e==t.e},this.clone=function(){return new t(this.s,this.w,this.n,this.e)},this.toString=function(){return"("+ +this.s+","+ +this.w+","+ +this.n+","+ +this.e+")"},this.toLeaflet=function(){var t=new o.LatLng(0,0);t.lat=+this.s,t.lng=+this.w;var e=new o.LatLng(0,0);return e.lat=+this.n,e.lng=+this.e,new o.LatLngBounds(t,e)}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/controls/ControlBase":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/MPassTarget"),s=i("contrib/jg_lib/events/MEventTarget"),a=i("contrib/jg_lib/events/MListenerTarget"),l=i("contrib/jg_lib/events/MObservableTarget"),h=i("contrib/jg_lib/properties/MPropertyTarget"),u=i("splunk/viz/MRenderTarget"),c=i("contrib/jg_lib/properties/ObservableProperty");return o(n.id,Object,function(t,e){o.mixin(this,s,a,l,h,r,u),this.isVisible=new c("isVisible",Boolean,!0).onChange(function(t){this.invalidate("renderPass")}),this.constructor=function(){if(this.leafletControl=this.createLeafletControl(),!this.leafletControl)throw new Error("Value returned from createLeafletControl() must be non-null.")},this.render=function(){},this.createLeafletControl=function(){throw new Error("Must implement method createLeafletControl.")},this.onAddedToMap=function(t){this.map=t},this.onRemovedFromMap=function(t){this.map=null}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/viz/MRenderTarget":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/Pass");return o(n.id,function(t){this.renderPass=new r("render",3,"topDown"),this.render=function(){}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/layers/LayerBase":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/MPassTarget"),s=i("contrib/jg_lib/events/MEventTarget"),a=i("contrib/jg_lib/events/MListenerTarget"),l=i("contrib/jg_lib/events/MObservableTarget"),h=i("contrib/jg_lib/properties/MPropertyTarget"),u=i("contrib/jg_lib/properties/Property"),c=i("contrib/jg_lib/utils/FunctionUtil"),p=i("splunk/viz/MRenderTarget");return o(n.id,Object,function(t,e){o.mixin(this,s,a,l,h,r,p),t.METADATA_KEY="__splunk_mapping_layers_LayerBase_metadata",this.map=new u("map",Object,null).readOnly(!0),this.leafletLayer=null,this.constructor=function(){if(this._map_boundsChanged=c.bind(this._map_boundsChanged,this),this.leafletLayer=this.createLeafletLayer(),!this.leafletLayer)throw new Error("Value returned from createLeafletLayer() must be non-null.")},this.render=function(){if(!this.isValid("renderPass")){var t=this.getInternal("map");t&&this.renderOverride(t),this.markValid("renderPass")}},this.createLeafletLayer=function(){throw new Error("Must implement method createLeafletLayer.")},this.renderOverride=function(t){},this.onAddedToMap=function(t){this.setInternal("map",t),t.on("boundsChanged",this._map_boundsChanged),this.invalidate("renderPass")},this.onRemovedFromMap=function(t){t.off("boundsChanged",this._map_boundsChanged),this.setInternal("map",null)},this._map_boundsChanged=function(t){this.invalidate("renderPass")}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/viz/VizBase":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/jquery"),r=i("contrib/jg_lib/Class"),s=i("contrib/jg_lib/async/MPassTarget"),a=i("contrib/jg_lib/events/MEventTarget"),l=i("contrib/jg_lib/events/MListenerTarget"),h=i("contrib/jg_lib/events/MObservableTarget"),u=i("contrib/jg_lib/properties/MPropertyTarget"),c=i("contrib/jg_lib/properties/Property");return r(n.id,Object,function(t,e){r.mixin(this,a,l,h,u,s);var i="__splunk_viz_VizBase_instance",n=0;t.getInstance=function(e){if(null==e)return null;if(e=o(e),0==e.length)return null;e=e[0];var n=e[i];return n instanceof t?n:null},this.id=new c("id",String,null).readOnly(!0),this.element=null,this.$element=null,this.constructor=function(t){if(null!=t&&!r.isString(t))throw new Error("Parameter html must be of type String.");var e=o(t?t:"<div></div>");if(0==e.length)throw new Error("Parameter html must be valid markup.");var i="splunk-viz-VizBase-"+ ++n;this.element=e[0],this.$element=o(this.element),this.setInternal("id",i),this.addStyleClass("splunk-viz-VizBase")},this.addStyleClass=function(t){this.$element.addClass(t)},this.removeStyleClass=function(t){this.$element.removeClass(t)},this.setStyle=function(t){this.$element.css(t)},this.appendTo=function(e){if(null==e)throw new Error("Parameter parentElement must be non-null.");if(e instanceof t&&(e=e.element),e=o(e),0!=e.length){e=e[0];var i=this.element.parentNode;i&&i!==e&&this.onRemove(),e.appendChild(this.element),i!==e&&this.onAppend()}},this.replace=function(e){if(null==e)throw new Error("Parameter element must be non-null.");if(e instanceof t&&(e=e.element),e=o(e),0!=e.length){e=e[0];var i=e.parentNode;if(null!=i){var n=this.element.parentNode;n&&n!==i&&this.onRemove(),i.replaceChild(this.element,e),n!==i&&this.onAppend()}}},this.remove=function(){var t=this.element,e=t.parentNode;e&&(this.onRemove(),e.removeChild(t))},this.dispose=function(){this.remove(),this.listenOff(),this.off(),this.markValid(),this.$element.remove()},this.getValidateDepth=function(){for(var t=0,e=this.element.parentNode;e;)t++,e=e.parentNode;return t},this.onAppend=function(){},this.onRemove=function(){}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/layers/ChoroplethLayer":function(t,e,i){var n;n=function(t,e,n){var o=i("require/underscore"),r=i("contrib/jg_lib/Class"),s=i("contrib/jg_lib/async/Pass"),a=i("contrib/jg_lib/events/Event"),l=i("contrib/jg_lib/events/EventData"),h=i("contrib/jg_lib/geom/Rectangle"),u=i("contrib/jg_lib/graphics/Color"),c=i("contrib/jg_lib/properties/ObservableProperty"),p=(i("contrib/jg_lib/utils/NumberUtil"),i("contrib/jg_lib/utils/ObjectUtil")),d=i("splunk/mapping/LatLon"),m=i("splunk/mapping/LatLonBounds"),f=i("splunk/mapping/axis/BaseAxis"),g=i("splunk/mapping/layers/LayerBase"),_=i("splunk/mapping/layers/VectorLayerBase"),v=i("splunk/palettes/ColorPalette"),y=(i("splunk/palettes/ListColorPalette"),i("splunk/utils/DataUtil")),b=i("splunk/vectors/Path"),w=i("splunk/viz/MDataTarget");return r(n.id,_,function(t,e){r.mixin(this,w);var i=13750737;this.computeContainedRangePass=new s("computeContainedRange",.111),this.rendered=new a("rendered",l),this.axis=new c("axis",f,null).onChange(function(t){t.target===this?(t.oldValue&&t.oldValue.unregister(this),t.newValue&&t.newValue.register(this),this.invalidate("processDataPass"),this.invalidate("computeContainedRangePass")):!t.property||t.property!==t.target.preliminaryMinimum&&t.property!==t.target.preliminaryMaximum?!t.property||t.property!==t.target.extendedMinimum&&t.property!==t.target.extendedMaximum?!t.property||t.property!==t.target.actualMinimum&&t.property!==t.target.actualMaximum||this.invalidate("renderPass"):this.invalidate("renderDataPass"):this.invalidate("computeContainedRangePass")}),this.bins=new c("bins",Number,5).writeFilter(function(t){return isNaN(t)?5:Math.min(Math.max(Math.floor(t),1),9)}).onChange(function(t){this.invalidate("renderDataPass")}),this.neutralPoint=new c("neutralPoint",Number,NaN).writeFilter(function(t){return t>-(1/0)&&t<1/0?t:NaN}).onChange(function(t){this.invalidate("computeContainedRangePass")}),this.colorPalette=new c("colorPalette",v,null).onChange(function(t){this.invalidate("renderDataPass")}),this.shapeOpacity=new c("shapeOpacity",Number,.75).writeFilter(function(t){return isNaN(t)?.75:t>=0?Math.min(t,1):0}).onChange(function(t){this.invalidate("renderDataPass")}),this.borderColor=new c("borderColor",u,u.fromNumber(15329769)).readFilter(function(t){return t.clone()}).writeFilter(function(t){return t?t.clone().normalize():u.fromNumber(15329769)}).changeComparator(function(t,e){return!t.equals(e)}).onChange(function(t){this.invalidate("renderDataPass")}),this.borderOpacity=new c("borderOpacity",Number,.75).writeFilter(function(t){return isNaN(t)?.75:t>=0?Math.min(t,1):0}).onChange(function(t){this.invalidate("renderDataPass")}),this.borderWidth=new c("borderWidth",Number,1).writeFilter(function(t){return t<1/0?Math.max(t,0):0}).onChange(function(t){this.invalidate("renderDataPass")}),this.showDensity=new c("showDensity",Boolean,!1).onChange(function(t){this.invalidate("processDataPass")}),this.wrapX=new c("wrapX",Boolean,!0).onChange(function(t){this.invalidate("renderPass")}),this.wrapY=new c("wrapY",Boolean,!1).onChange(function(t){this.invalidate("renderPass")}),this.featureIdFieldName=new c("featureIdFieldName",String,"").onChange(function(t){this.invalidate("processDataPass")}),this.selectedField=new c("selectedField",String,null).onChange(function(t){this.invalidate("renderDataPass")}),this._colorPalette=null,this._polygonMap=null,this._polygonList=null,this._labelValues=[],this.constructor=function(){e.constructor.call(this),this._polygonMap={},this._polygonList=[]},this.getLatLonBounds=function(t){if(null!=t&&!(t instanceof d))throw new Error("Parameter center must be of type "+r.getName(d)+".");this.validate();for(var e,i,n=new m(1/0,1/0,-(1/0),-(1/0)),o=this._polygonList,s=0,a=o.length;s<a;s++)e=o[s],i=e.getLatLonBounds(),n.expand(i.getSW().normalize(t)),n.expand(i.getNE().normalize(t));return n.isFinite()?n:null},this.processDataOverride=function(t,e){this.invalidate("renderPass");var i,r,s=this._polygonMap,a=this._polygonMap={},l=this._polygonList=[],h=t.length,u=e.length,c=[],d=this.getInternal("axis");if(h>0&&u>1){var m,f,g,_,v,b,w=this.getInternal("showDensity"),x=this.vectorContainer,P=this.getInternal("featureIdFieldName"),L=P?o(e).without(P):e,C=L[0],M=L[1],T=w&&L.length>2?L[2]:null;for(i=0;i<h;i++)if(m=t[i],null!=m){if(g=m[M],f=P?m[P]:g,_=null!=m[C]?m[C]:"NULL",c.push(_),v=T?y.parseNumber(m[T]):0,b=s[f],b&&b.geom!==g&&(b.dispose(),b=null,delete s[f]),!b){if(b=n.fromJSON(g),!b)continue;b.appendTo(x)}delete s[f],a[f]=b,l.push(b),b.data=m,b.count=_,b.geom=g,b.fields=e,b.tooltipFields=P?[P,C]:[C],b.valueFieldName=C}d?(this._labelValues=null,d.provideContainedValues(this,c)):this._labelValues=c}for(r in s)p.has(s,r)&&s[r].dispose()},this.computeContainedRange=function(){var t=this.get("axis");if(t){var e=t.get("preliminaryMinimum"),i=t.get("preliminaryMaximum");if(!o.isFinite(e)||!o.isFinite(i))return void t.provideContainedRange(this,NaN,NaN);var n=this.getInternal("neutralPoint");if(o.isNaN(n)||i===e&&e===n)return void t.provideContainedRange(this,NaN,NaN);var r=Math.max(n-e,i-n);t.provideContainedRange(this,n-r,n+r)}},this.updateLegendLabelsOverride=function(t,e){return this.getInternal("axis")?null:this._labelValues},this.renderDataOverride=function(t,e,n){var o=this.getInternal("axis");if(o||n){var r=this.getInternal("shapeOpacity"),s=this.getInternal("borderColor"),a=this.getInternal("borderOpacity"),h=this.getInternal("borderWidth"),c=this.getInternal("colorPalette"),p=this._polygonList;if(o)var d=o.get("extendedMinimum"),m=o.get("extendedMaximum");var f,g=this.getInternal("bins"),_=this.get("selectedField");f=o?g:n.getNumLabels();for(var v,y,b,w,x,P,L=Math.max(f-1,0),C=0,M=p.length;C<M;C++)y=p[C],c?o?(b=o.valueToAbsolute(y.count),w=Math.floor((b-d)/((m-d)/f)),v=L>0?w/L:0,_?(x=o.valueToAbsolute(_),P=Math.floor((x-d)/((m-d)/f)),w===P?y.fillColor((c.getItem(v,L,String(b))||new u).toNumber()):y.fillColor(i)):isNaN(b)?y.fillColor(i):y.fillColor((c.getItem(v,L,String(b))||new u).toNumber())):_?(b=y.count,b===_?(w=n.getLabelIndex(b),v=L>0?w/L:0,y.fillColor((c.getItem(v,L,String(b))||new u).toNumber())):y.fillColor(i)):(b=y.count,w=n.getLabelIndex(b),v=L>0?w/L:0,y.fillColor((c.getItem(v,L,String(b))||new u).toNumber())):y.fillColor(0),y.fillOpacity(r),h>0?(y.strokeColor(s.toNumber()),y.strokeOpacity(a),y.strokeWidth(h)):(y.strokeColor(NaN),y.strokeOpacity(NaN),y.strokeWidth(NaN));this.isValid("renderPass")&&this.fire("rendered",new l)}},this.renderOverride=function(t){var i=this.getInternal("axis");e.renderOverride.call(this,t);for(var n,o,r,s,a,h,u,c,p,d=t.leafletMap,m=d.getCenter(),f=this.getInternal("wrapX"),g=this.getInternal("wrapY"),_=this.vectorBounds,v=_.minX,y=_.minY,b=_.maxX,w=_.maxY,x=this._polygonList,P=0,L=x.length;P<L;P++){var C=x[P].count;C=i?i.absoluteToRelative(C):0,n=x[P],n.render(d),o=n.getPixelBounds(),r=n.getLatLonBounds().getCenter(),s=r.toLeaflet(),a=r.toLeaflet(),f&&(a.lng-=m.lng,a.lng%=360,a.lng>180?a.lng-=360:a.lng<-180&&(a.lng+=360),a.lng+=m.lng),g&&(a.lat-=m.lat,a.lat%=180,a.lat>90?a.lat-=180:a.lat<-90&&(a.lat+=180),a.lat+=m.lat),n.tooltipLatLng=a,h=d.latLngToLayerPoint(s),u=d.latLngToLayerPoint(a),c=u.x-h.x,p=u.y-h.y,n.translate(c,p),c+o.x+o.width<v||c+o.x>b||p+o.y+o.height<y||p+o.y>w||C<0||C>1?n.display("none"):n.display(null)}this.fire("rendered",new l)};var n=r(b,function(t,e){t.fromJSON=function(e){if(null==e)return null;if("string"==typeof e&&(e=JSON.parse(e)),!e||"MultiPolygon"!==e.type)return null;var o=e.coordinates;return o&&(o=i(o))?(n(o),new t(o)):null};var i=function(t,e,n){if(!t)return null;var o=t.length;if(!o)return null;if(e||(e=[]),2===o&&"number"==typeof t[0]&&"number"==typeof t[1])n?n.push(new d(t[1],t[0])):e.push([new d(t[1],t[0])]);else{n=[];for(var r=0;r<o;r++)i(t[r],e,n);n.length>0&&e.push(n)}return e.length>0?e:null},n=function(t){var e,i,n,o,r,s=t.length,a=0,l=0;for(n=0;n<s;n++)for(e=t[n],o=0,r=e.length;o<r;o++)i=e[o],a+=i.lon,l++;var h=a/l;for(n=0;n<s;n++)if(e=t[n],i=e[0],i.lon-h>180)for(o=0,r=e.length;o<r;o++)i=e[o],i.lon-=360;else if(i.lon-h<-180)for(o=0,r=e.length;o<r;o++)i=e[o],i.lon+=360};this.magnitude=0,this.scale=0,this.data=null,this.fields=null,this.tooltipFields=null,this.tooltipLatLng=null,this.tooltipOffsetRadius=0,this._coordinates=null,this._bounds=null,this._boundsPixels=new h(NaN,NaN,NaN,NaN),this.constructor=function(t){if(null==t)throw new Error("Parameter coordinates must be non-null.");e.constructor.call(this),this._coordinates=t,this.element[g.METADATA_KEY]=this},this.getLatLonBounds=function(){var t=this._bounds;if(!t){t=this._bounds=new m(1/0,1/0,-(1/0),-(1/0));var e,i,n,o,r,s=this._coordinates;for(i=0,n=s.length;i<n;i++)for(e=s[i],o=0,r=e.length;o<r;o++)t.expand(e[o])}return t},this.getPixelBounds=function(){return this._boundsPixels},this.render=function(t){var e=this._coordinates,i=this.getLatLonBounds(),n=t.latLngToLayerPoint(i.getNW().toLeaflet()),o=t.latLngToLayerPoint(i.getSE().toLeaflet()),r=new h(n.x,n.y,o.x-n.x,o.y-n.y);if(!r.equals(this._boundsPixels)){this._boundsPixels=r;var s,a,l,u,c,p,d;for(this.beginPath(),u=0,c=e.length;u<c;u++){for(s=e[u],a=t.latLngToLayerPoint(s[0].toLeaflet()),this.moveTo(a.x,a.y),p=1,d=s.length;p<d;p++)l=t.latLngToLayerPoint(s[p].toLeaflet()),this.lineTo(l.x,l.y);this.lineTo(a.x,a.y)}this.endPath()}},this.dispose=function(){this.element[g.METADATA_KEY]=null,e.dispose.call(this)}})})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/geom/Rectangle":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/NumberUtil");return o(n.id,Object,function(t,e){var i=/^\s*\(?([^\)]+)\)?\s*$/;t.interpolate=function(e,i,n){var o=r.interpolate(e.x,i.x,n),s=r.interpolate(e.y,i.y,n),a=r.interpolate(e.width,i.width,n),l=r.interpolate(e.height,i.height,n);return new t(o,s,a,l)},t.fromArray=function(e){var i=e.length,n=i>0?e[0]:0,o=i>1?e[1]:0,r=i>2?e[2]:0,s=i>3?e[3]:0;return new t(n,o,r,s)},t.fromString=function(e){var n=(""+e).match(i);return n?t.fromArray(n[1].split(",")):new t},this.x=0,this.y=0,this.width=0,this.height=0,this.constructor=function(t,e,i,n){this.x=null!=t?+t:0,this.y=null!=e?+e:0,this.width=null!=i?+i:0,this.height=null!=n?+n:0},this.hasNaN=function(){return isNaN(this.x)||isNaN(this.y)||isNaN(this.width)||isNaN(this.height)},this.hasInfinity=function(){return this.x==1/0||this.x==-(1/0)||this.y==1/0||this.y==-(1/0)||this.width==1/0||this.width==-(1/0)||this.height==1/0||this.height==-(1/0)},this.isFinite=function(){return this.x-this.x===0&&this.y-this.y===0&&this.width-this.width===0&&this.height-this.height===0},this.approxEquals=function(t,e){return r.approxEqual(this.x,t.x,e)&&r.approxEqual(this.y,t.y,e)&&r.approxEqual(this.width,t.width,e)&&r.approxEqual(this.height,t.height,e)},this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},this.clone=function(){return new t(this.x,this.y,this.width,this.height)},this.toArray=function(){return[+this.x,+this.y,+this.width,+this.height]},this.toString=function(){return"("+ +this.x+","+ +this.y+","+ +this.width+","+ +this.height+")"}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"splunk/mapping/axis/BaseAxis":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/MPassTarget"),s=i("contrib/jg_lib/async/Pass"),a=i("contrib/jg_lib/events/ChainedEvent"),l=i("contrib/jg_lib/events/EventData"),h=i("contrib/jg_lib/events/MEventTarget"),u=i("contrib/jg_lib/events/MListenerTarget"),c=i("contrib/jg_lib/events/MObservableTarget"),p=i("contrib/jg_lib/properties/MPropertyTarget"),d=i("contrib/jg_lib/properties/ObservableProperty"),m=i("contrib/jg_lib/utils/Map");return o(n.id,Object,function(t,e){o.mixin(this,h,u,c,p,r),this.processContainedValuesPass=new s("processContainedValues",.11),this.processContainedRangePass=new s("processContainedRange",.12),this.processExtendedRangePass=new s("processExtendedRange",.13),this.processActualRangePass=new s("processActualRange",.14),this.absoluteMapChanged=new a("absoluteMapChanged",this.change),this.relativeMapChanged=new a("relativeMapChanged",this.change),this.minimum=new d("minimum",Number,NaN).writeFilter(function(t){return t>-(1/0)&&t<1/0?t:NaN}).onChange(function(t){this.invalidate("processActualRangePass")}),this.maximum=new d("maximum",Number,NaN).writeFilter(function(t){return t>-(1/0)&&t<1/0?t:NaN}).onChange(function(t){this.invalidate("processActualRangePass")}),this.preliminaryMinimum=new d("preliminaryMinimum",Number,1/0).readOnly(!0),this.preliminaryMaximum=new d("preliminaryMaximum",Number,-(1/0)).readOnly(!0),this.containedMinimum=new d("containedMinimum",Number,1/0).readOnly(!0),this.containedMaximum=new d("containedMaximum",Number,-(1/0)).readOnly(!0),this.extendedMinimum=new d("extendedMinimum",Number,1/0).readOnly(!0),this.extendedMaximum=new d("extendedMaximum",Number,-(1/0)).readOnly(!0),this.actualMinimum=new d("actualMinimum",Number,1/0).readOnly(!0),this.actualMaximum=new d("actualMaximum",Number,-(1/0)).readOnly(!0),this._vizStore=null,this._actualMaximum=0,this._actualMinimum=0,this.constructor=function(){this._vizStore=new m},this.register=function(t){this._vizStore.has(t)||this._vizStore.set(t,{values:[],extendedRange:{absolute1:NaN,absolute2:NaN},containedRange:{absolute1:NaN,absolute2:NaN}})},this.unregister=function(t){this._vizStore.has(t)&&(this._vizStore.del(t),this.invalidate(this.processContainedRangePass))},this.provideContainedValues=function(t,e){var i=this._vizStore.get(t);i&&(i.values=e.slice(),this._vizStore.set(t,i),this.invalidate(this.processContainedValuesPass))},this.provideContainedRange=function(t,e,i){var n=this._vizStore.get(t);if(e>i){var o=i;i=e,e=o}n&&(n.containedRange.absolute1=e,n.containedRange.absolute2=i,this.invalidate(this.processContainedRangePass))},this.provideExtendedRange=function(t,e,i){var n=this._vizStore.get(t);if(e>i){var o=i;i=e,e=o}n&&(n.extendedRange.absolute1=e,n.extendedRange.absolute2=i,this.invalidate(this.processExtendedRangePass))},this.processContainedValues=function(){var t,e=this._vizStore.values(),i=[],n=1/0,o=-(1/0);for(t=0;t<e.length;t++)i=i.concat(e[t].values);for(i=this.processValues(i),t=0;t<i.length;t++){var r=this.valueToAbsolute(i[t]);r<n&&(n=r),r>o&&(o=r)}this.setInternal("preliminaryMinimum",n),this.setInternal("preliminaryMaximum",o),this.invalidate("processContainedRangePass")},this.processContainedRange=function(){for(var t=this.getInternal("preliminaryMinimum"),e=this.getInternal("preliminaryMaximum"),i=this._vizStore.values(),n=0;n<i.length;n++)i[n].containedRange.absolute1<t&&(t=i[n].containedRange.absolute1),i[n].containedRange.absolute2>e&&(e=i[n].containedRange.absolute2);this.setInternal("containedMaximum",e),this.setInternal("containedMinimum",t),this.invalidate("processExtendedRangePass")},this.processExtendedRange=function(){for(var t=this.getInternal("containedMinimum"),e=this.getInternal("containedMaximum"),i=this._vizStore.values(),n=0;n<i.length;n++)i[n].extendedRange.absolute1<t&&(t=i[n].extendedRange.absolute1),i[n].extendedRange.absolute2>e&&(e=i[n].extendedRange.absolute2);this.setInternal("extendedMinimum",t),this.setInternal("extendedMaximum",e),this.invalidate("processActualRangePass")},this.processActualRange=function(){var t=this.getInternal("minimum"),e=this.getInternal("maximum"),i=this._actualMinimum,n=this._actualMaximum;isNaN(t)&&(t=this.getInternal("extendedMinimum")),isNaN(e)&&(e=this.getInternal("extendedMaximum")),this._actualMinimum=t,this._actualMaximum=e,this.setInternal("actualMaximum",e),this.setInternal("actualMinimum",t),this._actualMaximum===n&&this._actualMinimum===i||this.fire("relativeMapChanged",new l)},this.valueToAbsolute=function(t){throw new Error("Must implement valueToAbsolute method")},this.absoluteToValue=function(t){throw new Error("Must implement absoluteToValue method")},this.absoluteToRelative=function(t){return this._actualMaximum===this._actualMinimum?0:(t-this._actualMinimum)/(this._actualMaximum-this._actualMinimum)},this.relativeToAbsolute=function(t){return t*(this._actualMaximum-this._actualMinimum)+this._actualMinimum},this.processValues=function(t){throw new Error("Must implement processValues mehod")}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/layers/VectorLayerBase":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/leaflet"),r=i("contrib/jg_lib/Class"),s=i("contrib/jg_lib/geom/Rectangle"),a=i("contrib/jg_lib/utils/FunctionUtil"),l=i("splunk/mapping/layers/LayerBase"),h=i("splunk/vectors/Group"),u=i("splunk/vectors/Viewport");return r(n.id,l,function(t,e){this.vectorContainer=null,this.vectorBounds=null,this._isZooming=!1,this.constructor=function(){e.constructor.call(this),this._leafletMap_move=a.bind(this._leafletMap_move,this),this._leafletMap_zoomstart=a.bind(this._leafletMap_zoomstart,this),this._leafletMap_zoomend=a.bind(this._leafletMap_zoomend,this),this.vectorContainer=this.leafletLayer.vectorContainer,this.vectorBounds={minX:0,minY:0,maxX:0,maxY:0}},this.createLeafletLayer=function(){return new i},this.renderOverride=function(t){this._isZooming||this.vectorContainer.display(null)},this.onAddedToMap=function(t){e.onAddedToMap.call(this,t);var i=t.leafletMap;this.vectorContainer.hasSVG?i.on("move",this._leafletMap_move):i.on("moveend",this._leafletMap_move),i.on("viewreset",this._leafletMap_move),i.on("zoomstart",this._leafletMap_zoomstart),i.on("zoomend",this._leafletMap_zoomend),this.vectorBounds=i._vectorLayerBounds,this.vectorContainer.display("none")},this.onRemovedFromMap=function(t){var i=t.leafletMap;this.vectorContainer.hasSVG?i.off("move",this._leafletMap_move):i.off("moveend",this._leafletMap_move),i.off("viewreset",this._leafletMap_move),i.off("zoomstart",this._leafletMap_zoomstart),i.off("zoomend",this._leafletMap_zoomend),this.vectorBounds={minX:0,minY:0,maxX:0,maxY:0},e.onRemovedFromMap.call(this,t)},this._leafletMap_move=function(t){this.invalidate("renderPass")},this._leafletMap_zoomstart=function(t){this._isZooming=!0,this.vectorContainer.display("none")},this._leafletMap_zoomend=function(t){this._isZooming=!1,this.invalidate("renderPass")};var i=o.Class.extend({includes:[o.Mixin.Events],options:{clickable:!0},vectorContainer:null,initialize:function(t){o.Util.setOptions(this,t),this.vectorContainer=new h},onAdd:function(t){this._map=t,t._initVectorLayerViewport(),this.vectorContainer.appendTo(t._vectorLayerViewport)},onRemove:function(t){this._map=null,this.vectorContainer.remove()}});o.Map.include({_initVectorLayerViewport:function(){if(!this._vectorLayerRoot){var t=this._vectorLayerRoot=document.createElement("div");t.style.position="absolute",this._panes.overlayPane.appendChild(t);var e=this._vectorLayerViewport=new u;e.appendTo(t),this._vectorLayerBounds={minX:0,minY:0,maxX:0,maxY:0},e.hasSVG?this.on("move",this._updateVectorLayerBounds):this.on("moveend",this._updateVectorLayerBounds),this._updateVectorLayerBounds()}},_updateVectorLayerBounds:function(){var t=this._vectorLayerRoot,e=this._vectorLayerViewport,i=this._vectorLayerBounds,n=e.hasSVG?0:.5,r=this.getSize(),a=o.DomUtil.getPosition(this._mapPane),l=a.multiplyBy(-1)._subtract(r.multiplyBy(n)),h=l.add(r.multiplyBy(1+2*n)),u=h.x-l.x,c=h.y-l.y;i.minX=l.x,i.minY=l.y,i.maxX=h.x,i.maxY=h.y,o.DomUtil.setPosition(t,l),e.width(u),e.height(c),e.viewBox(new s(l.x,l.y,u,c))}})})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/Group":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/vectors/VectorElement");return o(n.id,r,function(t,e){this.constructor=function(){e.constructor.call(this)};var i=o(function(t){this.constructor=function(){e.constructor.call(this,"g")}}),n=o(function(t){this.constructor=function(){e.constructor.call(this,"group"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize="1,1"}});r.mixin(this,i,n)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/VectorElement":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class");return o(n.id,Object,function(t,e){var i="function"==typeof document.createElementNS,n=!i&&function(){try{document.namespaces.add("splvml","urn:schemas-microsoft-com:vml");var t=".splvml { behavior: url(#default#VML); display: inline-block; position: absolute; }",e=document.createElement("style");e.setAttribute("type","text/css");var i=document.getElementsByTagName("head")[0];return i.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),!0}catch(t){return!1}}();t.mixin=function(t,e,r){i?(o.mixin(t,e),e.constructor!==Object&&"function"==typeof e.constructor&&(t.constructor=e.constructor)):n&&(o.mixin(t,r),r.constructor!==Object&&"function"==typeof r.constructor&&(t.constructor=r.constructor))},this.hasSVG=i,this.hasVML=n,this.element=null,this.constructor=function(t){if(null!=t&&!o.isString(t))throw new Error("Parameter tagName must be of type String.");this.element=this.createElement(t||null)},this.appendTo=function(e){if(null==e)throw new Error("Parameter parentElement must be non-null.");if(!(e instanceof t))throw new Error("Parameter parentElement must be of type "+o.getName(t)+".");return e.element.appendChild(this.element),this},this.remove=function(){return this.element.parentNode&&this.element.parentNode.removeChild(this.element),this},this.dispose=function(){this.remove(),this.element=null},this.display=function(t){return this.element.style.display=t?t:"",this},this.visibility=function(t){return this.element.style.visibility=t?t:"",this},this.translate=function(t,e){return t=null!=t&&t>-(1/0)&&t<1/0?t:0,e=null!=e&&e>-(1/0)&&e<1/0?e:0,this.element.style.left=0!=t?t+"px":"",this.element.style.top=0!=e?e+"px":"",this},this.createElement=function(t){var e=document.createElement("div");return e.style.position="absolute",e};var r=o(function(t){var e="http://www.w3.org/2000/svg";this.display=function(t){return t?this.element.setAttribute("display",t):this.element.removeAttribute("display"),this},this.visibility=function(t){return t?this.element.setAttribute("visibility",t):this.element.removeAttribute("visibility"),this},this.translate=function(t,e){return t=null!=t&&t>-(1/0)&&t<1/0?t:0,e=null!=e&&e>-(1/0)&&e<1/0?e:0,0!=t||0!=e?this.element.setAttribute("transform","translate("+t+","+e+")"):this.element.removeAttribute("transform"),this},this.createElement=function(t){return document.createElementNS(e,t||"g")}}),s=o(function(t){this.createElement=function(t){return document.createElement("<splvml:"+(t||"group")+' class="splvml">')}});t.mixin(this,r,s)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/Viewport":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/geom/Rectangle"),s=i("splunk/vectors/VectorElement"),a=i("splunk/vectors/VectorUtils");return o(n.id,s,function(t,e){this.constructor=function(t,i,n,o){e.constructor.call(this)},this.width=function(t){return this},this.height=function(t){return this},this.viewBox=function(t){return this},this.preserveAspectRatio=function(t){return this},this.toSVGString=function(){return""};var i=o(function(t){this.constructor=function(t,i,n,o){e.constructor.call(this,"svg"),this.width(null!=t?t:0),this.height(null!=i?i:0),null!=n&&this.viewBox(n),null!=o&&this.preserveAspectRatio(o)},this.appendTo=function(t){if(null==t)throw new Error("Parameter parentElement must be non-null.");if(null==t.appendChild)throw new Error("Parameter parentElement must be a DOM node.");return t.appendChild(this.element),this},this.width=function(t){return null!=t&&t<1/0?this.element.setAttribute("width",Math.max(t,0)):this.element.setAttribute("width",0),this},this.height=function(t){return null!=t&&t<1/0?this.element.setAttribute("height",Math.max(t,0)):this.element.setAttribute("height",0),this},this.viewBox=function(t){return t&&t instanceof r&&t.isFinite()?this.element.setAttribute("viewBox",t.x+" "+t.y+" "+t.width+" "+t.height):this.element.removeAttribute("viewBox"),this},this.preserveAspectRatio=function(t){return t?this.element.setAttribute("preserveAspectRatio",t):this.element.removeAttribute("preserveAspectRatio"),this},this.toSVGString=function(){return a.toSVGString(this.element)}}),n=o(function(t){this._containerElement=null,this._width=0,this._height=0,this._viewBox=null,this.constructor=function(t,i,n,o){e.constructor.call(this,"group"),this._containerElement=document.createElement("div"),this._containerElement.style.position="relative",this._containerElement.style.overflow="hidden",this._containerElement.appendChild(this.element),this.width(null!=t?t:0),this.height(null!=i?i:0),null!=n&&this.viewBox(n),null!=o&&this.preserveAspectRatio(o)},this.appendTo=function(t){if(null==t)throw new Error("Parameter parentElement must be non-null.");if(null==t.appendChild)throw new Error("Parameter parentElement must be a DOM node.");return t.appendChild(this._containerElement),this},this.remove=function(){return this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement),this},this.dispose=function(){e.dispose.call(this),this._containerElement=null},this.display=function(t){return this._containerElement.style.display=t?t:"",this},this.visibility=function(t){return this._containerElement.style.visibility=t?t:"",this},this.translate=function(t,e){return t=null!=t&&t>-(1/0)&&t<1/0?t:0,e=null!=e&&e>-(1/0)&&e<1/0?e:0,this._containerElement.style.left=0!=t?t+"px":"",this._containerElement.style.top=0!=e?e+"px":"",this},this.width=function(t){return this._width=null!=t&&t<1/0?Math.max(t,0):0,this._updateView(),this},this.height=function(t){return this._height=null!=t&&t<1/0?Math.max(t,0):0,this._updateView(),this},this.viewBox=function(t){return this._viewBox=t&&t instanceof r&&t.isFinite()?t.clone():null,this._updateView(),this},this.preserveAspectRatio=function(t){return this},this._updateView=function(){var t=Math.round(this._width),e=Math.round(this._height),i=this._viewBox,n=i?Math.round(i.x):0,o=i?Math.round(i.y):0,r=i?Math.round(Math.max(i.width,1)):t,s=i?Math.round(Math.max(i.height,1)):e,a=this.element,l=a.style,h=this._containerElement.style;l.display="none",a.coordorigin=n+","+o,a.coordsize=r+","+s,l.width=t+"px",l.height=e+"px",h.width=t+"px",h.height=e+"px",l.display=""}});s.mixin(this,i,n)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/VectorUtils":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class");return o(n.id,function(t){t.toSVGString=function(t){var e=t.cloneNode(!0),i=document.createElement("div");i.appendChild(e);var n=i.innerHTML;return n=n.replace(/xlink:href=|href=/g,"x:href="),n=n.replace(/<image([\S\s]*?)\s*\/?>\s*(<\/image>)?/g,"<image$1></image>"),n=n.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:x="http://www.w3.org/1999/xlink"'),e=null,i=null,n},t.concatSVGStrings=function(){for(var t,e,i,n="",o=0,r=0,s=0,a=arguments.length;s<a;s++)t=arguments[s],e=t.match(/^<svg[^>]*viewBox=\"([^ ]+) ([^ ]+) ([^ ]+) ([^\"]+)\"[^>]*>/),e&&5==e.length?(i={x:Number(e[1]),y:Number(e[2]),width:Number(e[3]),height:Number(e[4])},o=Math.max(o,i.width),r=Math.max(r,i.height)):i=null,t=!i||0==i.x&&0==i.y?t.replace(/^<svg[^>]*>/,"<g>"):t.replace(/^<svg[^>]*>/,'<g transform="translate('+-i.x+", "+-i.y+')">'),t=t.replace(/<\/svg>$/,"</g>"),n+=t;return t="<svg",t+=' xmlns="http://www.w3.org/2000/svg"',t+=' xmlns:x="http://www.w3.org/1999/xlink"',t+=' width="'+o+'"',t+=' height="'+r+'"',t+=' viewBox="0 0 '+o+" "+r+'"',t+=">",t+=n,t+="</svg>"}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/palettes/ColorPalette":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Color"),s=i("splunk/palettes/Palette");return o(n.id,s,function(t,e){this.constructor=function(){e.constructor.call(this,r)}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/palettes/Palette":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/events/MEventTarget"),s=i("contrib/jg_lib/events/MListenerTarget"),a=i("contrib/jg_lib/events/MObservableTarget"),l=i("contrib/jg_lib/properties/MPropertyTarget"),h=i("contrib/jg_lib/properties/Property"),u=i("contrib/jg_lib/utils/NumberUtil");return o(n.id,Object,function(t,e){o.mixin(this,r,s,a,l),this._itemType=null,this._itemTypeChecker=null,this._itemNullValue=null,this._cachedProperties=null,this._hasChangeListener=!1,this.constructor=function(t){if(null==t)throw new Error("Parameter itemType must be non-null.");if(!o.isFunction(t))throw new Error("Parameter itemType must be of type Function.");this._itemType=t,this._itemTypeChecker=o.getTypeChecker(t),t===Number?this._itemNullValue=NaN:t===Boolean?this._itemNullValue=!1:this._itemNullValue=null},this.itemType=function(){return this._itemType},this.dispose=function(){this.listenOff(),this.off(),this._cachedProperties=null},this.getItem=function(t,e,i){if(null==t)throw new Error("Parameter ratio must be non-null.");t=+t,t=t<=1/0?u.minMax(t,0,1):0,e=null!=e?+e:NaN,e=e>=0&&e<1/0?Math.floor(e):NaN,this._cachedProperties||(this._hasChangeListener||(this.on("change",this._selfChange,this,1/0),this._hasChangeListener=!0),this._cachedProperties=this._getProperties(),this.extendProperties(this._cachedProperties));var n=this.getItemOverride(this._cachedProperties,t,e,i);if(null==n)n=this._itemNullValue;else if(!this._itemTypeChecker(n))throw new Error("Value returned from getItemOverride must be of type "+(o.getName(this._itemType)||"itemType")+".");return n},this.extendProperties=function(t){},this.getItemOverride=function(t,e,i,n){return null},this._getProperties=function(){var t,e={};for(var i in this)t=this[i],t instanceof h&&(e[i]=this.getInternal(t));return e},this._selfChange=function(t){this._cachedProperties=null}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/palettes/ListColorPalette":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Color"),s=i("contrib/jg_lib/properties/ObservableArrayProperty"),a=i("contrib/jg_lib/properties/ObservableProperty"),l=i("splunk/palettes/ColorPalette");return o(n.id,l,function(t,e){this.colors=new s("colors",r,[]).itemReadFilter(function(t){return t.clone()}).itemWriteFilter(function(t){return t?t.clone().normalize():new r}).itemChangeComparator(function(t,e){return!t.equals(e)}),this.interpolate=new a("interpolate",Boolean,!1),this.constructor=function(t,i){e.constructor.call(this),null!=t&&this.set("colors",t),null!=i&&this.set("interpolate",i)},this.getItemOverride=function(t,e,i,n){var o=t.colors,s=o.length;if(0===s)return null;var a;if(i>=0?a=Math.round(i*e):(i=s-1,a=i*e),!t.interpolate)return a=Math.round(a),o[a%s].clone();e=i>0?(s-1)*(a/i):0;var l=Math.floor(e),h=Math.min(l+1,s-1);return e-=l,r.interpolate(o[l],o[h],e)}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/utils/DataUtil":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/StringUtil");return o(n.id,function(t){t.parseNumber=function(t){if(null==t)return NaN;switch(typeof t){case"number":return t;case"string":return t=r.trim(t),t?Number(t):NaN;case"boolean":return t?1:0}return NaN},t.parseBoolean=function(t){if(null==t)return!1;switch(typeof t){case"boolean":return t;case"string":return t=r.trim(t.toLowerCase()),"true"===t||"t"===t||"yes"===t||"y"===t||Number(t)>0;case"number":return t>0}return!1},t.parseString=function(t){return null==t?null:String(t)}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/Path":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/vectors/Shape"),s=i("splunk/vectors/VectorElement");return o(n.id,r,function(t,e){this.constructor=function(){e.constructor.call(this)},this.beginPath=function(){return this},this.endPath=function(){return this},this.moveTo=function(t,e){return this},this.lineTo=function(t,e){return this},this.curveTo=function(t,e,i,n){return this};var i=o(function(t){this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null,this.constructor=function(){e.constructor.call(this,"path")},this.beginPath=function(){return null!=this._pathData&&this.endPath(),this._pathData="",this},this.endPath=function(){return null==this._pathData?this:(this._pathData?("M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" Z"),this.element.setAttribute("d",this._pathData.substring(1))):this.element.removeAttribute("d"),this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null,this)},this.moveTo=function(t,e){return null==this._pathData?this:(t=null!=t&&t>-(1/0)&&t<1/0?t:0,e=null!=e&&e>-(1/0)&&e<1/0?e:0,this._pathData&&"M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" Z"),"M"!==this._lastCommand&&(this._lastCommand="M"),this._penX=t,this._penY=e,this._startX=t,this._startY=e,this._pathData+=" M"+t+","+e,this)},this.lineTo=function(t,e){return null==this._pathData?this:(t=null!=t&&t>-(1/0)&&t<1/0?t:0,e=null!=e&&e>-(1/0)&&e<1/0?e:0,this._lastCommand||this.moveTo(0,0),"L"!==this._lastCommand?(this._lastCommand="L",this._pathData+=" L"):this._pathData+=" ",this._penX=t,this._penY=e,this._pathData+=t+","+e,this)},this.curveTo=function(t,e,i,n){return null==this._pathData?this:(t=null!=t&&t>-(1/0)&&t<1/0?t:0,e=null!=e&&e>-(1/0)&&e<1/0?e:0,i=null!=i&&i>-(1/0)&&i<1/0?i:0,n=null!=n&&n>-(1/0)&&n<1/0?n:0,this._lastCommand||this.moveTo(0,0),"Q"!==this._lastCommand?(this._lastCommand="Q",this._pathData+=" Q"):this._pathData+=" ",this._penX=i,this._penY=n,this._pathData+=t+","+e+" "+i+","+n,this)}}),n=o(function(t){var i=64;this._pathElement=null,this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null,this.constructor=function(){e.constructor.call(this,"shape"),this._pathElement=this.createElement("path"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize=i+","+i,this.element.appendChild(this._pathElement)},this.dispose=function(){e.dispose.call(this),this._pathElement=null},this.beginPath=function(){return null!=this._pathData&&this.endPath(),this._pathData="",this},this.endPath=function(){return null==this._pathData?this:(this._pathData?("m"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" x"),this._pathElement.v=this._pathData.substring(1)):this._pathElement.v=" ",this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null,this)},this.moveTo=function(t,e){return null==this._pathData?this:(t=null!=t&&t>-(1/0)&&t<1/0?Math.round(t*i):0,e=null!=e&&e>-(1/0)&&e<1/0?Math.round(e*i):0,this._pathData&&"M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" x"),"m"!==this._lastCommand&&(this._lastCommand="m"),this._penX=t,this._penY=e,this._startX=t,this._startY=e,this._pathData+=" m "+t+","+e,this)},this.lineTo=function(t,e){return null==this._pathData?this:(t=null!=t&&t>-(1/0)&&t<1/0?Math.round(t*i):0,e=null!=e&&e>-(1/0)&&e<1/0?Math.round(e*i):0,this._lastCommand||this.moveTo(0,0),"l"!==this._lastCommand?(this._lastCommand="l",this._pathData+=" l "):this._pathData+=", ",this._penX=t,this._penY=e,this._pathData+=t+","+e,this)},this.curveTo=function(t,e,n,o){return null==this._pathData?this:(t=null!=t&&t>-(1/0)&&t<1/0?Math.round(t*i):0,e=null!=e&&e>-(1/0)&&e<1/0?Math.round(e*i):0,n=null!=n&&n>-(1/0)&&n<1/0?Math.round(n*i):0,o=null!=o&&o>-(1/0)&&o<1/0?Math.round(o*i):0,this._lastCommand||this.moveTo(0,0),"qb"!==this._lastCommand&&(this._lastCommand="qb"),this._penX=n,this._penY=o,this._pathData+=" qb "+t+","+e+" l "+n+","+o,this)}});s.mixin(this,i,n)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/Shape":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/NumberUtil"),s=i("splunk/vectors/VectorElement");return o(n.id,s,function(t,e){this.constructor=function(t){e.constructor.call(this,t)},this.fillColor=function(t){return this},this.fillOpacity=function(t){return this},this.strokeColor=function(t){return this},this.strokeOpacity=function(t){return this},this.strokeWidth=function(t){return this},this.strokeLineCap=function(t){return this},this.strokeLineJoin=function(t){return this},this.strokeMiterLimit=function(t){return this};var i=o(function(t){this.constructor=function(t){e.constructor.call(this,t),this.fillColor(NaN),this.strokeColor(NaN),this.strokeLineCap("none"),this.strokeLineJoin("miter")},this.fillColor=function(t){return null==t||isNaN(t)?this.element.setAttribute("fill","none"):(t=r.minMax(Math.floor(t),0,16777215),this.element.setAttribute("fill","#"+(16777216|t).toString(16).substring(1))),this},this.fillOpacity=function(t){return null==t||isNaN(t)?this.element.removeAttribute("fill-opacity"):this.element.setAttribute("fill-opacity",r.minMax(t,0,1)),this},this.strokeColor=function(t){return null==t||isNaN(t)?this.element.removeAttribute("stroke"):(t=r.minMax(Math.floor(t),0,16777215),this.element.setAttribute("stroke","#"+(16777216|t).toString(16).substring(1))),this},this.strokeOpacity=function(t){return null==t||isNaN(t)?this.element.removeAttribute("stroke-opacity"):this.element.setAttribute("stroke-opacity",r.minMax(t,0,1)),this},this.strokeWidth=function(t){return null!=t&&t<1/0?this.element.setAttribute("stroke-width",Math.max(t,1)):this.element.removeAttribute("stroke-width"),this},this.strokeLineCap=function(t){return"round"===t?this.element.setAttribute("stroke-linecap","round"):"square"===t?this.element.setAttribute("stroke-linecap","square"):this.element.removeAttribute("stroke-linecap"),this},this.strokeLineJoin=function(t){return"round"===t?this.element.setAttribute("stroke-linejoin","round"):"bevel"===t?this.element.setAttribute("stroke-linejoin","bevel"):this.element.removeAttribute("stroke-linejoin"),this},this.strokeMiterLimit=function(t){return null!=t&&t<1/0?this.element.setAttribute("stroke-miterlimit",Math.max(t,1)):this.element.removeAttribute("stroke-miterlimit"),this}}),n=o(function(t){this._fillElement=null,this._strokeElement=null,this.constructor=function(t){e.constructor.call(this,t),this._fillElement=this.createElement("fill"),this._strokeElement=this.createElement("stroke"),this.element.appendChild(this._fillElement),this.element.appendChild(this._strokeElement),this.fillColor(NaN),this.strokeColor(NaN),this.strokeLineCap("none"),this.strokeLineJoin("miter")},this.dispose=function(){e.dispose.call(this),this._fillElement=null,this._strokeElement=null},this.fillColor=function(t){return null==t||isNaN(t)?(this._fillElement.on=!1,this._fillElement.color="#000000"):(t=r.minMax(Math.floor(t),0,16777215),this._fillElement.on=!0,this._fillElement.color="#"+(16777216|t).toString(16).substring(1)),this},this.fillOpacity=function(t){return null==t||isNaN(t)?this._fillElement.opacity=1:this._fillElement.opacity=r.minMax(t,0,1),this},this.strokeColor=function(t){return null==t||isNaN(t)?(this._strokeElement.on=!1,this._strokeElement.color="#000000"):(t=r.minMax(Math.floor(t),0,16777215),this._strokeElement.on=!0,this._strokeElement.color="#"+(16777216|t).toString(16).substring(1)),this},this.strokeOpacity=function(t){return null==t||isNaN(t)?this._strokeElement.opacity=1:this._strokeElement.opacity=r.minMax(t,0,1),this},this.strokeWidth=function(t){return null!=t&&t<1/0?this._strokeElement.weight=Math.max(t,1)+"px":this._strokeElement.weight="1px",this},this.strokeLineCap=function(t){return"round"===t?this._strokeElement.endcap="round":"square"===t?this._strokeElement.endcap="square":this._strokeElement.endcap="flat",this},this.strokeLineJoin=function(t){return"round"===t?this._strokeElement.joinstyle="round":"bevel"===t?this._strokeElement.joinstyle="bevel":this._strokeElement.joinstyle="miter",this},this.strokeMiterLimit=function(t){return null!=t&&t<1/0?this._strokeElement.miterlimit=Math.max(t,1):this._strokeElement.miterlimit=4,this}});s.mixin(this,i,n)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/viz/MDataTarget":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/Pass"),s=i("contrib/jg_lib/properties/ObservableArrayProperty"),a=i("contrib/jg_lib/properties/ObservableProperty"),l=i("splunk/charting/Legend");return o(n.id,function(t){this.processDataPass=new r("processData",.1),this.updateLegendLabelsPass=new r("updateLegendLabels",.2),this.renderDataPass=new r("renderData",.3),this.data=new a("data",Array,null).onChange(function(t){this.invalidate("processDataPass")}),this.fields=new s("fields",String,null).onChange(function(t){this.invalidate("processDataPass")}),this.legend=new a("legend",l,null).onChange(function(t){if(t.target===this){var e=t.oldValue,i=t.newValue;return e&&(e.off("settingLabels",this._legend_settingLabels,this),e.unregister(this)),i&&(i.register(this),i.on("settingLabels",this._legend_settingLabels,this)),void this.invalidate("updateLegendLabelsPass")}if(t.event===t.target.labelIndexMapChanged)return void this.invalidate("renderDataPass")}),this._cachedData=null,this._cachedFields=null,this._cachedLegend=null,this.processData=function(){if(!this.isValid("processDataPass")){this.invalidate("updateLegendLabelsPass");var t=this._cachedData=this.getInternal("data")||[],e=this._cachedFields=this.getInternal("fields")||[];this.processDataOverride(t,e),this.markValid("processDataPass")}},this.updateLegendLabels=function(){if(!this.isValid("updateLegendLabelsPass")){this.invalidate("renderDataPass");var t=this._cachedLegend=this.getInternal("legend"),e=null;t&&(e=this.updateLegendLabelsOverride(this._cachedData,this._cachedFields)),this.markValid("updateLegendLabelsPass"),t&&t.setLabels(this,e)}},this.renderData=function(){this.isValid("renderDataPass")||(this.renderDataOverride(this._cachedData,this._cachedFields,this._cachedLegend),this.markValid("renderDataPass"))},this.processDataOverride=function(t,e){},this.updateLegendLabelsOverride=function(t,e){return null},this.renderDataOverride=function(t,e,i){},this._legend_settingLabels=function(t){this.validate("updateLegendLabelsPass"),this.updateLegendLabels()}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/layers/PieMarkerLayer":function(t,e,i){var n;n=function(t,e,n){var o=(i("shim/leaflet"),i("contrib/jg_lib/Class")),r=i("contrib/jg_lib/events/Event"),s=i("contrib/jg_lib/events/EventData"),a=i("contrib/jg_lib/graphics/Color"),l=i("contrib/jg_lib/properties/ObservableProperty"),h=i("contrib/jg_lib/utils/NumberUtil"),u=i("splunk/mapping/LatLon"),c=i("splunk/mapping/LatLonBounds"),p=i("splunk/mapping/layers/LayerBase"),d=i("splunk/mapping/layers/VectorLayerBase"),m=i("splunk/palettes/ColorPalette"),f=i("splunk/palettes/ListColorPalette"),g=i("splunk/utils/DataUtil"),_=i("splunk/vectors/Group"),v=i("splunk/vectors/Wedge"),y=i("splunk/viz/MDataTarget");return o(n.id,d,function(t,e){o.mixin(this,y),this.rendered=new r("rendered",s),this.markerColorPalette=new l("markerColorPalette",m,new f([a.fromNumber(52224),a.fromNumber(13421568),a.fromNumber(13369344)],!0)).onChange(function(t){
this.invalidate("renderDataPass")}),this.markerOpacity=new l("markerOpacity",Number,1).writeFilter(function(t){return isNaN(t)?1:t>=0&&t<=1/0?Math.min(t,1):0}).onChange(function(t){this.invalidate("renderDataPass")}),this.markerMinSize=new l("markerMinSize",Number,10).writeFilter(function(t){return t>=0&&t<1/0?t:0}).onChange(function(t){this.invalidate("renderDataPass")}),this.markerMaxSize=new l("markerMaxSize",Number,50).writeFilter(function(t){return t>=0&&t<1/0?t:0}).onChange(function(t){this.invalidate("renderDataPass")}),this.wrapX=new l("wrapX",Boolean,!0).onChange(function(t){this.invalidate("renderPass")}),this.wrapY=new l("wrapY",Boolean,!1).onChange(function(t){this.invalidate("renderPass")}),this._seriesList=null,this._markerList=null,this.constructor=function(){e.constructor.call(this),this._seriesList=[],this._markerList=[]},this.getLatLonBounds=function(t){if(null!=t&&!(t instanceof u))throw new Error("Parameter center must be of type "+o.getName(u)+".");this.validate();for(var e=new c(1/0,1/0,-(1/0),-(1/0)),i=this._markerList,n=0,r=i.length;n<r;n++)e.expand(i[n].latLon.normalize(t));return e.isFinite()?e:null},this.processDataOverride=function(t,e){var o,r,s,a,l,c,p,m=this._seriesList,f=0,_=this._markerList,v=0,y=t.length,b=e.length;if(y>0&&b>2){var w,x,P,L,C,M,T,k,A,E=this.vectorContainer,N=e[0],S=e[1],D=1/0,B=-(1/0),I=0;for(c=2;c<b;c++)w=e[c],f<m.length?o=m[f]:(o=new i,m.push(o)),o.name=w,f++;for(c=0;c<y;c++)if(x=t[c],null!=x&&(P=g.parseNumber(x[N]),L=g.parseNumber(x[S]),!isNaN(P)&&!isNaN(L))){for(v<_.length?r=_[v]:(r=new n,r.appendTo(E),_.push(r)),s=r.sliceList,a=0,M=0,p=0;p<f;p++)o=m[p],C=g.parseNumber(x[o.name]),isNaN(C)||C<=0||(a<s.length?l=s[a]:(l=new d,l.appendTo(r),s.push(l)),l.series=o,l.value=C,M+=C,a++);if(0!==a){for(r.latLon=new u(P,L),r.data=x,r.fields=e,r.magnitude=M,M<D&&(D=M),M>B&&(B=M),T=0,k=0,A=0,p=0;p<a;p++)l=s[p],T+=l.value,k=A,A=360*(T/M),l.startAngle=k-90,l.arcAngle=A-k;for(p=s.length-1;p>=a;p--)l=s.pop(),l.dispose();v++}}for(I=B-D,c=0;c<v;c++)r=_[c],r.scale=I>0?h.minMax((r.magnitude-D)/I,0,1):1/v}for(c=_.length-1;c>=v;c--)r=_.pop(),r.dispose();for(c=m.length-1;c>=f;c--)m.pop()},this.updateLegendLabelsOverride=function(t,e){for(var i=this._seriesList,n=i.length,o=n>0?new Array(n):null,r=0;r<n;r++)o[r]=i[r].name;return o},this.renderDataOverride=function(t,e,i){this.invalidate("renderPass");var n,o,r,s,l,u,c,p,d,m,f,g=this._seriesList,_=g.length,v=this.getInternal("markerColorPalette"),y=this.getInternal("markerOpacity"),b=this.getInternal("markerMinSize"),w=this.getInternal("markerMaxSize"),x=this._markerList,P=x.length;for(r=i?i.getNumLabels():_,m=Math.max(r-1,0),p=0;p<_;p++)n=g[p],o=i?i.getLabelIndex(n.name):p,f=m>0?o/m:0,n.color=v?(v.getItem(f,m,n.name)||new a).toNumber():0;for(p=0;p<P;p++)for(s=x[p],l=s.sliceList,u=l.length,s.radius=Math.round(h.interpolate(b,w,s.scale))/2,s.tooltipOffsetRadius=s.radius,s.display("none"),d=0;d<u;d++)c=l[d],c.fillColor(c.series.color),c.fillOpacity(y),c.draw(0,0,s.radius,s.radius,c.startAngle,c.arcAngle)},this.renderOverride=function(t){e.renderOverride.call(this,t);for(var i,n,o,r=t.leafletMap,a=r.getCenter(),l=this.getInternal("wrapX"),h=this.getInternal("wrapY"),u=this.vectorBounds,c=u.minX,p=u.minY,d=u.maxX,m=u.maxY,f=this._markerList,g=0,_=f.length;g<_;g++)i=f[g],n=i.latLon.toLeaflet(),l&&(n.lng-=a.lng,n.lng%=360,n.lng>180?n.lng-=360:n.lng<-180&&(n.lng+=360),n.lng+=a.lng),h&&(n.lat-=a.lat,n.lat%=180,n.lat>90?n.lat-=180:n.lat<-90&&(n.lat+=180),n.lat+=a.lat),i.tooltipLatLng=n,o=r.latLngToLayerPoint(n),i.translate(o.x,o.y),o.x+i.radius<c||o.x-i.radius>d||o.y+i.radius<p||o.y-i.radius>m?i.display("none"):i.display(null);this.fire("rendered",new s)};var i=o(Object,function(t,e){this.name=null,this.color=0,this.constructor=function(){}}),n=o(_,function(t,e){this.sliceList=null,this.latLon=null,this.data=null,this.fields=null,this.magnitude=0,this.scale=0,this.radius=0,this.tooltipLatLng=null,this.tooltipOffsetRadius=0,this.constructor=function(){e.constructor.call(this),this.element[p.METADATA_KEY]=this,this.sliceList=[]},this.dispose=function(){for(var t=this.sliceList,i=t.length-1;i>=0;i--)t[i].dispose();this.element[p.METADATA_KEY]=null,e.dispose.call(this)}}),d=o(v,function(t,e){this.series=null,this.value=0,this.startAngle=0,this.arcAngle=0,this.constructor=function(){e.constructor.call(this)}})})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/Wedge":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/NumberUtil"),s=i("splunk/vectors/Shape"),a=i("splunk/vectors/VectorElement");return o(n.id,s,function(t,e){this.constructor=function(){e.constructor.call(this)},this.draw=function(t,e,i,n,o,r){return this};var i=o(function(t){this.constructor=function(){e.constructor.call(this,"path")},this.draw=function(t,e,i,n,o,s){if(t=null!=t&&t>-(1/0)&&t<1/0?t:0,e=null!=e&&e>-(1/0)&&e<1/0?e:0,i=null!=i&&i<1/0?Math.max(i,0):0,n=null!=n&&n<1/0?Math.max(n,0):0,o=null!=o&&o>-(1/0)&&o<1/0?o:0,s=null==s||null==s||isNaN(s)?0:r.minMax(s,-360,360),0==i||0==n||0==s)return this.element.removeAttribute("d"),this;var a=o/180*Math.PI,l=t+Math.cos(a)*i,h=e+Math.sin(a)*n,u=(o+s/2)/180*Math.PI,c=t+Math.cos(u)*i,p=e+Math.sin(u)*n,d=(o+s)/180*Math.PI,m=t+Math.cos(d)*i,f=e+Math.sin(d)*n,g=s<0?0:1,_="";return s>-360&&s<360?(_+="M"+t+","+e,_+=" L"+l+","+h):_+="M"+l+","+h,_+=" A"+i+","+n+" 0 0 "+g+" "+c+","+p,_+=" "+i+","+n+" 0 0 "+g+" "+m+","+f,_+=" Z",this.element.setAttribute("d",_),this}}),n=o(function(t){var i=64;this._pathElement=null,this.constructor=function(){e.constructor.call(this,"shape"),this._pathElement=this.createElement("path"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize=i+","+i,this.element.appendChild(this._pathElement)},this.dispose=function(){e.dispose.call(this),this._pathElement=null},this.draw=function(t,e,n,o,s,a){if(t=null!=t&&t>-(1/0)&&t<1/0?t:0,e=null!=e&&e>-(1/0)&&e<1/0?e:0,n=null!=n&&n<1/0?Math.max(n,0):0,o=null!=o&&o<1/0?Math.max(o,0):0,s=null!=s&&s>-(1/0)&&s<1/0?s:0,a=null==a||null==a||isNaN(a)?0:r.minMax(a,-360,360),0==n||0==o||0==a)return this._pathElement.v=" ",this;var l=s/180*Math.PI,h=t+Math.cos(l)*n,u=e+Math.sin(l)*o,c=(s+a/2)/180*Math.PI,p=t+Math.cos(c)*n,d=e+Math.sin(c)*o,m=(s+a)/180*Math.PI,f=t+Math.cos(m)*n,g=e+Math.sin(m)*o,_=Math.round((t-n)*i),v=Math.round((e-o)*i),y=Math.round((t+n)*i),b=Math.round((e+o)*i);t=Math.round(t*i),e=Math.round(e*i),h=Math.round(h*i),u=Math.round(u*i),p=Math.round(p*i),d=Math.round(d*i),f=Math.round(f*i),g=Math.round(g*i);var w="";return a>-360&&a<360?(w+="m "+t+","+e,w+=" l "+h+","+u):w+="m "+h+","+u,w+=a<0?" at":" wa",w+=" "+_+","+v+","+y+","+b+", "+h+","+u+", "+p+","+d,w+=", "+_+","+v+","+y+","+b+", "+p+","+d+", "+f+","+g,w+=" x",this._pathElement.v=w,this}});a.mixin(this,i,n)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/parsers/LatLonBoundsParser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/mapping/LatLonBounds"),s=i("splunk/parsers/NumberParser"),a=i("splunk/parsers/Parser"),l=i("splunk/parsers/ParseUtils");return o(n.id,a,function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.numberParser=null,this.constructor=function(){this.numberParser=s.getInstance()},this.stringToValue=function(t){var e=l.prepareTuple(t);if(!e)return null;var i=new r,n=e.length;return n>0&&(i.s=this.numberParser.stringToValue(e[0])),n>1&&(i.w=this.numberParser.stringToValue(e[1])),n>2&&(i.n=this.numberParser.stringToValue(e[2])),n>3&&(i.e=this.numberParser.stringToValue(e[3])),i},this.valueToString=function(t){var e=t instanceof r?t:null;if(!e)return null;var i="";return i+=this.numberParser.valueToString(e.s)+",",i+=this.numberParser.valueToString(e.w)+",",i+=this.numberParser.valueToString(e.n)+",",i+=this.numberParser.valueToString(e.e),"("+i+")"}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/parsers/NumberParser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/parsers/Parser"),s=i("splunk/parsers/ParseUtils");return o(n.id,r,function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.stringToValue=function(t){return t=s.trimWhiteSpace(t),t?Number(t):NaN},this.valueToString=function(t){return null!=t&&o.isNumber(t)?String(t):String(NaN)}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/parsers/Parser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/ObjectUtil"),s=i("splunk/parsers/ParseUtils");return o(n.id,Object,function(t,e){this.constructor=function(){},this.deserialize=function(t){if(null==t)throw new Error("Parameter attributes must be non-null.");var e=r.get(t,"");return e=s.isEmpty(e)?null:""+e,this.stringToValue(e)},this.serialize=function(t){var e=this.valueToString(t);return s.isEmpty(e)?null:{"":e}},this.hasNestedFormat=function(){return!1},this.stringToValue=function(t){return null},this.valueToString=function(t){return null}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/parsers/ParseUtils":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class");return o(n.id,function(t){var e=/\\([.\n\r]?)/g,i=/\\/g,n=/"/g,r=/^[\s\xA0\u2028\u2029\uFEFF]+|[\s\xA0\u2028\u2029\uFEFF]+$/g;t.prepareArray=function(e){if(e=t.trimWhiteSpace(e),!e)return null;var i=e.length;if(i<2)return null;if("["!=e.charAt(0))return null;if("]"!=e.charAt(i-1))return null;e=e.substring(1,i-1),i=e.length;for(var n,o=[],r=-1;r<i;)r++,n=s(e,r,","),r+=n.length,n=t.trimWhiteSpace(n),(n||r<i||o.length>0)&&o.push(t.unescapeString(n));return o},t.prepareObject=function(e){if(e=t.trimWhiteSpace(e),!e)return null;var i=e.length;if(i<2)return null;if("{"!=e.charAt(0))return null;if("}"!=e.charAt(i-1))return null;e=e.substring(1,i-1),i=e.length;for(var n,o,r={},a=0;a<i&&(n=s(e,a,":"),a+=n.length+1,!(a>i));)o=s(e,a,","),a+=o.length+1,n=t.unescapeString(n),n&&(r[n]=t.unescapeString(o));return r},t.prepareTuple=function(e){if(e=t.trimWhiteSpace(e),!e)return null;var i=e.length;if(i<2)return null;if("("!=e.charAt(0))return null;if(")"!=e.charAt(i-1))return null;e=e.substring(1,i-1),i=e.length;for(var n,o=[],r=-1;r<i;)r++,n=s(e,r,","),r+=n.length,n=t.trimWhiteSpace(n),(n||r<i||o.length>0)&&o.push(t.unescapeString(n));return o},t.unescapeString=function(i){if(i=t.trimWhiteSpace(i),!i)return i;var n=i.length;return n<2?i:'"'!=i.charAt(0)?i:'"'!=i.charAt(n-1)?i:(i=i.substring(1,n-1))?i=i.replace(e,"$1"):i},t.escapeString=function(t){return null!=t&&o.isString(t)?(t=t.replace(i,"\\\\"),t=t.replace(n,'\\"'),'"'+t+'"'):null},t.trimWhiteSpace=function(t){return null!=t&&o.isString(t)?t?t.replace(r,""):t:null},t.isEmpty=function(t){return null==t||""===t};var s=function(t,e,i){for(var n,o,r,s="",a=e,l=t.length,h=!1,u=0;a<l;){if(n=t.charAt(a),h)'"'==n?h=!1:"\\"==n&&(s+=n,a++,n=t.charAt(a));else if(u>0)n==r?u--:n==o?u++:'"'==n&&(h=!0);else{if(n==i)break;"["==n?(u=1,o="[",r="]"):"{"==n?(u=1,o="{",r="}"):"("==n?(u=1,o="(",r=")"):'"'==n&&(h=!0)}s+=n,a++}return s}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/parsers/LatLonParser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/mapping/LatLon"),s=i("splunk/parsers/NumberParser"),a=i("splunk/parsers/Parser"),l=i("splunk/parsers/ParseUtils");return o(n.id,a,function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.numberParser=null,this.constructor=function(){this.numberParser=s.getInstance()},this.stringToValue=function(t){var e=l.prepareTuple(t);if(!e)return null;var i=new r,n=e.length;return n>0&&(i.lat=this.numberParser.stringToValue(e[0])),n>1&&(i.lon=this.numberParser.stringToValue(e[1])),i},this.valueToString=function(t){var e=t instanceof r?t:null;if(!e)return null;var i="";return i+=this.numberParser.valueToString(e.lat)+",",i+=this.numberParser.valueToString(e.lon),"("+i+")"}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/palettes/FieldColorPalette":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Color"),s=i("contrib/jg_lib/properties/ObservableObjectProperty"),a=i("contrib/jg_lib/properties/ObservableProperty"),l=i("contrib/jg_lib/utils/ObjectUtil"),h=i("splunk/palettes/ColorPalette");return o(n.id,h,function(t,e){this.fieldColors=new s("fieldColors",r,{}).itemReadFilter(function(t){return t.clone()}).itemWriteFilter(function(t){return t?t.clone().normalize():new r}).itemChangeComparator(function(t,e){return!t.equals(e)}),this.defaultColorPalette=new a("defaultColorPalette",h,null),this.constructor=function(t,i){e.constructor.call(this),null!=t&&this.set("fieldColors",t),null!=i&&this.set("defaultColorPalette",i)},this.getItemOverride=function(t,e,i,n){if(null!=n){var o=l.get(t.fieldColors,""+n);if(o)return o.clone()}var r=t.defaultColorPalette;return r?r.getItem(e,i,n):null}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/properties/ObservableObjectProperty":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/properties/MObservableProperty"),r=i("contrib/jg_lib/properties/ObjectProperty"),s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/ObjectUtil"),l=i("contrib/jg_lib/utils/Set");return s(n.id,r,function(t,e){s.mixin(this,o),this._defaultValueSet=null,this._itemChangeComparator=null,this.constructor=function(t,i,n){e.constructor.call(this,t,i,n);var o=this._defaultValueSet=new l;if(n)for(var r in n)a.has(n,r)&&o.add(n[r]);this.initChangeEvent()},this.itemChangeComparator=function(t){if(!arguments.length)return this._itemChangeComparator;if(null!=t&&!s.isFunction(t))throw new Error("Parameter itemChangeComparator must be of type Function.");return this._itemChangeComparator=t||null,this},this.setupContext=function(t){e.setupContext.call(this,t),this.setupDependencySupport(t)},this.teardownContext=function(t){this.teardownDependencySupport(t),e.teardownContext.call(this,t)},this.writeValue=function(t,i){var n=t.value;if(this.teardownDependencyChangeHandler(t),e.writeValue.call(this,t,i),null!=i){var o,r=[],s=this._defaultValueSet;for(var l in i)a.has(i,l)&&(o=i[l],null!=o&&o.isEventTarget&&o.isObservableTarget&&!s.has(o)&&r.push({target:o,event:o.change}));r.length>0&&this.setupDependencyChangeHandler(t,r)}this.notifyChange(t,n,i)},this.needsWrite=function(t,e){return this.hasChange(t,t.value,e)},this.hasChange=function(t,e,i){var n=this.changeComparator();if(n)return!!n.call(t.target,e,i);if(e===i)return!1;if(null==e||null==i)return!0;var o;for(o in e)if(a.has(e,o)&&(!a.has(i,o)||this.hasItemChange(t,e[o],i[o])))return!0;for(o in i)if(a.has(i,o)&&!a.has(e,o))return!0;return!1},this.hasItemChange=function(t,e,i){return this._itemChangeComparator?!!this._itemChangeComparator.call(t.target,e,i):e!==i&&(e===e||i===i)}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"contrib/jg_lib/properties/ObjectProperty":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/properties/Property"),r=i("contrib/jg_lib/Class"),s=i("contrib/jg_lib/utils/ObjectUtil");return r(n.id,o,function(t,e){this._itemType=null,this._itemTypeChecker=null,this._itemNullValue=null,this._allowNull=!1,this._itemReadFilter=null,this._itemWriteFilter=null,this.constructor=function(t,i,n){if(null!=i&&!r.isFunction(i))throw new Error("Parameter itemType must be of type Function.");this._itemType=i||null,this._itemTypeChecker=i?r.getTypeChecker(i):null,i===Number?this._itemNullValue=NaN:i===Boolean?this._itemNullValue=!1:this._itemNullValue=null,null==n&&(n={}),e.constructor.call(this,t,Object,n)},this.itemType=function(){return this._itemType},this.allowNull=function(t){if(!arguments.length)return this._allowNull;if(null!=t&&!r.isBoolean(t))throw new Error("Parameter allowNull must be of type Boolean.");return this._allowNull=t===!0,this},this.itemReadFilter=function(t){if(!arguments.length)return this._itemReadFilter;if(null!=t&&!r.isFunction(t))throw new Error("Parameter itemReadFilter must be of type Function.");return this._itemReadFilter=t||null,this},this.itemWriteFilter=function(t){if(!arguments.length)return this._itemWriteFilter;if(null!=t&&!r.isFunction(t))throw new Error("Parameter itemWriteFilter must be of type Function.");return this._itemWriteFilter=t||null,this},this.get=function(t){var i,n,o=e.get.call(this,t),r=this._itemNullValue,a=this._itemReadFilter,l={};for(var h in o)if(s.has(o,h)){if(i=o[h],a&&(n=a.call(t,i),n!==i)){if(!this.isValidItemType(n))throw new Error('Value returned from itemReadFilter for property "'+this.name()+'" must be of type '+this.getItemTypeName()+".");i=n}null==i&&(i=r),l[h]=i}return l},this.set=function(t,i){var n,o,r=this._allowNull,a=this._itemNullValue,l=this._itemWriteFilter,h={};for(var u in i)if(s.has(i,u)){if(n=i[u],null==n){if(!r)continue;n=a}if(l&&(o=l.call(t,n),o!==n)){if(!this.isValidItemType(o))throw new Error('Value returned from itemWriteFilter for property "'+this.name()+'" must be of type '+this.getItemTypeName()+".");n=o}h[u]=n}e.set.call(this,t,h)},this.getTypeName=function(){return"Object<"+this.getItemTypeName()+">"},this.getItemTypeName=function(){return this._itemType?r.getName(this._itemType)||this.name()+".itemType":"*"},this.isValidType=function(t){if(null==t)return!0;if(!r.isObject(t))return!1;for(var e in t)if(s.has(t,e)&&!this.isValidItemType(t[e]))return!1;return!0},this.isValidItemType=function(t){return null==t||!this._itemTypeChecker||this._itemTypeChecker(t)}})}.call(e,i,e,t),/*!
	 * Copyright (c) 2007-2016 Jason Gatt
	 * 
	 * Released under the MIT license:
	 * http://opensource.org/licenses/MIT
	 */
!(void 0!==n&&(t.exports=n))},"splunk/parsers/ArrayParser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/Map"),s=i("contrib/jg_lib/utils/ObjectUtil"),a=i("splunk/parsers/Parser"),l=i("splunk/parsers/ParseUtils"),h=i("splunk/parsers/StringParser");return o(n.id,a,function(t,e){var i=/^(0|[1-9][0-9]*)(?:\.|$)/,n=new r;t.getInstance=function(e){var i=n.get(e);return i||(i=new t(e),n.set(e,i)),i};var u=function(t){var e,n,o,r={};for(var a in t)s.has(t,a)&&!l.isEmpty(t[a])&&(o=a.match(i),o&&(n=o[1],e=s.get(r,n),e||(e=r[n]={}),e[a.substring(o[0].length)]=t[a]));var h=s.pairs(r);if(!h.length)return null;h.sort(p);for(var u=0,c=h.length;u<c;u++)h[u]=h[u][1];return h},c=function(t,e,i){e=""+e;for(var n in i)s.has(i,n)&&!l.isEmpty(i[n])&&(t[e+(n?"."+n:"")]=i[n])},p=function(t,e){return t[0]-e[0]};this.elementParser=null,this.constructor=function(t){if(null==t)throw new Error("Parameter elementParser must be non-null.");if(!(t instanceof a))throw new Error("Parameter elementParser must be of type "+o.getName(a)+".");this.elementParser=t},this.deserialize=function(t){if(!this.hasNestedFormat())return e.deserialize.call(this,t);if(null==t)throw new Error("Parameter attributes must be non-null.");var i=u(t);if(!i)return null;for(var n=[],o=this.elementParser,r=0,s=i.length;r<s;r++)n.push(o.deserialize(i[r]));return n},this.serialize=function(t){if(!this.hasNestedFormat())return e.serialize.call(this,t);if(null==t||!o.isArray(t)||!t.length)return null;for(var i,n={},r=this.elementParser,s=0,a=0,l=t.length;a<l;a++)i=r.serialize(t[a]),i&&(c(n,s,i),s++);return n},this.hasNestedFormat=function(){return this.elementParser.hasNestedFormat()},this.stringToValue=function(t){var e=l.prepareArray(t);if(!e)return null;for(var i=this.elementParser,n=0,o=e.length;n<o;n++)e[n]=i.stringToValue(e[n]);return e},this.valueToString=function(t){var e=null!=t&&o.isArray(t)?t:null;if(!e)return null;for(var i,n="",r=this.elementParser,s=0,a=e.length;s<a;s++)i=e[s],n&&(n+=","),n+=r instanceof h?l.escapeString(r.valueToString(i)):r.valueToString(i);return"["+n+"]"}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/parsers/StringParser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/parsers/Parser");return o(n.id,r,function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.stringToValue=function(t){return null!=t&&o.isString(t)?t:null},this.valueToString=function(t){return null!=t&&o.isString(t)?t:null}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/parsers/BooleanParser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/parsers/Parser"),s=i("splunk/parsers/ParseUtils");return o(n.id,r,function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.stringToValue=function(t){return t=s.trimWhiteSpace(t),t&&(t=t.toLowerCase()),"true"===t||"t"===t||"1"===t},this.valueToString=function(t){return t===!0?"true":"false"}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/parsers/ColorParser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Color"),s=i("splunk/parsers/Parser"),a=i("splunk/parsers/ParseUtils");return o(n.id,s,function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.stringToValue=function(t){return t=a.trimWhiteSpace(t),t?r.fromString(t):null},this.valueToString=function(t){return t instanceof r?t.toString(t.a<1?"rgba":"hex"):null}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/parsers/ObjectParser":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/Map"),s=i("contrib/jg_lib/utils/ObjectUtil"),a=i("splunk/parsers/Parser"),l=i("splunk/parsers/ParseUtils"),h=i("splunk/parsers/StringParser");return o(n.id,a,function(t,e){var i=new r;t.getInstance=function(e){var n=i.get(e);return n||(n=new t(e),i.set(e,n)),n},this.elementParser=null,this.constructor=function(t){if(null==t)throw new Error("Parameter elementParser must be non-null.");if(!(t instanceof a))throw new Error("Parameter elementParser must be of type "+o.getName(a)+".");this.elementParser=t},this.stringToValue=function(t){var e=l.prepareObject(t);if(!e)return null;var i=this.elementParser;for(var n in e)s.has(e,n)&&(e[n]=i.stringToValue(e[n]));return e},this.valueToString=function(t){var e=null!=t&&o.isObject(t)?t:null;if(!e)return null;var i="",n=this.elementParser;for(var r in e)s.has(e,r)&&(i&&(i+=","),i+=l.escapeString(r)+":",i+=n instanceof h?l.escapeString(n.valueToString(e[r])):n.valueToString(e[r]));return"{"+i+"}"}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/utils/GeoJsonUtils":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class");return o(n.id,function(t){t.createFromBoundingBox=function(t,e,i,n){return t=Number(t),e=Number(e),i=Number(i),n=Number(n),{type:"MultiPolygon",coordinates:[[[[e,t],[n,t],[n,i],[e,i]]]]}}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/controls/ResetZoomControl":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/jquery"),r=i("require/underscore"),s=i("shim/leaflet"),a=i("contrib/jg_lib/Class"),l=i("splunk/mapping/LatLon"),h=i("splunk/mapping/controls/ControlBase");i("splunk/vectors/Rect"),i("splunk/vectors/Text"),i("splunk/vectors/Viewport");return a(n.id,h,function(t,e){this.constructor=function(t){this.leafletOptions=t,e.constructor.call(this)},this.setOriginalZoom=function(t){this.leafletControl.originalZoom=parseInt(t,10)},this.setOriginalCenter=function(t){t=t.replace("(",""),t=t.replace(")","");var e=t.split(","),i=parseFloat(e[0]),n=parseFloat(e[1]);this.leafletControl.originalCenter=new l(i,n)},this.createLeafletControl=function(){return new i(this.leafletOptions)},this.onAddedToMap=function(t){e.onAddedToMap.call(this,t),this.leafletControl.setMap(t)};var i=s.Control.extend({options:{position:"topleft"},linkTemplate:'<a class="leaflet-reset-zoom" href="#" title="<%= resetZoomText %>" style="width: 15px; height:15px; padding: 2px; "> <svg version="1.1"\t                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t                    width="15px" height="15px" viewBox="0 0 15 15" enable-background="new 0 0 15 15" xml:space="preserve">\t                    <g>\t                        <ellipse fill="#333333" cx="7.586" cy="7.287" rx="2.313" ry="2.33"/>\t                        <path fill="#333333" d="M7.586,13.525c-3.384,0-6.136-2.753-6.136-6.136s2.753-6.136,6.136-6.136c3.385,0,6.136,2.753,6.136,6.136\t                            S10.969,13.525,7.586,13.525z M7.586,2.712c-2.579,0-4.677,2.098-4.677,4.677s2.098,4.677,4.677,4.677\t                            c2.58,0,4.677-2.098,4.677-4.677S10.165,2.712,7.586,2.712z"/>\t                        <rect y="6.429" fill="#333333" width="2.143" height="2.143"/>\t                        <rect x="12.857" y="6.429" fill="#333333" width="2.143" height="2.143"/>\t                        <rect x="6.429" y="12.857" fill="#333333" width="2.143" height="2.143"/>\t                        <rect x="6.429" fill="#333333" width="2.143" height="2.143"/>\t                    </g>\t                </svg></a>',initialize:function(t){this._button={},this.setButton();var e=r("Reset to original position and zoom").t();if(this.linkTemplate=r.template(this.linkTemplate),this.linkTemplate=this.linkTemplate({resetZoomText:e}),this.originalZoom=t.originalZoom?parseInt(t.originalZoom,10):2,t.originalCenter){this.originalCenter=t.originalCenter.replace("(",""),this.originalCenter=this.originalCenter.replace(")","");var i=this.originalCenter.split(","),n=parseFloat(i[0]),o=parseFloat(i[1]);this.originalCenter=new l(n,o)}else this.originalZoom=2},onAdd:function(t){this._map=t;var e=s.DomUtil.create("div","leaflet-reset-zoom leaflet-control-zoom");return this._container=e,this._update(),this._container},setButton:function(){var t={text:r("Reset Zoom").t()};this._button=t,this._update()},_update:function(){this._map&&(this._container.innerHTML="",this._makeButton(this._button))},_makeButton:function(t){var e=s.DomUtil.create("div","leaflet-reset-zoom",this._container);""!==t.text&&o(e).append(this.linkTemplate),o(e).find("a").on("focus",function(){o(this).css("background-color","rgba(212, 221, 254, 0.75)")}),o(e).find("a").on("focusout",function(){o(this).css("background-color","rgba(255, 255, 255, 0.75")}),o(e).on("click",function(t){t.stopPropagation(),t.preventDefault(),this.map.set("center",this.originalCenter),this.map.set("zoom",this.originalZoom)}.bind(this)),o(e).dblclick(function(t){t.stopPropagation()})},setMap:function(t){this.map=t}})})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/Rect":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/vectors/Shape"),s=i("splunk/vectors/VectorElement");return o(n.id,r,function(t,e){this.constructor=function(t,i,n,o){e.constructor.call(this)},this.x=function(t){return this},this.y=function(t){return this},this.width=function(t){return this},this.height=function(t){return this};var i=o(function(t){this.constructor=function(t,i,n,o){e.constructor.call(this,"rect"),null!=t&&this.x(t),null!=i&&this.y(i),null!=n&&this.width(n),null!=o&&this.height(o)},this.x=function(t){return null!=t&&t>-(1/0)&&t<1/0?this.element.setAttribute("x",t):this.element.removeAttribute("x"),this},this.y=function(t){return null!=t&&t>-(1/0)&&t<1/0?this.element.setAttribute("y",t):this.element.removeAttribute("y"),this},this.width=function(t){return null!=t&&t<1/0?this.element.setAttribute("width",Math.max(t,0)):this.element.removeAttribute("width"),this},this.height=function(t){return null!=t&&t<1/0?this.element.setAttribute("height",Math.max(t,0)):this.element.removeAttribute("height"),this}}),n=o(function(t){this.constructor=function(t,i,n,o){e.constructor.call(this,"rect"),null!=t&&this.x(t),null!=i&&this.y(i),null!=n&&this.width(n),null!=o&&this.height(o)},this.x=function(t){return null!=t&&t>-(1/0)&&t<1/0?this.element.style.left=Math.round(t)+"px":this.element.style.left="",this},this.y=function(t){return null!=t&&t>-(1/0)&&t<1/0?this.element.style.top=Math.round(t)+"px":this.element.style.top="",this},this.width=function(t){return null!=t&&t<1/0?this.element.style.width=Math.round(Math.max(t,0))+"px":this.element.style.width="",this},this.height=function(t){return null!=t&&t<1/0?this.element.style.height=Math.round(Math.max(t,0))+"px":this.element.style.height="",this}});s.mixin(this,i,n)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/vectors/Text":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/geom/Rectangle"),s=i("splunk/vectors/Shape"),a=i("splunk/vectors/VectorElement");return o(n.id,s,function(t,e){this.constructor=function(t,i,n){e.constructor.call(this)},this.x=function(t){return this},this.y=function(t){return this},this.text=function(t){return this},this.alignmentBaseline=function(t){return this},this.baselineShift=function(t){return this},this.direction=function(t){return this},this.dominantBaseline=function(t){return this},this.fontFamily=function(t){return this},this.fontSize=function(t){return this},this.fontSizeAdjust=function(t){return this},this.fontStretch=function(t){return this},this.fontStyle=function(t){return this},this.fontVariant=function(t){return this},this.fontWeight=function(t){return this},this.glyphOrientationHorizontal=function(t){return this},this.glyphOrientationVertical=function(t){return this},this.kerning=function(t){return this},this.letterSpacing=function(t){return this},this.textAnchor=function(t){return this},this.textDecoration=function(t){return this},this.textRendering=function(t){return this},this.unicodeBidi=function(t){return this},this.wordSpacing=function(t){return this},this.writingMode=function(t){return this},this.getBounds=function(){return new r};var i=o(function(t){this.constructor=function(t,i,n){e.constructor.call(this,"text"),this.fillColor(0),null!=t&&this.x(t),null!=i&&this.y(i),null!=n&&this.text(n)},this.x=function(t){return null!=t&&t>-(1/0)&&t<1/0?this.element.setAttribute("x",t):this.element.removeAttribute("x"),this},this.y=function(t){return null!=t&&t>-(1/0)&&t<1/0?this.element.setAttribute("y",t):this.element.removeAttribute("y"),this},this.text=function(t){return this.element.textContent=t?t:"",this},this.alignmentBaseline=function(t){return t?this.element.setAttribute("alignment-baseline",t):this.element.removeAttribute("alignment-baseline"),this},this.baselineShift=function(t){return t?this.element.setAttribute("baseline-shift",t):this.element.removeAttribute("baseline-shift"),this},this.direction=function(t){return t?this.element.setAttribute("direction",t):this.element.removeAttribute("direction"),this},this.dominantBaseline=function(t){return t?this.element.setAttribute("dominant-baseline",t):this.element.removeAttribute("dominant-baseline"),this},this.fontFamily=function(t){return t?this.element.setAttribute("font-family",t):this.element.removeAttribute("font-family"),this},this.fontSize=function(t){return t?this.element.setAttribute("font-size",t):this.element.removeAttribute("font-size"),this},this.fontSizeAdjust=function(t){return t?this.element.setAttribute("font-size-adjust",t):this.element.removeAttribute("font-size-adjust"),this},this.fontStretch=function(t){return t?this.element.setAttribute("font-stretch",t):this.element.removeAttribute("font-stretch"),this},this.fontStyle=function(t){return t?this.element.setAttribute("font-style",t):this.element.removeAttribute("font-style"),this},this.fontVariant=function(t){return t?this.element.setAttribute("font-variant",t):this.element.removeAttribute("font-variant"),this},this.fontWeight=function(t){return t?this.element.setAttribute("font-weight",t):this.element.removeAttribute("font-weight"),this},this.glyphOrientationHorizontal=function(t){return t?this.element.setAttribute("glyph-orientation-horizontal",t):this.element.removeAttribute("glyph-orientation-horizontal"),this},this.glyphOrientationVertical=function(t){return t?this.element.setAttribute("glyph-orientation-vertical",t):this.element.removeAttribute("glyph-orientation-vertical"),this},this.kerning=function(t){return t?this.element.setAttribute("kerning",t):this.element.removeAttribute("kerning"),this},this.letterSpacing=function(t){return t?this.element.setAttribute("letter-spacing",t):this.element.removeAttribute("letter-spacing"),this},this.textAnchor=function(t){return t?this.element.setAttribute("text-anchor",t):this.element.removeAttribute("text-anchor"),this},this.textDecoration=function(t){return t?this.element.setAttribute("text-decoration",t):this.element.removeAttribute("text-decoration"),this},this.textRendering=function(t){return t?this.element.setAttribute("text-rendering",t):this.element.removeAttribute("text-rendering"),this},this.unicodeBidi=function(t){return t?this.element.setAttribute("unicode-bidi",t):this.element.removeAttribute("unicode-bidi"),this},this.wordSpacing=function(t){return t?this.element.setAttribute("word-spacing",t):this.element.removeAttribute("word-spacing"),this},this.writingMode=function(t){return t?this.element.setAttribute("writing-mode",t):this.element.removeAttribute("writing-mode"),this},this.getBounds=function(){try{var t=this.element.getBBox();return new r(t.x,t.y,t.width,t.height)}catch(t){return new r}}}),n=o(function(t){});a.mixin(this,i,n)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/axis/NumericAxis":function(t,e,i){var n;n=function(t,e,n){var o=i("contrib/jg_lib/Class"),r=i("splunk/mapping/axis/BaseAxis");return o(n.id,r,function(t,e){this.valueToAbsolute=function(t){if(null===t||""===t)return NaN;var e=Number(t);return e>-(1/0)&&e<1/0?e:NaN},this.absoluteToValue=function(t){return t},this.processValues=function(t){for(var e=[],i=0;i<t.length;i++){var n=this.valueToAbsolute(t[i]);isNaN(n)||e.push(n)}return e}})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/controls/NumericalLegend":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/jquery"),r=i("require/underscore"),s=i("stubs/i18n"),a=i("shim/leaflet"),l=i("contrib/jg_lib/Class"),h=i("contrib/jg_lib/async/Pass"),u=i("contrib/jg_lib/graphics/Color"),c=i("contrib/jg_lib/properties/ObservableProperty"),p=i("splunk/mapping/axis/BaseAxis"),d=i("splunk/mapping/controls/ControlBase"),m=i("splunk/palettes/ColorPalette"),f=(i("splunk/palettes/ListColorPalette"),i("util/math_utils")),g=i("util/svg");return l(n.id,d,function(t,e){var i=5,n=16,l=12,d=7,_=12,v=35,y=12,b=16,w=v-y-b,x=12,P=l+b+w+_,L=10,C=20;this.computeExtendedPass=new h("computeExtended",.121),this.axis=new c("axis",p,null).onChange(function(t){t.target===this?(t.oldValue&&t.oldValue.unregister(this),t.newValue&&(t.newValue.register(this),this.invalidate("computeExtendedPass")),this.invalidate("renderPass")):!t.property||t.property!==t.target.containedMinimum&&t.property!==t.target.containedMaximum?!t.property||t.property!==t.target.extendedMinimum&&t.property!==t.target.extendedMaximum||this.invalidate("renderPass"):this.invalidate("computeExtendedPass")}),this.bins=new c("bins",Number,5).writeFilter(function(t){return isNaN(t)?5:Math.min(Math.max(Math.floor(t),1),9)}).onChange(function(t){this.invalidate("computeExtendedPass"),this.invalidate("renderPass")}),this.neutralPoint=new c("neutralPoint",Number,NaN).writeFilter(function(t){return t>-(1/0)&&t<1/0?t:NaN}).onChange(function(t){this.invalidate("computeExtendedPass"),this.invalidate("renderPass")}),this.colorPalette=new c("colorPalette",m,null).onChange(function(t){this.invalidate("renderPass")}),this.selectedField=new c("selectedField",String,null).onChange(function(t){this.invalidate("renderPass")}),this.constructor=function(t){this.leafletOptions=t?t:{},e.constructor.call(this)},this.computeExtended=function(){var t=this.get("axis");if(t){var e=t.get("containedMinimum"),i=t.get("containedMaximum");if(!r.isFinite(e)||!r.isFinite(i))return void t.provideExtendedRange(this,NaN,NaN);var n,o,s,a=this.getInternal("bins"),l=this.getInternal("neutralPoint"),h=!r.isNaN(l),u=i>e,c=i-e,p=[1,2,2.5,3,4,5,6,7,7.5,8,9,10];if(u){var d=c/a;n=f.nearestPowerOfTen(d),s=r(p).find(function(t){return t*n>=d}),o=s*n}else o=f.nearestPowerOfTen(e||1);var m,g,_;if(u)if(h)_=o*(a/2),m=l-_,g=l+_;else for(m=Math.floor(e/n)*n,g=m+a*o;g<i;)s=p[r(p).indexOf(s)+1]||s+1,o=s*n,g=m+a*o;else _=o*(a/2),m=e-_,g=e+_;t.provideExtendedRange(this,m,g)}},this.render=function(){var t=this.leafletControl.getContainer();if(o(t).empty(),this.getInternal("isVisible")){var e=this.get("axis");if(e){var r=e.get("extendedMinimum"),a=e.get("extendedMaximum");if(r!==1/0&&a!==-(1/0)){var h=this.getInternal("bins"),c=n*h+C-x+i,p=l;this.svg=g.createElement("svg").attr("height",c).attr("fill","rgba(0,0,0,1)");for(var m,_,v,y,b,w,M=g.createElement("g").attr("class","svg-labels").attr("height",c),T=g.createElement("g").attr("class","svg-colors"),k=g.createElement("rect").attr("class","background").attr("height",c).attr("fill","rgb(255,255,255)").attr("fill-opacity","0.75"),A=(a-r)/h,E=this.getInternal("colorPalette"),N=this.getInternal("selectedField"),S="",D=Math.max(h-1,0),B=0;B<h;B++)m=C+B*n,y=f.stripFloatingPointErrors(r+B*A),b=f.stripFloatingPointErrors(y+A),v=s.format_decimal(y)+" - "+s.format_decimal(b),E?(w=D>0?B/D:0,_=E.getItem(w,D)||new u):_=new u,M.append(this._drawRow({label:v,y:m,lower:y},N)),T.append(this._drawColor(m-L,_,y,N)),v.length>S.length&&(S=v);p+=P+S.length*d,o(this.svg).attr("width",p),o(k).attr("width",p),this.svg.append(k),this.svg.append(M),this.svg.append(T),o(t).append(this.svg),this._adjustLegend(p)}}}},this.getContainer=function(){return this.leafletControl.getContainer()},this.createLeafletControl=function(){return new M(this.leafletOptions)},this._adjustLegend=function(){for(var t=o(this.svg[0]).find(".svg-label text"),e=t[0],i=0,n=0;n<t.length;n++)t[n].getBBox().width>i&&(e=t[n],i=e.getBBox().width);if(e){var r=P+i;o(this.svg).attr("width",r),o(this.svg).find(".background").attr("width",r)}},this._drawRow=function(t,e){var i,n,o=null!=e&&e!==""+t.lower;return i=g.createElement("g").attr("class","svg-label legend-label legend-elem").data("fieldName",t.lower),n=g.createElement("text").attr({y:t.y,x:v}).attr("fill-opacity",o?.3:1).text(t.label).css({"font-size":"12px","font-weight":"regular",fill:"#333333","padding-top":"12px",cursor:"default"}),i.append(n),i},this._drawColor=function(t,e,i,n){var o=null!=n&&n!==""+i,r=e.toString("rgb"),s=g.createElement("rect").attr("height",x).attr("width",b).attr("y",t).attr("x",y).attr("fill",o?"rgb(51,51,51)":r).attr("fill-opacity",o?.1:1).attr("class","legend-color legend-elem").data("fieldName",i).attr("stroke",o?"rgb(51,51,51)":r).attr("stroke-opacity",o?.1:1).css("cursor","default");return"rgb(255,255,255)"===r&&s.attr("stroke","rgb(204,204,204)"),s};var M=a.Control.extend({options:{position:"bottomright"},initialize:function(t){this.container=a.DomUtil.create("div","legend"),o(this.container).css("pointer-events","visiblepainted")},onAdd:function(t){return this.container},getContainer:function(){return this.container}})})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"splunk/mapping/controls/CategoricalVisualLegend":function(t,e,i){var n;n=function(t,e,n){var o=i("shim/jquery"),r=i("shim/leaflet"),s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/graphics/Color"),l=i("contrib/jg_lib/properties/ObservableProperty"),h=i("splunk/charting/Legend"),u=i("splunk/mapping/controls/ControlBase"),c=i("splunk/palettes/ColorPalette"),p=i("util/svg");return s(n.id,u,function(t,e){var i=16,n=5,s=15,u=12,d=7,m=12,f=35,g=12,_=16,v=f-g-_,y=12,b=u+_+v+m,w=10,x=20,P=200-s-x;this.colorPalette=new l("colorPalette",c,null).onChange(function(t){this.invalidate("renderPass")}),this.legend=new l("legend",h,null).onChange(function(t){this.invalidate("renderPass")}),this.maxHeight=new l("maxHeight",Number,1/0).onChange(function(t){this.invalidate("renderPass")}),this.clip=new l("clip",Boolean,!1).onChange(function(t){this.invalidate("renderPass")}),this.selectedField=new l("selectedField",String,null).onChange(function(t){this.invalidate("renderPass")}),this.render=function(){var t=this.leafletControl.getContainer();if(o(t).empty(),this.getInternal("isVisible")){var e=this.getInternal("legend"),r=[];if(e&&(r=e.get("actualLabels")),r&&r.length>0){var s=i*r.length+x-y+n;s=Math.min(s,this.getInternal("maxHeight")-x-n),this.svg=p.createElement("svg").attr("height",s);var a=p.createElement("g").attr("class","svg-labels").attr("height",s),l=p.createElement("g").attr("class","svg-colors"),h=p.createElement("rect").attr("class","background").attr("height",s).attr("fill","rgb(255,255,255)").attr("fill-opacity","0.75");this.getInternal("clip")&&(this.svg.append('\t                        <defs>\t                            <clipPath id="choropleth-legend-clip">\t                                <rect class="clip" x="0" y="0"></rect>\t                            </clipPath>\t                        </defs>'),this.svg.find(".clip").attr("height",s),a.attr("clip-path","url(#choropleth-legend-clip)"),l.attr("clip-path","url(#choropleth-legend-clip)"));for(var c=this.getInternal("selectedField"),m=u,f="",g=0;g<r.length;g++){0==g&&(f=r[g]),r[g].length>f.length&&(f=r[g]);var _=x+g*i;a.append(this._drawRow({label:r[g],y:_},c)),l.append(this._drawColor(_-w,g,r[g],c))}m+=b+f.length*d,o(this.svg).attr("width",m),o(h).attr("width",m),s>P&&(o(t).css("overflow-y","scroll"),o(t).css("overflow-x","hidden"),o(t).css("height",P)),this.svg.append(h),this.svg.append(a),this.svg.append(l),o(t).append(this.svg),this._adjustLegend()}}},this.getContainer=function(){return this.leafletControl.getContainer()},this.createLeafletControl=function(){return new L(this.leafletOptions)},this._adjustLegend=function(){for(var t=o(this.svg[0]).find(".svg-label text"),e=t[0],i=0,n=0;n<t.length;n++)t[n].getBBox().width>i&&(e=t[n],i=e.getBBox().width);if(e){var r=b+i;o(this.svg).attr("width",r),o(this.svg).find(".background").attr("width",r),this.getInternal("clip")&&this.svg.find(".clip").attr("width",r)}},this._drawColor=function(t,e,i,n){var o=null!=n&&n!==""+i,r=this.getInternal("legend");if(r){var s=this.getInternal("colorPalette"),l="rgb(0,0,0)";if(s){var h=Math.max(r.getNumLabels()-1,0),u=h>0?r.getLabelIndex(i)/h:0;l=(s.getItem(u,h,i)||new a).toString("rgb")}var c=p.createElement("rect").attr("height",y).attr("width",_).attr("y",t).attr("x",g).attr("class","legend-color legend-elem").attr("stroke",o?"rgb(51,51,51)":l).attr("stroke-opacity",o?.1:1).attr("fill",o?"rgb(51,51,51)":l).attr("fill-opacity",o?.1:1).data("fieldName",i).css("cursor","default");return"rgb(255,255,255)"===l&&c.attr("stroke","rgb(204,204,204)"),c}},this._drawRow=function(t,e){var i,n,o=null!=e&&e!==""+t.label;return i=p.createElement("g").attr("class","svg-label legend-label legend-elem").data("fieldName",t.label),n=p.createElement("text").attr({y:t.y,x:f}).attr("fill-opacity",o?.3:1).text(t.label).css({"font-size":"12px",fill:"#333333","font-weight":"regular","padding-top":"12px",cursor:"default"}),i.append(n),i};var L=r.Control.extend({options:{position:"bottomright"},initialize:function(t){this.container=r.DomUtil.create("div","legend"),r.DomEvent.disableClickPropagation(this.container),o(this.container).css("pointer-events","visiblepainted")},onAdd:function(t){return this.container},getContainer:function(){return this.container}})})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},"views/shared/map/Master.pcss":function(t,e,i){var n=i(241);"string"==typeof n&&(n=[[t.id,n,""]]);i(59)(n,{});n.locals&&(t.exports=n.locals)},241:function(t,e,i){e=t.exports=i(58)(),e.push([t.id,".leaflet-reset-zoom-icon{padding-top:2px;display:block;margin:auto}@media print{.leaflet-reset-zoom{display:none}}.leaflet-control-zoom-in:focus,.leaflet-control-zoom-out:focus{box-shadow:0 0 0 2px rgba(61,171,255,.12);background-color:rgba(61,171,255,.12);outline:0}","",{version:3,sources:["/./bower_components/SplunkWebCore/search_mrsparkle/exposed/js/views/shared/map/Master.pcss","/./bower_components/SplunkWebCore/search_mrsparkle/exposed/pcss/base/mixins-enterprise.pcss"],names:[],mappings:"AAAA,yBACC,gBAAiB,AACjB,cAAe,AACf,WAAa,CACb,AAED,aACC,oBACC,YAAc,CACd,CAED,AAED,+DC8FC,0CAAgD,AAChD,sCAA4C,AAC5C,SAAW,CD9FX",file:"Master.pcss",sourcesContent:[".leaflet-reset-zoom-icon {\n\tpadding-top: 2px;\n\tdisplay: block;\n\tmargin: auto;\n}\n\n@media print {\n\t.leaflet-reset-zoom {\n\t\tdisplay: none;\n\t}\n\n}\n\n.leaflet-control-zoom-in:focus, .leaflet-control-zoom-out:focus{\n\t@mixin focus-link;\n}",'/*  Splunk: Mixins */\n/*  ================== */\n/*  Snippets of reusable CSS to develop faster and keep code readable */\n\n@import "mixins-shared.pcss";\n\n/*  Interactive */\n/*  -------------------------------------------------- */\n/*  These are by any element that can be clicked, such as buttons, menus and table headings. */\n@define-mixin interactive  {\n\t@mixin gradient-vertical $interactiveGradientStartColor, $interactiveGradientEndColor;\n\tbackground-color: $interactiveBackgroundColor;\n\tborder: 1px solid $interactiveBorderColor;\n\tborder-top-color: $interactiveBorderTopColor;\n\tborder-bottom-color: $interactiveBorderBottomColor;\n\n\tcolor: $textColor;\n\tbox-shadow: $interactiveBoxShadow;\n\ttext-shadow: none;\n}\n\n/*  Hover state */\n@define-mixin interactive-hover  {\n\t@mixin gradient-vertical $interactiveGradientStartColorHover, $interactiveGradientEndColorHover;\n\tbackground-color: $interactiveBackgroundColorHover;\n\tborder-color: $interactiveBorderColorHover;\n\tborder-top-color: $interactiveBorderTopColorHover;\n\tborder-bottom-color: $interactiveBorderBottomColorHover;\n\tbackground-position: 0 0;\n\tbox-shadow: $interactiveBoxShadowHover;\n\tcolor: $textColor;\n    text-decoration:none;\n}\n\n/*  Interactive Error */\n/*  These are by any interactive element that is is in an error state */\n@define-mixin interactive-error  {\n\t/* .gradient-vertical($interactiveErrorGradientStartColor, $interactiveErrorGradientEndColor); */\n\tbackground-color: $interactiveErrorBackgroundColor;\n\tborder-color: $interactiveErrorBorderColor;\n\tcolor: $interactiveErrorTextColor;\n\ttext-shadow: none;\n}\n@define-mixin interactive-error-hover  {\n\t/* .gradient-vertical($interactiveErrorGradientStartColorHover, $interactiveErrorGradientEndColorHover); */\n\tbackground-color: $interactiveErrorBackgroundColorHover;\n\tborder-color: $interactiveErrorBorderColorHover;\n\tcolor: $interactiveErrorTextColor;\n}\n\n\n/*  primary */\n@define-mixin interactive-primary  {\n\t@mixin gradient-vertical $primaryGradientStartColor, $primaryGradientEndColor;\n\tbackground-color: $splunkGreen;\n\tborder: 1px solid $primaryBorderColor;\n\tborder-bottom-color: $primaryBorderBottomColor;\n\tborder-top-color: $primaryBorderTopColor;\n\tcolor: $primaryTextColor;\n\tbox-shadow: $primaryBoxShadow;\n\ttext-shadow: none;\n}\n\n/*  primary hover state */\n@define-mixin interactive-primary-hover  {\n\t@mixin gradient-vertical $primaryGradientStartColorHover, $primaryGradientEndColorHover;\n\tbackground-color: $primaryBackgroundColorHover;\n\tborder-color: $primaryBorderColorHover;\n\tborder-bottom-color: $primaryBorderBottomColorHover;\n\tborder-top-color: $primaryBorderTopColorHover;\n\tbox-shadow: $primaryBoxShadowHover;\n\tcolor: $primaryTextColor;\n    text-decoration:none;\n}\n\n/* Overlays (Modal, Popdown, Search Assistant) */\n@define-mixin overlay-box-shadow  {\n\tbox-shadow: 0 3px 7px rgba(0,0,0,0.3);\n}\n\n\n/*  Focus States */\n/*  ----------------------------- */\n\n/*  Text entry boxes change their border color and glow */\n@define-mixin focus-field  {\n\tborder-color: color($focusColor a(80%));\n\toutline: 0;\n\tborder-collapse: separate; /* Fix IE9 Issue with box-shadow */\n\tbox-shadow: 0 0 8px color($focusColor a(60%));\n}\n\n/*  Clickable buttons change their border color and glow */\n@define-mixin focus-button  {\n\t@mixin focus-field;\n\tbackground-position: 0;  /*  bootstrap tries to animate this on hover & focus */\n}\n\n/*  Block elements change the background color */\n@define-mixin focus-pill  {\n\toutline: 0;\n\ttext-decoration: none;\n\tbackground: $pillBackgroundColorFocus;\n\tbox-shadow: none; /* override default focus-link() */\n}\n/*  Block elements change the background color and spread via box-shadow */\n@define-mixin focus-link  {\n\tbox-shadow: 0 0 0 2px $pillBackgroundColorFocus;\n\tbackground-color: $pillBackgroundColorFocus;\n\toutline: 0;\n}\n\n/*  Docking Elements */\n/*  ------------------ */\n@define-mixin affix-top-shadow {\n\tbox-shadow: 0 4px 8px rgba(0,0,0,0.2)\n}\n\n/*  Webkit-style focus */\n/*  ------------------ */\n@define-mixin tab-focus  {\n\t/*  Default */\n\toutline: thin dotted $grayDark;\n\t/*  Webkit */\n\toutline: 3px auto -webkit-focus-ring-color;\n\toutline-offset: -2px;\n}\n\n/*  Draggable Handle */\n@define-mixin draggable-handle-background  {\n\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2M0Njb+f/bsWUYYzciABuAyOFUAAKKMEAXhn6ySAAAAAElFTkSuQmCC) repeat;\n\topacity: 0.5;\n\tcursor: move;\n}\n'],sourceRoot:"webpack://"}])}});